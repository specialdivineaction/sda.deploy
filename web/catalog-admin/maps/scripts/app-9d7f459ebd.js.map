{"version":3,"sources":["scripts/app-9d7f459ebd.js"],"names":[],"mappings":"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","file":"scripts/app-9d7f459ebd.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('sdaAdminWeb', [\n      'ngAnimate',\n      'ngCookies',\n      // 'ngTouch',\n      'ngSanitize',\n      'ngMessages',\n      'ngAria',\n      'ngResource',\n      'ui.router',\n      'toastr',\n      'ngMaterial',\n      'slideToggle',\n      'trcWorks',\n      'trcTasks'\n    ]);\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('sdaAdminWeb')\n    .directive('workEditor', workEditorDirective);\n\n  /** @ngInject */\n  function workEditorDirective() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/bulk/components/work-editor/work-editor.html',\n      scope: {\n        work: '=ngModel'\n      },\n      controller: WorkEditorController,\n      controllerAs: 'vm'\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function WorkEditorController($scope, worksRepo, _) {\n      var vm = this;\n\n      vm.editions = [];\n\n      vm.createEdition = createEdition;\n      vm.deleteEdition = deleteEdition;\n\n      activate();\n\n      function activate() {\n        $scope.work.editions.forEach(function (edition) {\n          vm.editions.push({\n            model: edition,\n            focused: false\n          });\n        });\n      }\n\n      function createEdition() {\n        var edition = worksRepo.createEdition();\n        edition.titles = _.cloneDeep($scope.work.titles);\n        edition.authors = _.cloneDeep($scope.work.authors);\n        edition.otherAuthors = _.cloneDeep($scope.work.otherAuthors);\n\n        $scope.work.editions.push(edition);\n        vm.editions.push({\n          model: edition,\n          focused: true\n        });\n      }\n\n      function deleteEdition(ix) {\n        vm.editions.splice(ix, 1);\n        $scope.work.editions.splice(ix, 1);\n      }\n    }\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('sdaAdminWeb')\n    .directive('workEditorItem', workEditorItemDirective);\n\n  /** @ngInject */\n  function workEditorItemDirective($log) {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/bulk/components/work-editor/work-editor-item.html',\n      link: linkFunc,\n      scope: {\n        id: '=id'\n      },\n      controller: WorkEditorItemController,\n      controllerAs: 'vm'\n    };\n\n    return directive;\n\n    function linkFunc($scope) {\n      if (!$scope.id) {\n        $log.error('missing required attribute \"id\"');\n      }\n    }\n\n    /** @ngInject */\n    function WorkEditorItemController($scope, worksRepo) {\n      var vm = this;\n\n      vm.loaded = false;\n\n      activate();\n\n      function activate() {\n        if ($scope.id) {\n          vm.work = worksRepo.get($scope.id);\n          vm.work.$promise.then(function () {\n            vm.loaded = true;\n          });\n        }\n      }\n    }\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('sdaAdminWeb')\n    .directive('volumeEditor', volumeEditorDirective);\n\n  /** @ngInject */\n  function volumeEditorDirective() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/bulk/components/volume-editor/volume-editor.html',\n      scope: {\n        volume: '=ngModel'\n      }\n    };\n\n    return directive;\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('sdaAdminWeb')\n    .directive('titleEditor', titleEditorDirective);\n\n  /** @ngInject */\n  function titleEditorDirective() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/bulk/components/title-editor/title-editor.html',\n      scope: {\n        title: '=ngModel'\n      }\n    };\n\n    return directive;\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('sdaAdminWeb')\n    .directive('summaryEditor', summaryEditorDirective);\n\n  /** @ngInject */\n  function summaryEditorDirective() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/bulk/components/summary-editor/summary-editor.html',\n      scope: {\n        summary: '=ngModel'\n      }\n    };\n\n    return directive;\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('sdaAdminWeb')\n    .directive('publicationInfoEditor', publicationInfoEditorDirective);\n\n  /** @ngInject */\n  function publicationInfoEditorDirective() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/bulk/components/publication-info-editor/publication-info-editor.html',\n      scope: {\n        pubInfo: '=ngModel'\n      }\n    };\n\n    return directive;\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('sdaAdminWeb')\n    .directive('editionEditor', editionEditorDirective);\n\n  /** @ngInject */\n  function editionEditorDirective() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/bulk/components/edition-editor/edition-editor.html',\n      scope: {\n        edition: '=ngModel'\n      },\n      controller: EditionEditorController,\n      controllerAs: 'vm'\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function EditionEditorController($scope, worksRepo, _) {\n      var vm = this;\n\n      vm.volumes = [];\n\n      vm.createVolume = createVolume;\n      vm.deleteVolume = deleteVolume;\n\n      activate();\n\n      function activate() {\n        $scope.edition.volumes.forEach(function (volume) {\n          vm.volumes.push({\n            model: volume,\n            focused: false\n          });\n        });\n      }\n\n      function createVolume() {\n        var volume = worksRepo.createVolume();\n        volume.titles = _.cloneDeep($scope.edition.titles);\n        volume.authors = _.cloneDeep($scope.edition.authors);\n        volume.otherAuthors = _.cloneDeep($scope.edition.otherAuthors);\n        volume.publicationInfo = _.cloneDeep($scope.edition.publicationInfo);\n\n        $scope.edition.volumes.push(volume);\n        vm.volumes.push({\n          model: volume,\n          focused: true\n        });\n      }\n\n      function deleteVolume(ix) {\n        vm.volumes.splice(ix, 1);\n        $scope.edition.volumes.splice(ix, 1);\n      }\n    }\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('sdaAdminWeb')\n    .directive('dateEditor', dateEditorDirective);\n\n  /** @ngInject */\n  function dateEditorDirective() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/bulk/components/date-editor/date-editor.html',\n      scope: {\n        date: '=ngModel'\n      }\n    };\n\n    return directive;\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('sdaAdminWeb')\n    .directive('copyEditor', copyEditorDirective);\n\n  /** @ngInject */\n  function copyEditorDirective() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/bulk/components/copy-editor/copy-editor.html',\n      scope: {\n        copy: '=ngModel'\n      },\n      controller: CopyEditorController,\n      controllerAs: 'vm'\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function CopyEditorController($scope) {\n      var vm = this;\n\n      vm.refHandlers = {};\n      vm.setProperties = parseProperties;\n\n      activate();\n\n      function activate() {\n        addHandler(HathiTrustRefHandler());\n        addHandler(GoogleBooksRefHandler());\n      }\n\n      function addHandler(handler) {\n        vm.refHandlers[handler.id] = handler;\n      }\n\n      function parseProperties(type, url) {\n        if (vm.refHandlers[type]) {\n          $scope.copy.properties = vm.refHandlers[type](url);\n        }\n\n        $scope.copyForm.url.$setValidity(type, $scope.copy.properties != null);\n      }\n    }\n  }\n\n  function HathiTrustRefHandler() {\n    function handle(url) {\n      var parsed = parseUrl(url);\n      if (!parsed) {\n        return null;\n      }\n\n      var id, seq;\n\n      switch (parsed.hostname) {\n        case 'babel.hathitrust.org':\n          id = parsed.query.id;\n          seq = parsed.query.seq;\n          break;\n\n        case 'hdl.handle.net':\n          id = parsed.path.substr(parsed.path.lastIndexOf('/') + 1);\n\n          if (!parsed.query.urlappend) {\n            break;\n          }\n\n          var subquery = parseQueryString(parsed.query.urlappend);\n          if (!subquery) {\n            break;\n          }\n          seq = subquery.seq;\n          break;\n      }\n\n      if (!id) {\n        return null;\n      }\n\n      return {\n        htid: id,\n        seq: seq\n      };\n    }\n\n    handle.id = 'hathitrust';\n    handle.display = 'HathiTrust';\n\n    return handle;\n  }\n\n  function GoogleBooksRefHandler() {\n    function handle(url) {\n      var parsed = parseUrl(url);\n      if (!parsed) {\n        return null;\n      }\n\n      switch (parsed.hostname) {\n        case 'books.google.com':\n          var id = parsed.query.id;\n          var section = parsed.query.printsec;\n          var page = parsed.query.pg;\n          break;\n      }\n\n      if (!id) {\n        return null;\n      }\n\n      return {\n        id: id,\n        section: section,\n        page: page\n      };\n    }\n\n    handle.id = 'googlebooks';\n    handle.display = 'Google Books';\n\n    return handle;\n  }\n\n  /**\n   * Parses a URL string into its components\n   *\n   * @param  {string} url\n   * @return {URL}\n   */\n  function parseUrl(url) {\n    if (!url) {\n      return null;\n    }\n\n    var parser = document.createElement('a');\n    parser.href = url;\n\n    return {\n      toString: function() {\n        return url;\n      },\n      protocol: parser.protocol,\n      host: parser.host,\n      hostname: parser.hostname,\n      port: parser.port,\n      path: parser.pathname,\n      query: parseQueryString(parser.search),\n      fragment: parser.hash\n    };\n  }\n\n  /**\n   * Parses a query string into key/value pairs\n   *\n   * @param {string} query\n   * @return {object.<string,any>}\n   */\n  function parseQueryString(query, sep) {\n    if (!query || !angular.isString(query)) {\n      return {};\n    }\n\n    // remove leading '?'\n    if (query[0] === '?') {\n      query = query.substr(1);\n    }\n\n    // attempt to auto-detect separator\n    if (!sep) {\n      // auto-detection \"bitmask\"\n      // 0 = none detected -- prefer '&'\n      // 1 = only ';' detected -- use it\n      // 2 = only '&' detected -- use it\n      // 3 = both detected -- prefer '&'\n      var flags = (query.indexOf(';') >= 0 ? 1 : 0) + (query.indexOf('&') >= 0 ? 2 : 0);\n      sep = flags === 1 ? ';' : '&';\n    }\n\n    var parsed = {};\n\n    var kvpairs = query.split(sep);\n    kvpairs.forEach(function (pair) {\n      var ix = pair.indexOf('=');\n      var key = pair;\n      var value = null;\n\n      if (!key) {\n        return;\n      }\n\n      if (ix >= 0) {\n        key = pair.substr(0, ix);\n        value = pair.substr(ix + 1);\n      }\n\n      try {\n        key = decodeURIComponent(key);\n        value = decodeURIComponent(value);\n      } catch (URIError) {\n        return;\n      }\n\n      // TODO: handle key array/map notation\n\n      if (parsed.hasOwnProperty(key)) {\n        // convert repeated keys into an array\n        if (angular.isArray(parsed[key])) {\n          parsed[key].push(value);\n        } else {\n          parsed[key] = [parsed[key], value];\n        }\n      } else {\n        parsed[key] = value;\n      }\n    });\n\n    return parsed;\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('sdaAdminWeb')\n    .directive('authorRefEditor', authorRefEditorDirective);\n\n  /** @ngInject */\n  function authorRefEditorDirective() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/bulk/components/author-ref-editor/author-ref-editor.html',\n      scope: {\n        ref: '=ngModel'\n      }\n    };\n\n    return directive;\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('sdaAdminWeb')\n    .controller('ShowWorkController', EditWorkController);\n\n  /** @ngInject */\n  function EditWorkController($state, $stateParams, worksRepo, $mdDialog, $mdToast) {\n    var vm = this;\n\n    vm.loading = true;\n    vm.work = null;\n    vm.title = null;\n\n    vm.addCopy = addCopy;\n    vm.editCopy = editCopy;\n    vm.deleteCopy = deleteCopy;\n\n    activate();\n\n    function activate() {\n      vm.work = worksRepo.get($stateParams.workId);\n\n      vm.work.$promise.then(function () {\n        vm.bcTitle = worksRepo.getTitle(vm.work.titles, ['short', 'canonical', 'bibliographic']);\n        vm.title = worksRepo.getTitle(vm.work.titles, ['bibliographic', 'canonical', 'short']);\n\n        vm.loading = false;\n      });\n    }\n\n    function addCopy($event) {\n      var copy = {};\n      editCopy(copy, $event).then(function () {\n        vm.work.copies.push(copy);\n      });\n    }\n\n    function editCopy(copy, $event) {\n      var dialog = {\n        targetEvent: $event,\n        templateUrl: 'app/work/copy-edit-dialog.html',\n        locals: {\n          // create a copy for manipulation\n          copy: angular.copy(copy)\n        },\n        controller: 'CopyEditDialogController',\n        controllerAs: 'vm'\n      };\n\n      var dialogPromise = $mdDialog.show(dialog);\n\n      dialogPromise.then(function (updatedCopy) {\n        // copy updates back to original only after dialog is positively dismised (i.e. not canceled)\n        angular.extend(copy, updatedCopy);\n\n        save();\n      });\n\n      return dialogPromise;\n    }\n\n    function deleteCopy(copy, $event) {\n      var confirm = $mdDialog.confirm()\n        .targetEvent($event)\n        .title('Confirm Deletion')\n        .textContent('Are you sure you want to delete this copy?')\n        .ok('Yes')\n        .cancel('No');\n\n      $mdDialog.show(confirm)\n        .then(function () {\n          var ix = vm.work.copies.indexOf(copy);\n          vm.work.copies.splice(ix, 1);\n\n          save();\n        });\n    }\n\n    function save() {\n      var savePromise = worksRepo.save(vm.work);\n\n      savePromise.then(function () {\n        var toast = $mdToast.simple()\n          .textContent('Saved')\n          .position('bottom right');\n\n        $mdToast.show(toast);\n      });\n    }\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('sdaAdminWeb')\n    .controller('EditWorkController', EditWorkController);\n\n  /** @ngInject */\n  function EditWorkController($state, $stateParams, worksRepo) {\n    var vm = this;\n\n    vm.loading = true;\n\n    vm.work = worksRepo.get($stateParams.id);\n    vm.work.$promise.then(function () {\n      vm.loading = false;\n    });\n\n    vm.save = save;\n    vm.delete = deleteWork;\n\n    function save() {\n      worksRepo.save(vm.work);\n    }\n\n    function deleteWork() {\n      var promise = worksRepo.delete(vm.work.id);\n\n      promise.then(function () {\n        $state.go('work-new');\n      });\n    }\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('sdaAdminWeb')\n    .controller('ShowVolumeController', ShowVolumeController);\n\n  /** @ngInject */\n  function ShowVolumeController($state, $stateParams, worksRepo, _, $mdDialog, $mdToast) {\n    var vm = this;\n\n    vm.loading = true;\n    vm.work = null;\n    vm.workTitle = null;\n    vm.edition = null;\n    vm.volume = null;\n    vm.title = null;\n\n    vm.addCopy = addCopy;\n    vm.editCopy = editCopy;\n    vm.deleteCopy = deleteCopy;\n\n    activate();\n\n    function activate() {\n      vm.work = worksRepo.get($stateParams.workId);\n\n      vm.work.$promise.then(function () {\n        vm.workTitle = worksRepo.getTitle(vm.work.titles, ['short', 'canonical', 'bibliographic']);\n\n        vm.edition = _.find(vm.work.editions, { id: $stateParams.editionId });\n        if (!vm.edition) {\n          throw new Error('unable to find edition ' + $stateParams.editionId);\n        }\n\n        vm.volume = _.find(vm.edition.volumes, { id: $stateParams.volumeId });\n        if (!vm.volume) {\n          throw new Error('unable to find volume ' + $stateParams.volumeId);\n        }\n\n        vm.title = worksRepo.getTitle(vm.volume.titles, ['bibliographic', 'canonical', 'short']);\n\n        vm.loading = false;\n      });\n    }\n\n    function addCopy($event) {\n      var copy = {};\n      editCopy(copy, $event).then(function () {\n        vm.volume.copies.push(copy);\n      });\n    }\n\n    function editCopy(copy, $event) {\n      var dialog = {\n        targetEvent: $event,\n        templateUrl: 'app/work/copy-edit-dialog.html',\n        locals: {\n          // create a copy for manipulation\n          copy: angular.copy(copy)\n        },\n        controller: 'CopyEditDialogController',\n        controllerAs: 'vm'\n      };\n\n      var dialogPromise = $mdDialog.show(dialog);\n\n      dialogPromise.then(function (updatedCopy) {\n        // copy updates back to original only after dialog is positively dismised (i.e. not canceled)\n        angular.extend(copy, updatedCopy);\n\n        save();\n      });\n\n      return dialogPromise;\n    }\n\n    function deleteCopy(copy, $event) {\n      var confirm = $mdDialog.confirm()\n        .targetEvent($event)\n        .title('Confirm Deletion')\n        .textContent('Are you sure you want to delete this copy?')\n        .ok('Yes')\n        .cancel('No');\n\n      $mdDialog.show(confirm)\n        .then(function () {\n          var ix = vm.volume.copies.indexOf(copy);\n          vm.volume.copies.splice(ix, 1);\n\n          save();\n        });\n    }\n\n    function save() {\n      var savePromise = worksRepo.save(vm.work);\n\n      savePromise.then(function () {\n        var toast = $mdToast.simple()\n          .textContent('Saved')\n          .position('bottom right');\n\n        $mdToast.show(toast);\n      });\n    }\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('sdaAdminWeb')\n    .controller('ShowEditionController', ShowEditionController);\n\n  /** @ngInject */\n  function ShowEditionController($state, $stateParams, worksRepo, _, $mdDialog, $mdToast) {\n    var vm = this;\n\n    vm.loading = true;\n    vm.work = null;\n    vm.workTitle = null;\n    vm.edition = null;\n    vm.title = null;\n\n    vm.addCopy = addCopy;\n    vm.editCopy = editCopy;\n    vm.deleteCopy = deleteCopy;\n\n    activate();\n\n    function activate() {\n      vm.work = worksRepo.get($stateParams.workId);\n\n      vm.work.$promise.then(function () {\n        vm.workTitle = worksRepo.getTitle(vm.work.titles, ['short', 'canonical', 'bibliographic']);\n\n        vm.edition = _.find(vm.work.editions, { id: $stateParams.editionId });\n        if (!vm.edition) {\n          throw new Error('unable to find edition ' + $stateParams.editionId);\n        }\n\n        vm.title = worksRepo.getTitle(vm.edition.titles, ['bibliographic', 'canonical', 'short']);\n\n        vm.loading = false;\n      });\n    }\n\n    function addCopy($event) {\n      var copy = {};\n      editCopy(copy, $event).then(function () {\n        vm.edition.copies.push(copy);\n      });\n    }\n\n    function editCopy(copy, $event) {\n      var dialog = {\n        targetEvent: $event,\n        templateUrl: 'app/work/copy-edit-dialog.html',\n        locals: {\n          // create a copy for manipulation\n          copy: angular.copy(copy)\n        },\n        controller: 'CopyEditDialogController',\n        controllerAs: 'vm'\n      };\n\n      var dialogPromise = $mdDialog.show(dialog);\n\n      dialogPromise.then(function (updatedCopy) {\n        // copy updates back to original only after dialog is positively dismised (i.e. not canceled)\n        angular.extend(copy, updatedCopy);\n\n        save();\n      });\n\n      return dialogPromise;\n    }\n\n    function deleteCopy(copy, $event) {\n      var confirm = $mdDialog.confirm()\n        .targetEvent($event)\n        .title('Confirm Deletion')\n        .textContent('Are you sure you want to delete this copy?')\n        .ok('Yes')\n        .cancel('No');\n\n      $mdDialog.show(confirm)\n        .then(function () {\n          var ix = vm.edition.copies.indexOf(copy);\n          vm.edition.copies.splice(ix, 1);\n\n          save();\n        });\n    }\n\n    function save() {\n      var savePromise = worksRepo.save(vm.work);\n\n      savePromise.then(function () {\n        var toast = $mdToast.simple()\n          .textContent('Saved')\n          .position('bottom right');\n\n        $mdToast.show(toast);\n      });\n    }\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('sdaAdminWeb')\n    .controller('CopyEditDialogController', CopyEditDialogController);\n\n  /** @ngInject */\n  function CopyEditDialogController($scope, $mdDialog, copy) {\n    var vm = this;\n\n    vm.copy = copy;\n\n    vm.close = close;\n    vm.cancel = cancel;\n\n    function close() {\n      $mdDialog.hide(vm.copy);\n    }\n\n    function cancel() {\n      $mdDialog.cancel();\n    }\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('trcWorks', [\n      'ngResource'\n    ]);\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('trcWorks')\n    .provider('worksRepo', worksRepoProvider);\n\n  /**\n   * This functionality is already being implemented as a standalone trc-biblio module. The code is\n   * used here as an interim until the Bower build/dependency workflow has been finalized.\n   *\n   * @return {angular.provider}\n   */\n  function worksRepoProvider() {\n    var provider = {};\n    provider.url = '/api/works';\n    provider.$get = worksRepoFactory;\n    return provider;\n\n    /** @ngInejct */\n    function worksRepoFactory($resource, _) {\n      var restResource = $resource(provider.url + '/:id', { id: '@id' }, {\n        update: {\n          method: 'PUT'\n        }\n      });\n\n      var repo = {};\n      repo.getAll = findAll;\n      repo.search = search;\n      repo.get = findById;\n      repo.create = create;\n      repo.createEdition = createEdition;\n      repo.createVolume = createVolume;\n      repo.save = save;\n      repo.delete = deleteWork;\n      repo.getTitle = getTitleByTypePreference;\n      return repo;\n\n      /**\n       * Retrieves a listing of all works\n       *\n       * @return {WorkProxy[]}\n       */\n      function findAll() {\n        return search('');\n      }\n\n      /**\n       * Search for works by query\n       *\n       * @return {SearchResultSet}\n       */\n      function search(query) {\n        return restResource.get({ q: query, max: 50 });\n      }\n\n      /**\n       * Retrieves a work object by identifier.\n       *\n       * A proxy object will be returned immediately, and its properties will be populated after the\n       * request succeds. If fine-grained asynchronous handling, etc. is required, the request's\n       * promis is available on Work.$promise.\n       *\n       * @param {string} id\n       * @return {Work}\n       */\n      function findById(id) {\n        if (angular.isUndefined(id)) {\n          throw new TypeError('No ID provided to find work by ID');\n        }\n\n        var work = restResource.get({ id: id });\n\n        work.$promise.then(adaptWork);\n\n        return work;\n      }\n\n      /**\n       * Creates a new work instance\n       *\n       * @return {Work}\n       */\n      function create() {\n        var work = new restResource();\n        return adaptWork(work);\n      }\n\n      /**\n       * Creates a new edition instance\n       *\n       * @return {Edition}\n       */\n      function createEdition() {\n        var edition = {};\n        return adaptEdition(edition);\n      }\n\n      /**\n       * Creates a new volume instance\n       *\n       * @return {Volume}\n       */\n      function createVolume() {\n        var volume = {};\n        return adaptVolume(volume);\n      }\n\n      /**\n       * Saves a work instance back to the server\n       *\n       * @param {Work} work\n       */\n      function save(work) {\n        if (!(work instanceof restResource)) {\n          throw new Error('work was not created by this repo');\n        }\n\n        // TODO: the server should return the created/updated model; ngResource automatically updates the model to reflect any server changes (e.g. setting IDs for the work/edtions/volumes/copies).\n\n        var proxy = work.id\n            ? restResource.update({ id: work.id }, work)\n            : restResource.save(null, work);\n\n        return proxy.$promise.then(function (data) {\n          return data.id;\n        });\n      }\n\n      /**\n       * Deletes a work instance from the server\n       *\n       * @param  {string} id\n       */\n      function deleteWork(workId) {\n        var dataItem = restResource.delete({ id: workId });\n        return dataItem.$promise;\n      }\n\n      /**\n       * Ensure that aggregate fields common to all work/edition/volume entities exist and are formatted correctly\n       *\n       * @param  {Work|Edition|Volume} entity\n       * @return {Work|Edition|Volume}\n       */\n      function adaptCommon(entity) {\n        if (!entity.titles) {\n          entity.titles = [];\n        } else {\n          entity.titles.forEach(function (title) {\n            title.type = title.type.toLowerCase();\n          });\n        }\n\n        if (!entity.authors) {\n          entity.authors = [];\n        } else {\n          entity.authors.forEach(function (author) {\n            author.role = author.role.toLowerCase();\n          });\n        }\n\n        if (!entity.otherAuthors) {\n          entity.otherAuthors = [];\n        } else {\n          entity.otherAuthors.forEach(function (author) {\n            author.role = author.role.toLowerCase();\n          });\n        }\n\n        if (!entity.copies) {\n          entity.copies = [];\n        }\n\n        return entity;\n      }\n\n      /**\n       * Ensure that work aggregate fields exist and are formatted correctly\n       *\n       * @param  {Work} work\n       * @return {Work}\n       */\n      function adaptWork(work) {\n        adaptCommon(work);\n\n        if (!work.editions) {\n          work.editions = [];\n        } else {\n          work.editions.forEach(adaptEdition);\n        }\n\n        return work;\n      }\n\n      /**\n       * Ensure that edition aggregate fields exist and are formatted correctly\n       *\n       * @param  {Edition} edition\n       * @return {Edition}\n       */\n      function adaptEdition(edition) {\n        adaptCommon(edition);\n\n        if (!edition.volumes) {\n          edition.volumes = [];\n        } else {\n          edition.volumes.forEach(adaptVolume);\n        }\n\n        return edition;\n      }\n\n      /**\n       * Ensure that volume aggregate fields exist and are formatted correctly\n       *\n       * @param  {Volume} volume\n       * @return {Volume}\n       */\n      function adaptVolume(volume) {\n        adaptCommon(volume);\n\n        return volume;\n      }\n\n      /**\n       * Retrieves the first available title of the given type or falsey if no title can be found.\n       * If multiple types are given, returns the title corresponding to the first type for which a title is found.\n       *\n       * @param  {Title[]}         titles\n       * @param  {string|string[]} types\n       * @return {Title}\n       */\n      function getTitleByTypePreference(titles, types) {\n        if (!angular.isArray(types)) {\n          types = [types];\n        }\n\n        return types.reduce(function (found, type) {\n          return found || _.find(titles, { type: type });\n        }, null);\n      }\n    }\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('trcTasks', [\n      'ngResource'\n    ]);\n\n})();\n\n/**\n * @typedef {object} Workflow\n * @property {string} id\n * @property {string} label\n * @property {string} description\n * @property {object.<string, WorkflowStage>} stages\n * @property {string} status\n */\n\n/**\n * @typedef {object} WorkflowStage\n * @property {string} id\n * @property {string} label\n * @property {string} description\n * @property {boolean} isFinal\n * @property {WorkflowStageTransition[]} transitions\n */\n\n/**\n * @typedef {object} WorkflowStageTransition\n * @property {string} sourceStage\n * @property {string} targetStage\n * @property {string} label\n */\n\n/**\n * @typedef {object} Worklist\n * @property {string} groupId\n * @property {string} label\n * @property {integer} itemCount\n * @property {integer} start\n * @property {integer} max\n * @property {WorkItem[]} items\n */\n\n/**\n * @typedef {object} WorkItem\n * @property {string} itemId\n * @property {string} type\n * @property {string} entityId\n * @property {string} label\n * @property {object.<string,string>} properties\n * @property {string} stage\n * @property {string} task\n */\n\n(function () {\n  'use strict';\n\n  angular\n    .module('trcTasks')\n    .provider('tasksRepo', tasksRepoProvider);\n\n  /**\n   * @return {angular.provider}\n   */\n  function tasksRepoProvider() {\n    var provider = {};\n    provider.url = '/api/tasks';\n    provider.$get = tasksRepoFactory;\n    return provider;\n\n    /** @ngInejct */\n    function tasksRepoFactory($resource) {\n      var workflowResource = $resource(provider.url + '/:taskId/workflow', { taskId: 'copies' });\n      var itemResource = $resource(provider.url + '/:taskId/items/:itemId', { taskId: 'copies', itemId: '@itemId' });\n\n      var repo = {};\n      repo.get = getTask;\n      repo.getItems = getItems;\n      repo.transition = transition;\n      return repo;\n\n      /**\n       * Retrieves a listing of all tasks\n       *\n       * @param  {string} [taskId=copies]\n       * @return {GroupedTaskList}\n       */\n      function getTask(taskId) {\n        taskId = taskId || 'copies';\n\n        var workflow = workflowResource.get({ taskId: taskId });\n\n        var task = {\n          $promise: workflow.$promise.then(function () {\n            return task;\n          }),\n          workflow: workflow,\n          getItems: function (stageId, options) {\n            return getItems(taskId, stageId, options);\n          }\n        };\n\n        return task;\n      }\n\n      /**\n       * Gets items from the task endpoint for a given stage\n       *\n       * @param  {string}  [taskId=copies]  Task ID\n       * @param  {string}  stageId          Workflow stage for which to get items\n       * @param  {object}  options\n       * @param  {integer} [options.start]  Starting index\n       * @param  {integer} [options.max]    Maximum number of items to fetch per page\n       * @return {Worklist}\n       */\n      function getItems(taskId, stageId, options) {\n        options = options || {};\n        return itemResource.get({\n          taskId: taskId,\n          stage: stageId,\n          start: options.start,\n          max: options.max\n        });\n      }\n\n      /**\n       * Transition an item from its current stage to a target stage\n       *\n       * @param  {WorkItem}                item   Work item instance\n       * @param  {WorkflowStageTransition} transition Target workflow stage\n       * @return {WorkItem}                       Updated work item instance\n       */\n      function transition(item, transition) {\n        if (item.stage !== transition.sourceStage) {\n          throw new Error('Transition (' + transition.sourceStage + ' -> ' + transition.targetStage + ') is not valid for item currently in stage ' + item.stage);\n        }\n\n        var result = itemResource.save({\n          itemId: item.itemId\n        }, {\n          stage: transition.targetStage,\n          // NOTE comments are not saved yet\n          comments: null\n        });\n\n        // propagate updates to the original item\n        result.$promise.then(function (resp) {\n          angular.extend(item, resp);\n        });\n\n        return result;\n      }\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('slideToggle', []);\n\n})();\n\n(function () {\n   'use strict';\n\n   angular\n      .module('slideToggle')\n      .directive('slideToggle', slideToggle);\n\n   /** @ngInject */\n   function slideToggle() {\n      var directive = {\n         restrict: 'A',\n         scope: {\n            active: '=slideToggle'\n         },\n         link: linkFunc\n      };\n\n      return directive;\n\n      function linkFunc(scope, el, attr) {\n         var duration = parseInt(attr.slideToggleDuration) || 200;\n         scope.$watch('active', function (active) {\n            if (active) {\n               el.stop().slideDown(duration);\n            } else {\n               el.stop().slideUp(duration);\n            }\n         })\n      }\n   }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('sdaAdminWeb')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController(worksRepo, $stateParams, $mdSidenav, _) {\n    var vm = this;\n\n    vm.loading = false;\n    vm.searchQuery = '';\n\n    vm.openMenu = openMenu;\n    vm.search = _.debounce(search, 300);\n\n    activate();\n\n    function activate() {\n      if ($stateParams.q) {\n        vm.searchQuery = $stateParams.q;\n        search(vm.searchQuery);\n      }\n    }\n\n    function openMenu() {\n      $mdSidenav('left').toggle();\n    }\n\n    function search(query) {\n      vm.loading = true;\n      vm.results = worksRepo.search(query);\n      vm.results.$promise.then(function () {\n        vm.loading = false;\n      })\n    }\n  }\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('sdaAdminWeb')\n    .controller('NewWorkController', NewWorkController);\n\n  /** @ngInject */\n  function NewWorkController(worksRepo) {\n    var vm = this;\n\n    vm.work = worksRepo.create();\n\n    vm.save = save;\n\n    function save() {\n      worksRepo.save(vm.work);\n    }\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('sdaAdminWeb')\n    .controller('BulkEditorController', BulkEditorController);\n\n  /** @ngInject */\n  function BulkEditorController($mdSidenav, worksRepo, tasksRepo, _) {\n    var vm = this;\n\n    vm.loaded = false;\n    vm.worklists = {};\n    vm.task = null;\n\n    vm.openMenu = openMenu;\n    vm.focusItem = focusItem;\n    vm.search = _.debounce(search, 200);\n    vm.transition = transitionItem;\n\n    activate();\n\n    function activate() {\n      vm.task = tasksRepo.get();\n\n      vm.task.$promise.then(function (task) {\n        angular.forEach(task.workflow.stages, function (stage) {\n          fetchStage(task, stage.id);\n        });\n        vm.loaded = true;\n      });\n    }\n\n    function openMenu() {\n      $mdSidenav('left').toggle();\n    }\n\n    function focusItem(item) {\n      if (item.focused) {\n        item.focused = false;\n      } else {\n        angular.forEach(vm.worklists, function (worklist) {\n          worklist.items.forEach(function (item) {\n            item.focused = false;\n          });\n        });\n\n        item.focused = true;\n      }\n    }\n\n    function search(query) {\n      vm.loaded = false;\n      var results = worksRepo.search(query);\n      results.$promise.then(function (works) {\n        vm.worklists[0].items = works;\n        vm.loaded = true;\n      });\n    }\n\n    function transitionItem(item, transition) {\n      item.focused = false;\n      var updatedItem = tasksRepo.transition(item, transition);\n      updatedItem.$promise.then(function () {\n        // remove from current group\n        var worklist = vm.worklists[transition.sourceStage];\n        _.remove(worklist.items, function (i) {\n          return i.itemId === item.itemId;\n        });\n\n        // remove entry from page if there are no items to display\n        if (worklist.items.length === 0) {\n          vm.worklists[transition.sourceStage] = null;\n        }\n\n        // refresh target group\n        // fetchStage(vm.task, transition.targetStage);\n\n        // add item to target group instead\n        if (vm.worklists[transition.targetStage]) {\n          vm.worklists[transition.targetStage].items.unshift(updatedItem);\n        } else {\n          fetchStage(vm.task, transition.targetStage);\n        }\n      });\n    }\n\n    function fetchStage(task, stageId) {\n      var group = task.getItems(stageId);\n      group.$promise.then(function (group) {\n        if (group.items.length > 0) {\n          vm.worklists[stageId] = group;\n        }\n      });\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('sdaAdminWeb')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('sdaAdminWeb')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n    $stateProvider\n      .state('root', {\n        url: '/?q',\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'vm'\n      })\n      .state('root.work', {\n        url: 'works/:workId',\n        views: {\n          main: {\n            templateUrl: 'app/work/work.html',\n            controller: 'ShowWorkController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n      .state('root.edition', {\n        url: 'works/:workId/editions/:editionId',\n        views: {\n          main: {\n            templateUrl: 'app/work/edition.html',\n            controller: 'ShowEditionController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n      .state('root.volume', {\n        url: 'works/:workId/editions/:editionId/volumes/:volumeId',\n        views: {\n          main: {\n            templateUrl: 'app/work/volume.html',\n            controller: 'ShowVolumeController',\n            controllerAs: 'vm'\n          }\n        }\n      })\n\n      // .state('bulk', {\n      //   url: '/b',\n      //   templateUrl: 'app/bulk/bulk.html',\n      //   controller: 'BulkEditorController',\n      //   controllerAs: 'vm'\n      // })\n      // .state('work-new', {\n      //   url: '/work',\n      //   templateUrl: 'app/bulk/work-new.html',\n      //   controller: 'NewWorkController',\n      //   controllerAs: 'vm'\n      // })\n      // .state('work-edit', {\n      //   url: '/work/:id',\n      //   templateUrl: 'app/bulk/work-edit.html',\n      //   controller: 'EditWorkController',\n      //   controllerAs: 'vm'\n      // });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n/* global _:false, moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('sdaAdminWeb')\n    .constant('_', _)\n    .constant('moment', moment);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('sdaAdminWeb')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig, $mdThemingProvider, tasksRepoProvider, worksRepoProvider) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n\n    $mdThemingProvider.definePalette('darkBrown', {\n      '50': '#595c59',\n      '100': '#4c4f4c',\n      '200': '#404240',\n      '300': '#333533',\n      '400': '#272827',\n      '500': '#1a1b1a',\n      '600': '#0d0e0d',\n      '700': '#010101',\n      '800': '#000000',\n      '900': '#000000',\n      'A100': '#e0f0e0',\n      'A200': '#565956',\n      'A400': '#7e837e',\n      'A700': '#000000',\n\n      contrastDefaultColor: 'light',\n      contrastDarkColors: ['A100']\n    });\n\n    $mdThemingProvider.definePalette('copper', {\n      '50': '#d4b190',\n      '100': '#cca47e',\n      '200': '#c5976b',\n      '300': '#be8a59',\n      '400': '#b67e47',\n      '500': '#a47140',\n      '600': '#926439',\n      '700': '#7f5832',\n      '800': '#6d4b2b',\n      '900': '#5b3e23',\n      'A100': '#dcc3ab',\n      'A200': '#a47140',\n      'A400': '#48321c',\n      'A700': '#272927',\n\n      contrastDefaultColor: 'light',\n      contrastDarkColors: ['50', '100', '200', 'A100']\n    });\n\n    $mdThemingProvider.theme('default')\n      .primaryPalette('darkBrown')\n      .accentPalette('copper');\n\n\n    tasksRepoProvider.url = '/api/catalog/v1/tasks';\n    worksRepoProvider.url = '/api/catalog/works';\n  }\n\n})();\n\nangular.module(\"sdaAdminWeb\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/bulk/bulk.html\",\"<md-content flex=\\\"\\\" layout=\\\"column\\\"><md-toolbar><div class=\\\"md-toolbar-tools\\\"><md-button class=\\\"md-accent md-icon-button\\\" ng-click=\\\"vm.openMenu()\\\" title=\\\"toggle menu\\\" hide-gt-sm=\\\"\\\"><md-icon>menu</md-icon></md-button><img class=\\\"logo\\\" src=\\\"assets/images/sda-logo-light.png\\\"><h2><span>Works Copy Editor</span></h2><span flex=\\\"\\\"></span> <img class=\\\"ox-brand\\\" src=\\\"assets/images/ox-brand-rect.png\\\" alt=\\\"University of Oxford\\\" hide-xs=\\\"\\\"></div></md-toolbar><md-content flex=\\\"\\\" layout=\\\"row\\\"><md-sidenav md-component-id=\\\"left\\\" md-is-locked-open=\\\"$mdMedia(\\'gt-sm\\')\\\">Left Sidebar</md-sidenav><md-content flex=\\\"\\\" layout=\\\"column\\\"><md-content flex=\\\"\\\" layout=\\\"column\\\"><md-input-container><label>Search</label><md-icon>search</md-icon><input type=\\\"search\\\" ng-model=\\\"searchQuery\\\" ng-change=\\\"vm.search(searchQuery)\\\"></md-input-container><md-content flex=\\\"\\\"><div layout=\\\"row\\\" layout-align=\\\"center center\\\" ng-if=\\\"!vm.loaded\\\"><md-progress-circular md-mode=\\\"indeterminate\\\"></md-progress-circular></div><md-list ng-if=\\\"vm.loaded\\\"><div ng-repeat=\\\"stage in vm.task.workflow.stages\\\" ng-if=\\\"vm.worklists[stage.id]\\\"><md-subheader>{{stage.label}}</md-subheader><div class=\\\"item\\\" layout=\\\"column\\\" ng-repeat=\\\"item in vm.worklists[stage.id].items\\\" ng-class=\\\"{done: item.done, focused: item.focused}\\\" ng-mouseover=\\\"item.hover = true\\\" ng-mouseout=\\\"item.hover = false\\\"><div class=\\\"item-heading\\\"><md-button class=\\\"md-no-style\\\" ng-click=\\\"vm.focusItem(item)\\\" ng-bind-html=\\\"item.label\\\"></md-button><div class=\\\"actions\\\" layout=\\\"row\\\" layout-align=\\\"end center\\\"><md-button ng-repeat=\\\"transition in stage.transitions\\\" class=\\\"md-secondary\\\" ng-click=\\\"vm.transition(item, transition, $parent.$index)\\\" ng-show=\\\"item.hover || item.focused\\\"><span>{{transition.label}}</span></md-button></div></div><md-content slide-toggle=\\\"item.focused\\\"><work-editor-item id=\\\"item.entityId\\\" ng-if=\\\"item.focused\\\"></work-editor-item></md-content></div></div></md-list></md-content></md-content></md-content></md-content></md-content>\");\n$templateCache.put(\"app/bulk/work-new.html\",\"<div layout=\\\"column\\\" flex=\\\"\\\"><work-editor ng-model=\\\"vm.work\\\"></work-editor><div layout=\\\"row\\\" layout-align=\\\"end\\\"><md-button class=\\\"md-raised md-primary\\\" ng-click=\\\"vm.save()\\\">Save</md-button></div></div>\");\n$templateCache.put(\"app/main/main.html\",\"<md-content flex=\\\"\\\" layout=\\\"column\\\"><md-toolbar><div class=\\\"md-toolbar-tools\\\"><md-button class=\\\"md-accent md-icon-button\\\" ng-click=\\\"vm.openMenu()\\\" title=\\\"toggle menu\\\" hide-gt-sm=\\\"\\\"><md-icon>menu</md-icon></md-button><img class=\\\"logo\\\" src=\\\"assets/images/sda-logo-light.png\\\"><h2><span>Works Copy Editor</span></h2><span flex=\\\"\\\"></span> <img class=\\\"ox-brand\\\" src=\\\"assets/images/ox-brand-rect.png\\\" alt=\\\"University of Oxford\\\" hide-xs=\\\"\\\"></div></md-toolbar><md-content flex=\\\"\\\" layout=\\\"row\\\"><md-sidenav md-component-id=\\\"left\\\" md-is-locked-open=\\\"$mdMedia(\\'gt-sm\\')\\\" ui-view=\\\"sidebar\\\" layout=\\\"column\\\"><form layout=\\\"row\\\"><md-input-container flex=\\\"\\\"><label for=\\\"searchQuery\\\">Search</label><md-icon>search</md-icon><input type=\\\"search\\\" name=\\\"searchQuery\\\" id=\\\"searchQuery\\\" ng-model=\\\"vm.searchQuery\\\" ng-change=\\\"vm.search(vm.searchQuery)\\\" required=\\\"\\\"></md-input-container></form><md-content><div ng-if=\\\"vm.loading\\\" layout=\\\"row\\\" layout-align=\\\"center\\\"><md-progress-circular md-mode=\\\"indeterminate\\\"></md-progress-circular></div><md-list ng-if=\\\"!vm.loading &amp;&amp; vm.results &amp;&amp; vm.results.items.length > 0\\\"><md-list-item ng-repeat=\\\"work in vm.results.items\\\" ui-sref=\\\"root.work({workId: work.id})\\\"><div class=\\\"md-list-item-text\\\"><span>{{work.label}}</span></div></md-list-item></md-list></md-content></md-sidenav><md-content flex=\\\"\\\" layout=\\\"column\\\" ui-view=\\\"main\\\"></md-content></md-content></md-content>\");\n$templateCache.put(\"app/work/copy-edit-dialog.html\",\"<md-dialog flex=\\\"50\\\"><md-toolbar><div class=\\\"md-toolbar-tools\\\"><h3>Digital Copy Editor</h3><span flex=\\\"\\\"></span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.cancel()\\\"><md-icon>close</md-icon></md-button></div></md-toolbar><form ng-submit=\\\"vm.close()\\\"><md-dialog-content><div class=\\\"md-dialog-content\\\"><copy-editor ng-model=\\\"vm.copy\\\"></copy-editor></div></md-dialog-content><md-dialog-actions><md-button ng-click=\\\"vm.cancel()\\\">Cancel</md-button><md-button class=\\\"md-primary\\\" type=\\\"submit\\\">Done</md-button></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/work/edition.html\",\"<nav layout=\\\"row\\\" layout-padding=\\\"\\\"><ol class=\\\"breadcrumbs\\\" flex=\\\"\\\"><li><a ui-sref=\\\"root.work({workId: vm.work.id})\\\">{{vm.workTitle.title}}{{vm.workTitle.title && vm.workTitle.subtitle ? \\': \\' : \\'\\'}}{{vm.workTitle.subTitle}}</a></li><li>{{vm.edition.editionName}}</li></ol></nav><div layout=\\\"row\\\" layout-padding=\\\"\\\"><div layout=\\\"column\\\" flex=\\\"60\\\"><section class=\\\"content citation\\\"><div layout=\\\"row\\\"><h2 class=\\\"content-heading\\\">Bibliographic Information</h2></div><p><span class=\\\"authors\\\" ng-if=\\\"vm.edition.authors && vm.edition.authors.length > 0\\\"><span class=\\\"author\\\" ng-repeat=\\\"author in vm.edition.authors\\\">{{author.lastName}}{{author.lastName && author.firstName ? \\', \\' : \\'\\'}}{{author.firstName}}.</span></span> <span class=\\\"title\\\" ng-if=\\\"vm.title\\\">{{vm.title.title}}{{vm.title.title && vm.title.subtitle ? \\': \\' : \\'\\'}}{{vm.title.subtitle}}.</span></p></section><section class=\\\"content summary\\\"><div layout=\\\"row\\\"><h2 class=\\\"content-heading\\\">Summary</h2></div><p ng-if=\\\"vm.edition.summary\\\" ng-bind-html=\\\"vm.edition.summary\\\"></p></section><section class=\\\"content volumes\\\"><div layout=\\\"row\\\"><h2 class=\\\"content-heading\\\">Volumes</h2></div><md-list><md-list-item ng-repeat=\\\"volume in vm.edition.volumes\\\" ui-sref=\\\"root.volume({workId: vm.work.id, editionId: vm.edition.id, volumeId: volume.id})\\\"><span>Volume {{volume.volumeNumber}}</span></md-list-item></md-list></section></div><div layout=\\\"column\\\" flex=\\\"40\\\"><section class=\\\"content references\\\"><div layout=\\\"row\\\"><h2 class=\\\"content-heading\\\">References</h2></div><p>Coming soon</p></section><section class=\\\"content copies\\\"><div layout=\\\"row\\\"><h2 class=\\\"content-heading\\\">Digital Copies</h2><span flex=\\\"\\\"></span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.addCopy($event)\\\"><md-icon>add</md-icon></md-button></div><md-list><md-list-item ng-repeat=\\\"copy in vm.edition.copies\\\" ng-click=\\\"vm.editCopy(copy, $event)\\\"><span>{{copy.title}}</span><md-button class=\\\"md-secondary md-icon-button md-warn\\\" ng-click=\\\"vm.deleteCopy(copy, $event)\\\"><md-icon>delete</md-icon></md-button></md-list-item></md-list></section></div></div>\");\n$templateCache.put(\"app/work/volume.html\",\"<nav layout=\\\"row\\\" layout-padding=\\\"\\\"><ol class=\\\"breadcrumbs\\\" flex=\\\"\\\"><li><a ui-sref=\\\"root.work({workId: vm.work.id})\\\">{{vm.workTitle.title}}{{vm.workTitle.title && vm.workTitle.subtitle ? \\': \\' : \\'\\'}}{{vm.workTitle.subTitle}}</a></li><li><a ui-sref=\\\"root.edition({workId: vm.work.id, editionId: vm.edition.id})\\\">{{vm.edition.editionName}}</a></li><li>Volume {{vm.volume.volumeNumber}}</li></ol></nav><div layout=\\\"row\\\" layout-padding=\\\"\\\"><div layout=\\\"column\\\" flex=\\\"60\\\"><section class=\\\"content citation\\\"><div layout=\\\"row\\\"><h2 class=\\\"content-heading\\\">Bibliographic Information</h2></div><p><span class=\\\"authors\\\" ng-if=\\\"vm.volume.authors && vm.volume.authors.length > 0\\\"><span class=\\\"author\\\" ng-repeat=\\\"author in vm.volume.authors\\\">{{author.lastName}}{{author.lastName && author.firstName ? \\', \\' : \\'\\'}}{{author.firstName}}.</span></span> <span class=\\\"title\\\" ng-if=\\\"vm.title\\\">{{vm.title.title}}{{vm.title.title && vm.title.subtitle ? \\': \\' : \\'\\'}}{{vm.title.subtitle}}.</span></p></section><section class=\\\"content summary\\\"><div layout=\\\"row\\\"><h2 class=\\\"content-heading\\\">Summary</h2></div><p ng-if=\\\"vm.volume.summary\\\" ng-bind-html=\\\"vm.volume.summary\\\"></p></section></div><div layout=\\\"column\\\" flex=\\\"40\\\"><section class=\\\"content references\\\"><div layout=\\\"row\\\"><h2 class=\\\"content-heading\\\">References</h2></div><p>Coming soon</p></section><section class=\\\"content copies\\\"><div layout=\\\"row\\\"><h2 class=\\\"content-heading\\\">Digital Copies</h2><span flex=\\\"\\\"></span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.addCopy($event)\\\"><md-icon>add</md-icon></md-button></div><md-list><md-list-item ng-repeat=\\\"copy in vm.volume.copies\\\" ng-click=\\\"vm.editCopy(copy, $event)\\\"><span>{{copy.title}}</span><md-button class=\\\"md-secondary md-icon-button md-warn\\\" ng-click=\\\"vm.deleteCopy(copy, $event)\\\"><md-icon>delete</md-icon></md-button></md-list-item></md-list></section></div></div>\");\n$templateCache.put(\"app/work/work-edit.html\",\"<div layout=\\\"column\\\" flex=\\\"\\\"><div layout=\\\"row\\\" layout-align=\\\"center center\\\" ng-if=\\\"vm.loading\\\"><md-progress-circular md-mode=\\\"indeterminate\\\"></md-progress-circular></div><work-editor ng-if=\\\"!vm.loading\\\" ng-model=\\\"vm.work\\\"></work-editor><div layout=\\\"row\\\" layout-align=\\\"end\\\"><md-button class=\\\"md-raised md-warn\\\" ng-click=\\\"vm.delete()\\\">Delete</md-button><md-button class=\\\"md-raised md-primary\\\" ng-click=\\\"vm.save()\\\">Save</md-button></div></div>\");\n$templateCache.put(\"app/work/work.html\",\"<nav layout=\\\"row\\\" layout-padding=\\\"\\\"><ol class=\\\"breadcrumbs\\\" flex=\\\"\\\"><li>{{vm.bcTitle.title}}{{vm.bcTitle && vm.bcTitle.subtitle ? \\': \\' : \\'\\'}}{{vm.bcTitle.subTitle}}</li></ol></nav><div layout=\\\"row\\\" layout-padding=\\\"\\\"><div layout=\\\"column\\\" flex=\\\"60\\\"><section class=\\\"content citation\\\"><div layout=\\\"row\\\"><h2 class=\\\"content-heading\\\">Bibliographic Information</h2></div><p><span class=\\\"authors\\\" ng-if=\\\"vm.work.authors && vm.work.authors.length > 0\\\"><span class=\\\"author\\\" ng-repeat=\\\"author in vm.work.authors\\\">{{author.lastName}}{{author.lastName && author.firstName ? \\', \\' : \\'\\'}}{{author.firstName}}.</span></span> <span class=\\\"title\\\" ng-if=\\\"vm.title\\\">{{vm.title.title}}{{vm.title.title && vm.title.subtitle ? \\': \\' : \\'\\'}}{{vm.title.subtitle}}.</span></p></section><section class=\\\"content summary\\\"><div layout=\\\"row\\\"><h2 class=\\\"content-heading\\\">Summary</h2></div><p ng-if=\\\"vm.work.summary\\\" ng-bind-html=\\\"vm.work.summary\\\"></p></section><section class=\\\"content editions\\\"><div layout=\\\"row\\\"><h2 class=\\\"content-heading\\\">Editions</h2></div><md-list><md-list-item ng-repeat=\\\"edition in vm.work.editions\\\" ui-sref=\\\"root.edition({workId: vm.work.id, editionId: edition.id})\\\"><span>{{edition.editionName}}</span></md-list-item></md-list></section></div><div layout=\\\"column\\\" flex=\\\"40\\\"><section class=\\\"content references\\\"><div layout=\\\"row\\\"><h2 class=\\\"content-heading\\\">Relationships</h2></div><p>Coming soon</p></section><section class=\\\"content copies\\\"><div layout=\\\"row\\\"><h2 class=\\\"content-heading\\\">Digital Copies</h2><span flex=\\\"\\\"></span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.addCopy($event)\\\"><md-icon>add</md-icon></md-button></div><md-list><md-list-item ng-repeat=\\\"copy in vm.work.copies\\\" ng-click=\\\"vm.editCopy(copy, $event)\\\"><span>{{copy.title}}</span><md-button class=\\\"md-secondary md-icon-button md-warn\\\" ng-click=\\\"vm.deleteCopy(copy, $event)\\\"><md-icon>delete</md-icon></md-button></md-list-item></md-list></section></div></div>\");\n$templateCache.put(\"app/bulk/components/author-ref-editor/author-ref-editor.html\",\"<div layout=\\\"row\\\"><md-input-container><label>role</label><md-select ng-model=\\\"ref.role\\\" required=\\\"\\\"><md-option value=\\\"author\\\">author</md-option><md-option value=\\\"editor\\\">editor</md-option><md-option value=\\\"translator\\\">translator</md-option><md-option value=\\\"other\\\">other</md-option></md-select></md-input-container><md-input-container flex=\\\"\\\"><label>first name</label> <input type=\\\"text\\\" ng-model=\\\"ref.firstName\\\"></md-input-container><md-input-container flex=\\\"\\\"><label>last name</label> <input type=\\\"text\\\" ng-model=\\\"ref.lastName\\\"></md-input-container></div>\");\n$templateCache.put(\"app/bulk/components/copy-editor/copy-editor.html\",\"<ng-form name=\\\"copyForm\\\" layout=\\\"column\\\" flex=\\\"\\\"><md-input-container><label for=\\\"title\\\">Title</label> <input type=\\\"text\\\" name=\\\"title\\\" id=\\\"title\\\" ng-model=\\\"copy.title\\\"></md-input-container><div layout=\\\"row\\\"><md-input-container><label for=\\\"type\\\">Type</label><md-select name=\\\"type\\\" id=\\\"type\\\" ng-model=\\\"copy.type\\\" required=\\\"\\\" ng-change=\\\"vm.setProperties(copy.type, copyUrl)\\\"><md-option ng-repeat=\\\"handler in vm.refHandlers\\\" value=\\\"{{handler.id}}\\\">{{handler.display}}</md-option></md-select></md-input-container><md-input-container flex=\\\"\\\"><label for=\\\"url\\\">URL</label> <input type=\\\"url\\\" name=\\\"url\\\" id=\\\"url\\\" ng-model=\\\"copyUrl\\\" ng-change=\\\"vm.setProperties(copy.type, copyUrl)\\\"></md-input-container></div><summary-editor ng-model=\\\"copy.summary\\\" flex=\\\"\\\"></summary-editor><md-input-container><label for=\\\"rights\\\">Description of Rights</label> <input type=\\\"text\\\" name=\\\"rights\\\" id=\\\"rights\\\" ng-model=\\\"copy.rights\\\"></md-input-container></ng-form>\");\n$templateCache.put(\"app/bulk/components/date-editor/date-editor.html\",\"<div layout=\\\"row\\\"><md-input-container flex=\\\"\\\"><label>date</label> <input type=\\\"text\\\" ng-model=\\\"date.description\\\"></md-input-container><md-input-container flex=\\\"\\\"><label>ISO-8601 date</label> <input type=\\\"datetime\\\" ng-model=\\\"date.calendar\\\"></md-input-container></div>\");\n$templateCache.put(\"app/bulk/components/edition-editor/edition-editor.html\",\"<div layout=\\\"row\\\"><md-input-container flex=\\\"\\\"><label>edition name</label> <input type=\\\"text\\\" ng-model=\\\"edition.editionName\\\" required=\\\"\\\"></md-input-container></div><section class=\\\"publication\\\" layout=\\\"column\\\"><md-toolbar class=\\\"md-hue-3\\\"><div class=\\\"md-toolbar-tools\\\"><h2>Publication Information</h2></div></md-toolbar><publication-info-editor ng-model=\\\"edition.publicationInfo\\\" flex=\\\"\\\"></publication-info-editor></section><section class=\\\"titles\\\" layout=\\\"column\\\"><md-toolbar class=\\\"md-hue-3\\\"><div class=\\\"md-toolbar-tools\\\"><h2>Titles</h2><span flex=\\\"\\\"></span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"edition.titles.push({})\\\"><md-icon>add</md-icon></md-button></div></md-toolbar><div class=\\\"title\\\" layout=\\\"row\\\" ng-repeat=\\\"title in edition.titles\\\"><title-editor ng-model=\\\"title\\\" flex=\\\"\\\"></title-editor><md-input-container><md-button class=\\\"md-icon-button md-warn\\\" ng-click=\\\"edition.titles.splice($index, 1)\\\"><md-icon>delete</md-icon></md-button></md-input-container></div></section><section class=\\\"authors\\\" layout=\\\"column\\\"><md-toolbar class=\\\"md-hue-3\\\"><div class=\\\"md-toolbar-tools\\\"><h2>Authors</h2><span flex=\\\"\\\"></span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"edition.authors.push({})\\\"><md-icon>add</md-icon></md-button></div></md-toolbar><div class=\\\"author\\\" layout=\\\"row\\\" ng-repeat=\\\"author in edition.authors\\\"><author-ref-editor ng-model=\\\"author\\\" flex=\\\"\\\"></author-ref-editor><md-input-container><md-button class=\\\"md-icon-button md-warn\\\" ng-click=\\\"edition.authors.splice($index, 1)\\\"><md-icon>delete</md-icon></md-button></md-input-container></div></section><section class=\\\"authors other-authors\\\" layout=\\\"column\\\"><md-toolbar class=\\\"md-hue-3\\\"><div class=\\\"md-toolbar-tools\\\"><h2>Other Authors</h2><span flex=\\\"\\\"></span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"edition.otherAuthors.push({})\\\"><md-icon>add</md-icon></md-button></div></md-toolbar><div class=\\\"author other-author\\\" layout=\\\"row\\\" ng-repeat=\\\"author in edition.otherAuthors\\\"><author-ref-editor ng-model=\\\"author\\\" flex=\\\"\\\"></author-ref-editor><md-input-container><md-button class=\\\"md-icon-button md-warn\\\" ng-click=\\\"edition.otherAuthors.splice($index, 1)\\\"><md-icon>delete</md-icon></md-button></md-input-container></div></section><section class=\\\"summary\\\"><h2>Summary</h2><summary-editor ng-model=\\\"edition.summary\\\" flex=\\\"\\\"></summary-editor></section><section class=\\\"volumes\\\"><md-toolbar class=\\\"md-hue-3\\\"><div class=\\\"md-toolbar-tools\\\"><h2>Volumes</h2><span flex=\\\"\\\"></span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.createVolume()\\\"><md-icon>add</md-icon></md-button></div></md-toolbar><md-whiteframe class=\\\"volume\\\" layout=\\\"column\\\" layout-margin=\\\"\\\" ng-repeat=\\\"volume in vm.volumes\\\" ng-class=\\\"{\\'md-whiteframe-2dp\\': !volume.focused, \\'md-whiteframe-8dp\\': volume.focused}\\\"><h3 layout=\\\"row\\\"><div flex=\\\"\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" ng-click=\\\"volume.focused = !volume.focused\\\"><md-icon>{{ edition.focused ? \\'expand_less\\' : \\'expand_more\\'}}</md-icon><span>Volume {{volume.model.volumeNumber}}</span> <span flex=\\\"\\\"></span></div><md-button class=\\\"md-icon-button md-warn\\\" ng-click=\\\"vm.deleteVolume($index)\\\"><md-icon>delete</md-icon></md-button></h3><div slide-toggle=\\\"volume.focused\\\"><volume-editor ng-model=\\\"volume.model\\\" flex=\\\"\\\"></volume-editor></div></md-whiteframe></section><section class=\\\"copies\\\"><md-toolbar class=\\\"md-hue-3\\\"><div class=\\\"md-toolbar-tools\\\"><h2>Digital Copies</h2><span flex=\\\"\\\"></span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"edition.copies.push({})\\\"><md-icon>add</md-icon></md-button></div></md-toolbar><div class=\\\"copy\\\" layout=\\\"column\\\" ng-repeat=\\\"copy in edition.copies\\\"><div layout=\\\"row\\\"><copy-editor ng-model=\\\"copy\\\" flex=\\\"\\\"></copy-editor><md-button class=\\\"md-icon-button md-warn\\\" ng-click=\\\"edition.copies.splice($index, 1)\\\"><md-icon>delete</md-icon></md-button></div></div></section>\");\n$templateCache.put(\"app/bulk/components/publication-info-editor/publication-info-editor.html\",\"<div layout=\\\"row\\\"><md-input-container flex=\\\"\\\"><label>publisher</label> <input type=\\\"text\\\" ng-model=\\\"pubInfo.publisher\\\"></md-input-container><md-input-container flex=\\\"\\\"><label>location</label> <input type=\\\"text\\\" ng-model=\\\"pubInfo.place\\\"></md-input-container><date-editor ng-model=\\\"pubInfo.date\\\" flex=\\\"\\\"></date-editor></div>\");\n$templateCache.put(\"app/bulk/components/summary-editor/summary-editor.html\",\"<p>TODO: summary editor</p><div ng-bind-html=\\\"summary\\\"></div>\");\n$templateCache.put(\"app/bulk/components/title-editor/title-editor.html\",\"<div layout=\\\"row\\\"><md-input-container><label>type</label><md-select ng-model=\\\"title.type\\\" required=\\\"\\\"><md-option value=\\\"bibliographic\\\">bibliographic</md-option><md-option value=\\\"canonical\\\">canonical</md-option><md-option value=\\\"short\\\">short</md-option></md-select></md-input-container><md-input-container flex=\\\"\\\"><label>title</label> <input type=\\\"text\\\" ng-model=\\\"title.title\\\" required=\\\"\\\"><div ng-switch=\\\"title.type\\\"><small ng-switch-when=\\\"bibliographic\\\">the full title as published on the work</small> <small ng-switch-when=\\\"canonical\\\">title by which the work is commonly known in the academic realm</small> <small ng-switch-when=\\\"short\\\">shortened title coloquially used by the public</small></div></md-input-container><md-input-container flex=\\\"\\\"><label>subtitle</label> <input type=\\\"text\\\" ng-model=\\\"title.subtitle\\\"></md-input-container></div>\");\n$templateCache.put(\"app/bulk/components/volume-editor/volume-editor.html\",\"<div layout=\\\"row\\\"><md-input-container flex=\\\"\\\"><label>volume number</label> <input type=\\\"text\\\" ng-model=\\\"volume.volumeNumber\\\" required=\\\"\\\"></md-input-container></div><section class=\\\"publication\\\" layout=\\\"column\\\"><h2>Publication Information</h2><publication-info-editor ng-model=\\\"volume.publicationInfo\\\"></publication-info-editor></section><section class=\\\"titles\\\" layout=\\\"column\\\"><h2 layout=\\\"row\\\"><span flex=\\\"\\\">Titles</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"volume.titles.push({})\\\"><md-icon>add</md-icon></md-button></h2><div class=\\\"title\\\" layout=\\\"row\\\" ng-repeat=\\\"title in volume.titles\\\"><title-editor ng-model=\\\"title\\\" flex=\\\"\\\"></title-editor><md-input-container><md-button class=\\\"md-icon-button md-warn\\\" ng-click=\\\"volume.titles.splice($index, 1)\\\"><md-icon>delete</md-icon></md-button></md-input-container></div></section><section class=\\\"authors\\\" layout=\\\"column\\\"><h2 layout=\\\"row\\\"><span flex=\\\"\\\">Authors</span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"volume.authors.push({})\\\"><md-icon>add</md-icon></md-button></h2><div class=\\\"author\\\" layout=\\\"row\\\" ng-repeat=\\\"author in volume.authors\\\"><author-ref-editor ng-model=\\\"author\\\" flex=\\\"\\\"></author-ref-editor><md-input-container><md-button class=\\\"md-icon-button md-warn\\\" ng-click=\\\"volume.authors.splice($index, 1)\\\"><md-icon>delete</md-icon></md-button></md-input-container></div></section><section class=\\\"authors other-authors\\\" layout=\\\"column\\\"><md-toolbar class=\\\"md-hue-3\\\"><div class=\\\"md-toolbar-tools\\\"><h2>Other Authors</h2><span flex=\\\"\\\"></span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"volume.otherAuthors.push({})\\\"><md-icon>add</md-icon></md-button></div></md-toolbar><div class=\\\"author other-author\\\" layout=\\\"row\\\" ng-repeat=\\\"author in volume.otherAuthors\\\"><author-ref-editor ng-model=\\\"author\\\" flex=\\\"\\\"></author-ref-editor><md-input-container><md-button class=\\\"md-icon-button md-warn\\\" ng-click=\\\"volume.otherAuthors.splice($index, 1)\\\"><md-icon>delete</md-icon></md-button></md-input-container></div></section><section class=\\\"summary\\\"><h2>Summary</h2><summary-editor ng-model=\\\"volume.summary\\\" flex=\\\"\\\"></summary-editor></section><section class=\\\"copies\\\"><md-toolbar class=\\\"md-hue-3\\\"><div class=\\\"md-toolbar-tools\\\"><h2>Digital Copies</h2><span flex=\\\"\\\"></span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"volume.copies.push({})\\\"><md-icon>add</md-icon></md-button></div></md-toolbar><div class=\\\"copy\\\" layout=\\\"column\\\" ng-repeat=\\\"copy in volume.copies\\\"><div layout=\\\"row\\\"><copy-editor ng-model=\\\"copy\\\" flex=\\\"\\\"></copy-editor><md-button class=\\\"md-icon-button md-warn\\\" ng-click=\\\"volume.copies.splice($index, 1)\\\"><md-icon>delete</md-icon></md-button></div></div></section>\");\n$templateCache.put(\"app/bulk/components/work-editor/work-editor-item.html\",\"<div layout=\\\"row\\\" layout-align=\\\"center center\\\" ng-if=\\\"!vm.loaded\\\"><md-progress-circular md-mode=\\\"indeterminate\\\"></md-progress-circular></div><div ng-if=\\\"vm.loaded\\\"><work-editor ng-model=\\\"vm.work\\\"></work-editor></div>\");\n$templateCache.put(\"app/bulk/components/work-editor/work-editor.html\",\"<section class=\\\"titles\\\" layout=\\\"column\\\"><md-toolbar class=\\\"md-hue-3\\\"><div class=\\\"md-toolbar-tools\\\"><h2>Titles</h2><span flex=\\\"\\\"></span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"work.titles.push({})\\\"><md-icon>add</md-icon></md-button></div></md-toolbar><div class=\\\"title\\\" layout=\\\"row\\\" ng-repeat=\\\"title in work.titles\\\"><title-editor ng-model=\\\"title\\\" flex=\\\"\\\"></title-editor><md-input-container><md-button class=\\\"md-icon-button md-warn\\\" ng-click=\\\"work.titles.splice($index, 1)\\\"><md-icon>delete</md-icon></md-button></md-input-container></div></section><section class=\\\"authors\\\" layout=\\\"column\\\"><md-toolbar class=\\\"md-hue-3\\\"><div class=\\\"md-toolbar-tools\\\"><h2>Authors</h2><span flex=\\\"\\\"></span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"work.authors.push({})\\\"><md-icon>add</md-icon></md-button></div></md-toolbar><div class=\\\"author\\\" layout=\\\"row\\\" ng-repeat=\\\"author in work.authors\\\"><author-ref-editor ng-model=\\\"author\\\" flex=\\\"\\\"></author-ref-editor><md-input-container><md-button class=\\\"md-icon-button md-warn\\\" ng-click=\\\"work.authors.splice($index, 1)\\\"><md-icon>delete</md-icon></md-button></md-input-container></div></section><section class=\\\"authors other-authors\\\" layout=\\\"column\\\"><md-toolbar class=\\\"md-hue-3\\\"><div class=\\\"md-toolbar-tools\\\"><h2>Other Authors</h2><span flex=\\\"\\\"></span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"work.otherAuthors.push({})\\\"><md-icon>add</md-icon></md-button></div></md-toolbar><div class=\\\"author other-author\\\" layout=\\\"row\\\" ng-repeat=\\\"author in work.otherAuthors\\\"><author-ref-editor ng-model=\\\"author\\\" flex=\\\"\\\"></author-ref-editor><md-input-container><md-button class=\\\"md-icon-button md-warn\\\" ng-click=\\\"work.otherAuthors.splice($index, 1)\\\"><md-icon>delete</md-icon></md-button></md-input-container></div></section><section class=\\\"summary\\\"><md-toolbar class=\\\"md-hue-3\\\"><div class=\\\"md-toolbar-tools\\\"><h2>Summary</h2></div></md-toolbar><summary-editor ng-model=\\\"work.summary\\\" flex=\\\"\\\"></summary-editor></section><section class=\\\"editions\\\"><md-toolbar class=\\\"md-hue-3\\\"><div class=\\\"md-toolbar-tools\\\"><h2>Editions</h2><span flex=\\\"\\\"></span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"vm.createEdition()\\\"><md-icon>add</md-icon></md-button></div></md-toolbar><md-whiteframe class=\\\"edition\\\" layout=\\\"column\\\" layout-margin=\\\"\\\" ng-repeat=\\\"edition in vm.editions\\\" ng-class=\\\"{ \\'md-whiteframe-2dp\\': !edition.focused, \\'md-whiteframe-8dp\\': edition.focused }\\\"><h3 layout=\\\"row\\\"><div flex=\\\"\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\" ng-click=\\\"edition.focused = !edition.focused\\\"><md-icon>{{ edition.focused ? \\'expand_less\\' : \\'expand_more\\'}}</md-icon><span>{{edition.model.editionName}}</span> <span flex=\\\"\\\"></span></div><md-button class=\\\"md-icon-button md-warn\\\" ng-click=\\\"vm.deleteEdition($index)\\\"><md-icon>delete</md-icon></md-button></h3><div slide-toggle=\\\"edition.focused\\\"><edition-editor ng-model=\\\"edition.model\\\" flex=\\\"\\\"></edition-editor></div></md-whiteframe></section><section class=\\\"copies\\\"><md-toolbar class=\\\"md-hue-3\\\"><div class=\\\"md-toolbar-tools\\\"><h2>Digital Copies</h2><span flex=\\\"\\\"></span><md-button class=\\\"md-icon-button\\\" ng-click=\\\"work.copies.push({})\\\"><md-icon>add</md-icon></md-button></div></md-toolbar><div class=\\\"copy\\\" layout=\\\"column\\\" ng-repeat=\\\"copy in work.copies\\\"><div layout=\\\"row\\\"><copy-editor ng-model=\\\"copy\\\" flex=\\\"\\\"></copy-editor><md-button class=\\\"md-icon-button md-warn\\\" ng-click=\\\"work.copies.splice($index, 1)\\\"><md-icon>delete</md-icon></md-button></div></div></section>\");}]);"],"sourceRoot":"/source/"}