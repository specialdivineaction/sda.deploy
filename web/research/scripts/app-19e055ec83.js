!function(){"use strict";angular.module("sdaLibrary",["ngAnimate","ngCookies","ngSanitize","ngMessages","ngAria","ngResource","ui.router","ngMaterial","trcBiblio","trcBio","trcRefs","trcReln"])}(),function(){"use strict";function e(e){function t(t){return angular.isArray(t)&&(t=t[0]),t?e.compact([t.title,t.subtitle]).join(": "):""}return t}e.$inject=["_"],angular.module("sdaLibrary").filter("workTitle",e)}(),function(){"use strict";function e(e,t){var n=this;e.$watch("$ctrl.title",function(e){angular.isArray(e)&&(n.title=t.getTitle(e))})}e.$inject=["$scope","worksRepo"],angular.module("sdaLibrary").component("workTitle",{templateUrl:"app/components/work-title/work-title.html",bindings:{title:"<"},controller:e})}(),function(){"use strict";angular.module("sdaLibrary").component("workAuthors",{templateUrl:"app/components/work-authors/work-authors.html",bindings:{authors:"<"}})}(),function(){"use strict";function e(){function e(e){function n(n){var i={},o=e.get(t.url,{params:{q:n}}),a=o.then(function(e){return angular.merge(i,e.data),e.data});return Object.defineProperty(i,"$promise",{value:a}),i}var i={};return i.search=n,i}e.$inject=["$http"];var t={};return t.url="/api/search",t.$get=e,t}angular.module("sdaLibrary").provider("trcSearch",e)}(),function(){"use strict";function e(){function e(e,t,i){t===n&&e.slideUp(250,"easeInOutCubic",i)}function t(e,t,i){t===n&&e.hide().slideDown(250,"easeInOutCubic",i)}var n="ng-hide";return{beforeAddClass:e,removeClass:t}}angular.module("sdaLibrary").animation(".slide",e),jQuery.easing.easeInOutCubic=function(e,t,n,i,o){return(t/=o/2)<1?i/2*t*t*t+n:i/2*((t-=2)*t*t+2)+n}}(),function(){"use strict";angular.module("sdaLibrary").component("relationships",{templateUrl:"app/components/relationships/relationships.html",bindings:{relns:"<"}})}(),function(){"use strict";function e(){function e(e){var n="/book-reader/#/"+t.workId+"/"+e;return(t.editionId||t.volumeId)&&(n+="?"),t.editionId&&(n+="editionId="+t.editionId),t.editionId&&t.volumeId&&(n+="&"),t.volumeId&&(n+="volumeId="+t.volumeId),n}var t=this;t.getUrl=e}angular.module("sdaLibrary").component("readOnlineLink",{templateUrl:"app/components/read-online-link/read-online-link.html",bindings:{copies:"<",workId:"<",editionId:"<",volumeId:"<"},controller:e})}(),function(){"use strict";function e(e){function t(t){var n=t?[t.title,t.givenName,t.middleName,t.familyName,t.suffix]:[];return e.filter(n).join(" ")}return t}e.$inject=["_"],angular.module("sdaLibrary").filter("personName",e)}(),function(){"use strict";angular.module("sdaLibrary").component("personName",{templateUrl:"app/components/person-name/person-name.html",bindings:{name:"<"}})}(),function(){"use strict";function e(e){return e.isEmpty}e.$inject=["_"],angular.module("sdaLibrary").filter("empty",e)}(),function(){"use strict";angular.module("sdaLibrary").component("dateLocation",{templateUrl:"app/components/date-location/date-location.html",bindings:{event:"<"}})}(),function(){"use strict";function e(e){var n=this;e.$watch("$ctrl.content",function(e){n.longEnough=!e||e.length>t})}e.$inject=["$scope"],angular.module("sdaLibrary").component("collapsibleSummary",{templateUrl:"app/components/collapsible-summary/collapsible-summary.html",bindings:{content:"<"},controller:e});var t=500}(),function(){"use strict";angular.module("sdaLibrary").component("citation",{templateUrl:"app/components/citation/citation.html",bindings:{authors:"<",title:"<",pubInfo:"<",edition:"<",volume:"<"}})}(),function(){"use strict";function e(e,t,n){var i=this;i.person=e,i.refs=t,i.relatedWorks=n}e.$inject=["person","refs","relatedWorks"],angular.module("sdaLibrary").controller("PersonController",e)}(),function(){"use strict";function e(e,t,n,i){function o(){e.get("/assets/data/navigation.json").then(function(e){l.navigation=e.data})}function a(e){l.loading=!0,l.results=i.search(e),l.results.$promise.then(function(){l.loading=!1},function(){l.loading=!1,l.results=null,n.showSimple("Failed to load search results")})}function r(e){t(e).toggle()}var l=this;l.navigation=[],l.toggleSidenav=r,l.search=a,l.loading=!1,l.results=null,o()}e.$inject=["$http","$mdSidenav","$mdToast","trcSearch"],angular.module("sdaLibrary").controller("LibraryController",e)}(),function(){"use strict";function e(e,t,n,i){var o=this;o.work=e,o.refs=t,o.relns=n,o.title=i.getTitle(e.titles)}e.$inject=["work","refs","relns","worksRepo"],angular.module("sdaLibrary").controller("BookController",e)}(),function(){"use strict";function e(e){e.debug("runBlock end")}e.$inject=["$log"],angular.module("sdaLibrary").run(e)}(),function(){"use strict";function e(e,t){e.state("library",{url:"/",templateUrl:"app/library/library.html",controller:"LibraryController",controllerAs:"vm"}).state("library.person",{url:"people/:id",templateUrl:"app/person/person.html",controller:"PersonController",controllerAs:"vm",resolve:{person:["$stateParams","peopleRepo",function(e,t){"ngInject";var n=t.get(e.id);return n.$promise}],refs:["$stateParams","peopleRepo","refsRepoFactory",function(e,t,n){"ngInject";var i=t.getReferencesEndpoint(e.id),o=n.getRepo(i),a=o.get();return a.$promise}],relatedWorks:["$stateParams","worksRepo",function(e,t){"ngInject";var n=t.searchByAuthor(e.id);return n.$promise.then(function(e){return e.items})}]}}).state("library.book",{url:"books/:id",templateUrl:"app/book/book.html",controller:"BookController",controllerAs:"vm",resolve:{work:["$stateParams","worksRepo",function(e,t){"ngInject";var n=t.get(e.id);return n.$promise}],refs:["$stateParams","worksRepo","refsRepoFactory",function(e,t,n){"ngInject";var i=t.getReferencesEndpoint(e.id),o=n.getRepo(i),a=o.get();return a.$promise}],relns:["$stateParams","relnRepo","worksRepo",function(e,t,n){"ngInject";var i="works/"+e.id,o=t.search(i);return o.$promise.then(function(){var e=t.normalizeRelationships(o,i,n);return e.$promise}).catch(function(){return[]})}]}}),t.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("sdaLibrary").config(e)}(),function(){"use strict";angular.module("sdaLibrary")}(),function(){"use strict";function e(e,t,n,i,o,a){e.debugEnabled(!0),n.url="/api/catalog/works",i.url="/api/catalog/people",o.url="/api/catalog/search",a.url="/api/catalog/relationships",t.definePalette("darkBrown",{50:"#595c59",100:"#4c4f4c",200:"#404240",300:"#333533",400:"#272827",500:"#1a1b1a",600:"#0d0e0d",700:"#010101",800:"#000000",900:"#000000",A100:"#e0f0e0",A200:"#565956",A400:"#7e837e",A700:"#000000",contrastDefaultColor:"light",contrastDarkColors:["A100"]}),t.definePalette("copper",{50:"#d4b190",100:"#cca47e",200:"#c5976b",300:"#be8a59",400:"#b67e47",500:"#a47140",600:"#926439",700:"#7f5832",800:"#6d4b2b",900:"#5b3e23",A100:"#dcc3ab",A200:"#a47140",A400:"#48321c",A700:"#272927",contrastDefaultColor:"light",contrastDarkColors:["50","100","200","A100"]}),t.theme("default").primaryPalette("darkBrown").accentPalette("copper")}e.$inject=["$logProvider","$mdThemingProvider","worksRepoProvider","peopleRepoProvider","trcSearchProvider","relnRepoProvider"],angular.module("sdaLibrary").config(e)}(),function(){"use strict";function e(e){function i(t,n){function i(e){return e.get("/assets/csl/locales/locales-"+t+".xml").then(function(e){return e.data})}i.$inject=["$http"],e.addLocale(n,i)}function o(t,n){function i(e){return e.get("/assets/csl/styles/"+t+".csl").then(function(e){return e.data})}i.$inject=["$http"],e.addStyle(n,i)}angular.forEach(t,i),angular.forEach(n,o)}e.$inject=["citeprocProvider"],angular.module("sdaLibrary").config(e);var t={"en-US":"en-US"},n={mla:"modern-language-association",chicago:"chicago-author-date"}}(),angular.module("sdaLibrary").run(["$templateCache",function(e){e.put("app/book/book.html",'<md-content class=md-content layout=row layout-padding layout-margin><div flex=66><h1 class="title md-display-1" layout=row><work-title title=vm.title></work-title><span flex></span><read-online-link copies=vm.work.copies work-id=vm.work.id></read-online-link></h1><p class=by-line ng-if="vm.work.authors && vm.work.authors.length > 0"><span>by</span><work-authors authors=vm.work.authors></work-authors></p><collapsible-summary ng-if=vm.work.summary content=vm.work.summary></collapsible-summary><section class=editions ng-if="vm.work.editions && vm.work.editions.length > 0"><h2 class=md-title>Editions</h2><div class=edition ng-repeat="edition in vm.work.editions"><h3 class=handle layout=row layout-align="start center" ng-click="edition.active = !edition.active"><md-button class=md-icon-button aria-label="toggle details"><md-icon>expand_{{edition.active ? \'less\' : \'more\'}}</md-icon></md-button><span>{{edition.editionName || \'[Untitled Edition]\'}}</span> <span flex></span><read-online-link copies=edition.copies work-id=vm.work.id edition-id=edition.id></read-online-link></h3><div class=slide ng-show=edition.active><citation authors=edition.authors title=edition.titles edition=edition.editionName pub-info=edition.publicationInfo></citation><section class=summary ng-if=edition.summary ng-bind-html=edition.summary></section><section class=volumes ng-if="edition.volumes && edition.volumes.length > 0"><h4 class=md-title>Volumes</h4><div class=volume ng-repeat="volume in edition.volumes"><h5 class=handle ng-click="volume.active = !volume.active" layout=row layout-align="start center"><md-button class=md-icon-button><md-icon>expand_{{volume.active ? \'less\': \'more\'}}</md-icon></md-button><span>Volume {{volume.volumeNumber}}</span> <span flex></span><read-online-link copies=volume.copies work-id=vm.work.id edition-id=edition.id volume-id=volume.id></read-online-link></h5><div class=slide ng-show=volume.active><citation authors=volume.authors title=volume.titles edition=edition.editionName volume=volume.volumeNumber pub-info=volume.publicationInfo></citation><section class=summary ng-if=edition.summary ng-bind-html=edition.summary></section></div></div></section></div></div></section></div><div layout=column layout-padding flex=33><div ng-if="vm.relns.length > 0"><h2>Related Books</h2><relationships relns=vm.relns></relationships></div><div ng-if=true><h2>See Also</h2><ul></ul></div><div ng-if="!(vm.refs.bibliography | empty)"><h2>Bibliography</h2><bibliography refs=vm.refs style-id=chicago></bibliography></div></div></md-content>'),e.put("app/library/library.html",'<md-toolbar class=layout-navbar layout=row layout-align=center><div class="md-toolbar-tools container" layout=row layout-align="start stretch"><div layout=row layout-align="center center"><md-button class="md-accent md-icon-button" ng-click="vm.toggleSidenav(\'left\')" hide-gt-md><md-icon>menu</md-icon></md-button><a class=logo href=/ layout=column layout-align="center center"><img src=/assets/images/sda-logo-light.png alt=SDA flex=nogrow></a></div><nav layout=column><ul class=nav layout=row flex><li ng-repeat="link in vm.navigation" ng-class="{active: link.url == \'/research\'}" layout=column><a ng-href={{link.url}} layout=row layout-align="center center" flex><span>{{link.label}}</span></a></li></ul></nav></div></md-toolbar><div class=page-banner layout=row layout-align=center><div class=container flex><h1>Research</h1></div></div><main layout=row layout-align=center flex><div class=container layout=row flex><md-sidenav md-component-id=left class=md-sidenav-left md-is-locked-open="$mdMedia(\'gt-md\')" layout=column><div layout=row flex=none><md-input-container flex><label>search</label><md-icon>search</md-icon><input type=search ng-model=query ng-model-options="{debounce: 500}" ng-change=vm.search(query)></md-input-container></div><div layout=row ng-if=vm.loading layout-align="center center" flex><md-progress-circular md-mode=indeterminate></md-progress-circular></div><md-content ng-if="!vm.loading && vm.results" flex><md-subheader class="md-no-sticky collapse-handle" ng-click="hidePeople = !hidePeople"><md-icon>{{hidePeople ? \'keyboard_arrow_right\' : \'expand_more\'}}</md-icon>People</md-subheader><md-list ng-if=vm.results.people class=slide ng-hide=hidePeople><md-list-item class=md-2-line ng-repeat="person in vm.results.people" ui-sref=".person({id: person.id})"><div class=md-list-item-text><h3>{{person.label}}</h3><p>{{person.summaryExcerpt}}</p></div></md-list-item></md-list><md-subheader class="md-no-sticky collapse-handle" ng-click="hideWorks = !hideWorks"><md-icon>{{hideWorks ? \'keyboard_arrow_right\' : \'expand_more\'}}</md-icon>Works</md-subheader><md-list ng-if=vm.results.works class=slide ng-hide=hideWorks><md-list-item ng-repeat="work in vm.results.works" ui-sref=".book({id: work.id})"><div class=md-list-item-text><p class=work-result-label>{{work.label}}</p></div></md-list-item></md-list></md-content></md-sidenav><div layout=column flex ui-view><md-content flex layout=row layout-padding layout-margin><section flex=66><h1>Overview</h1><p>Scholarship on Special Divine Action is in practice dominated by a tiny handful of historical texts, like a few islands emerging from a submerged landscape of connected ideas. The SDA library reveals this landscape. The library contains around two thousand key texts by more than a thousand authors, together with biographies, summaries and relationships to assist scholars and students to explore their ideas, debates, and influences.</p><p>This collection focuses on the period from the rise of early modern science, through the Deist and Enlightenment debates, and into early modernism. This period sets the stage for contemporary conflict narratives that pit science against religion, or the arts, or the humanities generally, as well as the range of positions held today.</p><h1>Tools</h1><div class=tools layout=row layout-align=center><a href=/influence-map><md-card><img src=/assets/images/tile-influence-map.png class=md-card-image><md-card-content><h3>Influence Map</h3></md-card-content></md-card></a><a href=/vwise><md-card><img src=/assets/images/tile-vwise.png class=md-card-image><md-card-content><h3>Visual Workspace</h3></md-card-content></md-card></a></div></section><aside class=starting-points flex=33><h2>Starting Points</h2><md-list><md-list-item ng-repeat="book in vm.items"><p><em>Title</em> by Author</p></md-list-item></md-list></aside></md-content></div></div></main>'),e.put("app/person/person.html",'<md-content layout=row layout-padding layout-margin flex><div flex=66><h1 class=md-display-1>{{vm.person.name.label}}</h1><collapsible-summary ng-if=vm.person.summary content=vm.person.summary></collapsible-summary><section class=bibliography ng-if="!(vm.refs.bibliography | empty)"><h2>Bibliography</h2><bibliography refs=vm.refs style-id=chicago></bibliography></section></div><aside layout=column layout-padding flex=33><div ng-if="(vm.person.name | personName) != vm.person.name.label" layout=row><strong flex=20>Name</strong><person-name name=vm.person.name></person-name></div><div ng-if="vm.person.altNames.length > 0" layout=row><strong flex=20>a.k.a.</strong><ul class=alt-names layout=column><li ng-repeat="name in vm.person.altNames"><span class=display ng-if=name.label>{{name.label}}</span><person-name name=name ng-if=!name.label></person-name></li></ul></div><div ng-if=vm.person.birth layout=row><strong flex=20>Born</strong><date-location event=vm.person.birth layout=column></date-location></div><div ng-if=vm.person.death layout=row><strong flex=20>Died</strong><date-location event=vm.person.death layout=column></date-location></div><div ng-if="vm.relatedWorks && vm.relatedWorks.length > 0"><h2 class=list-heading>Books</h2><md-list><md-list-item ui-sref="^.book({id: work.id})" ng-repeat="work in vm.relatedWorks | orderBy: \'pubYear\'"><p class=work-result-label><span class=title>{{work.title}}</span> <span ng-if=work.pubYear>({{work.pubYear}})</span></p></md-list-item></md-list></div></aside></md-content>'),e.put("app/components/citation/citation.html",'<work-authors class=authors authors=$ctrl.authors></work-authors><work-title class=title title=$ctrl.title></work-title><span class=edition ng-if=$ctrl.edition>{{$ctrl.edition}}.</span> <span class=volume ng-if=$ctrl.volume>{{$ctrl.volume}}.</span> <span class=pubinfo ng-if="$ctrl.pubInfo.place || $ctrl.pubInfo.publisher || $ctrl.pubInfo.date.description">(<span class=place ng-if=$ctrl.pubInfo.place>{{$ctrl.pubInfo.place}},</span> <span class=publisher ng-if=$ctrl.pubInfo.publisher>{{$ctrl.pubInfo.publisher}}.</span> <time class=date ng-if=$ctrl.pubInfo.date.description datetime={{$ctrl.pubInfo.date.calendar}}>{{$ctrl.pubInfo.date.description}}</time>)</span>'),e.put("app/components/collapsible-summary/collapsible-summary.html",'<section class=summary ng-bind-html=$ctrl.content ng-class="{collapsed: ($ctrl.longEnough && !$ctrl.summaryExpanded)}" ng-click="$ctrl.summaryExpanded = true"></section><div layout=row layout-align="center center" ng-if=$ctrl.longEnough><md-button ng-click="$ctrl.summaryExpanded = !$ctrl.summaryExpanded" class=md-raised>Show {{$ctrl.summaryExpanded ? \'Less\' : \'More\'}}</md-button></div>'),e.put("app/components/date-location/date-location.html","<time class=date ng-if=$ctrl.event.date datetime={{$ctrl.event.date.calendar}}>{{$ctrl.event.date.description}}</time> <span class=location ng-if=$ctrl.event.location>{{$ctrl.event.location}}</span><div ng-if=$ctrl.event.description ng-bind-html=$ctrl.event.description></div>"),e.put("app/components/person-name/person-name.html","<span class=prefix ng-if=$ctrl.name.title>{{$ctrl.name.title}}</span> <span class=first ng-if=$ctrl.name.givenName>{{$ctrl.name.givenName}}</span> <span class=middle ng-if=$ctrl.name.middleName>{{$ctrl.name.middleName}}</span> <span class=last ng-if=$ctrl.name.familyName>{{$ctrl.name.familyName}}</span> <span class=suffix ng-if=$ctrl.name.suffix>{{$ctrl.name.suffix}}</span>"),e.put("app/components/read-online-link/read-online-link.html",'<md-button class=md-icon-button aria-label="read online" ng-if="$ctrl.copies.length == 1" ng-href={{$ctrl.getUrl($ctrl.copies[0].id)}}><md-icon>book</md-icon><md-tooltip>Read Online</md-tooltip></md-button><md-menu ng-if="$ctrl.copies.length > 1"><md-button class=md-icon-button aria-label="read online" ng-click=$mdOpenMenu($event)><md-icon>book</md-icon><md-tooltip>Read Online</md-tooltip></md-button><md-menu-content><md-menu-item ng-repeat="book in $ctrl.copies"><md-button ng-href={{$ctrl.getUrl(book.id)}}><md-icon>book</md-icon>{{book.title}}</md-button></md-menu-item></md-menu-content></md-menu>'),e.put("app/components/relationships/relationships.html",'<div ng-repeat="group in $ctrl.relns"><md-subheader class="md-no-sticky collapse-handle" ng-click="group.visible = !group.visible"><md-icon>{{group.visible ? \'expand_more\' : \'keyboard_arrow_right\'}}</md-icon>{{group.label}}</md-subheader><md-list class=slide ng-show=group.visible><div ng-repeat="reln in group.relationships"><md-list-item ng-repeat="entity in reln.entities" ui-sref="library.book({id: entity.refParams.workId})" aria-label="{{entity.entity.titles | workTitle}}"><citation authors=entity.entity.authors title=entity.entity.titles pub-info=entity.entity.publicationInfo edition=entity.entity.editionName volume=entity.entity.volumeNumber></citation></md-list-item></div></md-list></div>'),e.put("app/components/work-authors/work-authors.html","<span class=author ng-repeat=\"author in $ctrl.authors\"><a ui-sref=\"library.person({id: author.authorId})\">{{author.firstName}} {{author.lastName}}</a>{{$last ? '' : ',' }}</span>"),e.put("app/components/work-title/work-title.html","<span class=title ng-if=$ctrl.title.title>{{$ctrl.title.title}}</span>{{ $ctrl.title.title && $ctrl.title.subtitle ? ': ' : ''}}<span class=subtitle ng-if=$ctrl.title.subtitle>{{$ctrl.title.subtitle}}</span>")}]);