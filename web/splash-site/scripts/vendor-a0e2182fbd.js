/*!
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */
!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e="length"in t&&t.length,n=Z.type(t);return"function"===n||Z.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function i(t,e,n){if(Z.isFunction(e))return Z.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return Z.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(at.test(e))return Z.filter(e,t,n);e=Z.filter(e,t)}return Z.grep(t,function(t){return G.call(e,t)>=0!==n})}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function s(t){var e=dt[t]={};return Z.each(t.match(pt)||[],function(t,n){e[n]=!0}),e}function o(){Q.removeEventListener("DOMContentLoaded",o,!1),t.removeEventListener("load",o,!1),Z.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+a.uid++}function u(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(_t,"-$1").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:yt.test(n)?Z.parseJSON(n):n}catch(r){}bt.set(t,e,n)}else n=void 0;return n}function l(){return!0}function c(){return!1}function h(){try{return Q.activeElement}catch(t){}}function f(t,e){return Z.nodeName(t,"table")&&Z.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function p(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function d(t){var e=jt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function m(t,e){for(var n=0,i=t.length;i>n;n++)vt.set(t[n],"globalEval",!e||vt.get(e[n],"globalEval"))}function g(t,e){var n,i,r,s,o,a,u,l;if(1===e.nodeType){if(vt.hasData(t)&&(s=vt.access(t),o=vt.set(e,s),l=s.events)){delete o.handle,o.events={};for(r in l)for(n=0,i=l[r].length;i>n;n++)Z.event.add(e,r,l[r][n])}bt.hasData(t)&&(a=bt.access(t),u=Z.extend({},a),bt.set(e,u))}}function v(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&Z.nodeName(t,e)?Z.merge([t],n):n}function b(t,e){var n=e.nodeName.toLowerCase();"input"===n&&$t.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function y(e,n){var i,r=Z(n.createElement(e)).appendTo(n.body),s=t.getDefaultComputedStyle&&(i=t.getDefaultComputedStyle(r[0]))?i.display:Z.css(r[0],"display");return r.detach(),s}function _(t){var e=Q,n=Ft[t];return n||(n=y(t,e),"none"!==n&&n||(Ut=(Ut||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Ut[0].contentDocument,e.write(),e.close(),n=y(t,e),Ut.detach()),Ft[t]=n),n}function S(t,e,n){var i,r,s,o,a=t.style;return n=n||Vt(t),n&&(o=n.getPropertyValue(e)||n[e]),n&&(""!==o||Z.contains(t.ownerDocument,t)||(o=Z.style(t,e)),Bt.test(o)&&qt.test(e)&&(i=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=n.width,a.width=i,a.minWidth=r,a.maxWidth=s)),void 0!==o?o+"":o}function x(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function C(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),i=e,r=Yt.length;r--;)if(e=Yt[r]+n,e in t)return e;return i}function $(t,e,n){var i=zt.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function w(t,e,n,i,r){for(var s=n===(i?"border":"content")?4:"width"===e?1:0,o=0;4>s;s+=2)"margin"===n&&(o+=Z.css(t,n+xt[s],!0,r)),i?("content"===n&&(o-=Z.css(t,"padding"+xt[s],!0,r)),"margin"!==n&&(o-=Z.css(t,"border"+xt[s]+"Width",!0,r))):(o+=Z.css(t,"padding"+xt[s],!0,r),"padding"!==n&&(o+=Z.css(t,"border"+xt[s]+"Width",!0,r)));return o}function L(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,s=Vt(t),o="border-box"===Z.css(t,"boxSizing",!1,s);if(0>=r||null==r){if(r=S(t,e,s),(0>r||null==r)&&(r=t.style[e]),Bt.test(r))return r;i=o&&(K.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+w(t,e,n||(o?"border":"content"),i,s)+"px"}function T(t,e){for(var n,i,r,s=[],o=0,a=t.length;a>o;o++)i=t[o],i.style&&(s[o]=vt.get(i,"olddisplay"),n=i.style.display,e?(s[o]||"none"!==n||(i.style.display=""),""===i.style.display&&Ct(i)&&(s[o]=vt.access(i,"olddisplay",_(i.nodeName)))):(r=Ct(i),"none"===n&&r||vt.set(i,"olddisplay",r?n:Z.css(i,"display"))));for(o=0;a>o;o++)i=t[o],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?s[o]||"":"none"));return t}function k(t,e,n,i,r){return new k.prototype.init(t,e,n,i,r)}function A(){return setTimeout(function(){Kt=void 0}),Kt=Z.now()}function E(t,e){var n,i=0,r={height:t};for(e=e?1:0;4>i;i+=2-e)n=xt[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function O(t,e,n){for(var i,r=(ne[e]||[]).concat(ne["*"]),s=0,o=r.length;o>s;s++)if(i=r[s].call(n,e,t))return i}function I(t,e,n){var i,r,s,o,a,u,l,c,h=this,f={},p=t.style,d=t.nodeType&&Ct(t),m=vt.get(t,"fxshow");n.queue||(a=Z._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,Z.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=Z.css(t,"display"),c="none"===l?vt.get(t,"olddisplay")||_(t.nodeName):l,"inline"===c&&"none"===Z.css(t,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],Jt.exec(r)){if(delete e[i],s=s||"toggle"===r,r===(d?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;d=!0}f[i]=m&&m[i]||Z.style(t,i)}else l=void 0;if(Z.isEmptyObject(f))"inline"===("none"===l?_(t.nodeName):l)&&(p.display=l);else{m?"hidden"in m&&(d=m.hidden):m=vt.access(t,"fxshow",{}),s&&(m.hidden=!d),d?Z(t).show():h.done(function(){Z(t).hide()}),h.done(function(){var e;vt.remove(t,"fxshow");for(e in f)Z.style(t,e,f[e])});for(i in f)o=O(d?m[i]:0,i,h),i in m||(m[i]=o.start,d&&(o.end=o.start,o.start="width"===i||"height"===i?1:0))}}function N(t,e){var n,i,r,s,o;for(n in t)if(i=Z.camelCase(n),r=e[i],s=t[n],Z.isArray(s)&&(r=s[1],s=t[n]=s[0]),n!==i&&(t[i]=s,delete t[n]),o=Z.cssHooks[i],o&&"expand"in o){s=o.expand(s),delete t[i];for(n in s)n in t||(t[n]=s[n],e[n]=r)}else e[i]=r}function D(t,e,n){var i,r,s=0,o=ee.length,a=Z.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var e=Kt||A(),n=Math.max(0,l.startTime+l.duration-e),i=n/l.duration||0,s=1-i,o=0,u=l.tweens.length;u>o;o++)l.tweens[o].run(s);return a.notifyWith(t,[l,s,n]),1>s&&u?n:(a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:Z.extend({},e),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Kt||A(),duration:n.duration,tweens:[],createTween:function(e,n){var i=Z.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)l.tweens[n].run(1);return e?a.resolveWith(t,[l,e]):a.rejectWith(t,[l,e]),this}}),c=l.props;for(N(c,l.opts.specialEasing);o>s;s++)if(i=ee[s].call(l,t,c,l.opts))return i;return Z.map(c,O,l),Z.isFunction(l.opts.start)&&l.opts.start.call(t,l),Z.fx.timer(Z.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function R(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,s=e.toLowerCase().match(pt)||[];if(Z.isFunction(n))for(;i=s[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function j(t,e,n,i){function r(a){var u;return s[a]=!0,Z.each(t[a]||[],function(t,a){var l=a(e,n,i);return"string"!=typeof l||o||s[l]?o?!(u=l):void 0:(e.dataTypes.unshift(l),r(l),!1)}),u}var s={},o=t===ye;return r(e.dataTypes[0])||!s["*"]&&r("*")}function M(t,e){var n,i,r=Z.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&Z.extend(!0,t,i),t}function P(t,e,n){for(var i,r,s,o,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){u.unshift(r);break}if(u[0]in n)s=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){s=r;break}o||(o=r)}s=s||o}return s?(s!==u[0]&&u.unshift(s),n[s]):void 0}function U(t,e,n,i){var r,s,o,a,u,l={},c=t.dataTypes.slice();if(c[1])for(o in t.converters)l[o.toLowerCase()]=t.converters[o];for(s=c.shift();s;)if(t.responseFields[s]&&(n[t.responseFields[s]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=s,s=c.shift())if("*"===s)s=u;else if("*"!==u&&u!==s){if(o=l[u+" "+s]||l["* "+s],!o)for(r in l)if(a=r.split(" "),a[1]===s&&(o=l[u+" "+a[0]]||l["* "+a[0]])){o===!0?o=l[r]:l[r]!==!0&&(s=a[0],c.unshift(a[1]));break}if(o!==!0)if(o&&t["throws"])e=o(e);else try{e=o(e)}catch(h){return{state:"parsererror",error:o?h:"No conversion from "+u+" to "+s}}}return{state:"success",data:e}}function F(t,e,n,i){var r;if(Z.isArray(e))Z.each(e,function(e,r){n||$e.test(t)?i(t,r):F(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==Z.type(e))i(t,e);else for(r in e)F(t+"["+r+"]",e[r],n,i)}function q(t){return Z.isWindow(t)?t:9===t.nodeType&&t.defaultView}var B=[],V=B.slice,H=B.concat,z=B.push,G=B.indexOf,W={},X=W.toString,Y=W.hasOwnProperty,K={},Q=t.document,J="2.1.4",Z=function(t,e){return new Z.fn.init(t,e)},tt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,et=/^-ms-/,nt=/-([\da-z])/gi,it=function(t,e){return e.toUpperCase()};Z.fn=Z.prototype={jquery:J,constructor:Z,selector:"",length:0,toArray:function(){return V.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:V.call(this)},pushStack:function(t){var e=Z.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return Z.each(this,t,e)},map:function(t){return this.pushStack(Z.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(V.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:z,sort:B.sort,splice:B.splice},Z.extend=Z.fn.extend=function(){var t,e,n,i,r,s,o=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[a]||{},a++),"object"==typeof o||Z.isFunction(o)||(o={}),a===u&&(o=this,a--);u>a;a++)if(null!=(t=arguments[a]))for(e in t)n=o[e],i=t[e],o!==i&&(l&&i&&(Z.isPlainObject(i)||(r=Z.isArray(i)))?(r?(r=!1,s=n&&Z.isArray(n)?n:[]):s=n&&Z.isPlainObject(n)?n:{},o[e]=Z.extend(l,s,i)):void 0!==i&&(o[e]=i));return o},Z.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===Z.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!Z.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"!==Z.type(t)||t.nodeType||Z.isWindow(t)?!1:t.constructor&&!Y.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?W[X.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=Z.trim(t),t&&(1===t.indexOf("use strict")?(e=Q.createElement("script"),e.text=t,Q.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(et,"ms-").replace(nt,it)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var r,s=0,o=t.length,a=n(t);if(i){if(a)for(;o>s&&(r=e.apply(t[s],i),r!==!1);s++);else for(s in t)if(r=e.apply(t[s],i),r===!1)break}else if(a)for(;o>s&&(r=e.call(t[s],s,t[s]),r!==!1);s++);else for(s in t)if(r=e.call(t[s],s,t[s]),r===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(tt,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?Z.merge(i,"string"==typeof t?[t]:t):z.call(i,t)),i},inArray:function(t,e,n){return null==e?-1:G.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],s=0,o=t.length,a=!n;o>s;s++)i=!e(t[s],s),i!==a&&r.push(t[s]);return r},map:function(t,e,i){var r,s=0,o=t.length,a=n(t),u=[];if(a)for(;o>s;s++)r=e(t[s],s,i),null!=r&&u.push(r);else for(s in t)r=e(t[s],s,i),null!=r&&u.push(r);return H.apply([],u)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),Z.isFunction(t)?(i=V.call(arguments,2),r=function(){return t.apply(e||this,i.concat(V.call(arguments)))},r.guid=t.guid=t.guid||Z.guid++,r):void 0},now:Date.now,support:K}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){W["[object "+e+"]"]=e.toLowerCase()});var rt=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(t){function e(t,e,n,i){var r,s,o,a,u,l,h,p,d,m;if((e?e.ownerDocument||e:F)!==I&&O(e),e=e||I,n=n||[],a=e.nodeType,"string"!=typeof t||!t||1!==a&&9!==a&&11!==a)return n;if(!i&&D){if(11!==a&&(r=bt.exec(t)))if(o=r[1]){if(9===a){if(s=e.getElementById(o),!s||!s.parentNode)return n;if(s.id===o)return n.push(s),n}else if(e.ownerDocument&&(s=e.ownerDocument.getElementById(o))&&P(e,s)&&s.id===o)return n.push(s),n}else{if(r[2])return J.apply(n,e.getElementsByTagName(t)),n;if((o=r[3])&&S.getElementsByClassName)return J.apply(n,e.getElementsByClassName(o)),n}if(S.qsa&&(!R||!R.test(t))){if(p=h=U,d=e,m=1!==a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(l=w(t),(h=e.getAttribute("id"))?p=h.replace(_t,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",u=l.length;u--;)l[u]=p+f(l[u]);d=yt.test(t)&&c(e.parentNode)||e,m=l.join(",")}if(m)try{return J.apply(n,d.querySelectorAll(m)),n}catch(g){}finally{h||e.removeAttribute("id")}}}return T(t.replace(ut,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[U]=!0,t}function r(t){var e=I.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e){for(var n=t.split("|"),i=t.length;i--;)x.attrHandle[n[i]]=e}function o(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||W)-(~t.sourceIndex||W);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return i(function(e){return e=+e,i(function(n,i){for(var r,s=t([],n.length,e),o=s.length;o--;)n[r=s[o]]&&(n[r]=!(i[r]=n[r]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function f(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,r=n&&"parentNode"===i,s=B++;return e.first?function(e,n,s){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,s)}:function(e,n,o){var a,u,l=[q,s];if(o){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,o))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(u=e[U]||(e[U]={}),(a=u[i])&&a[0]===q&&a[1]===s)return l[2]=a[2];if(u[i]=l,l[2]=t(e,n,o))return!0}}}function d(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function m(t,n,i){for(var r=0,s=n.length;s>r;r++)e(t,n[r],i);return i}function g(t,e,n,i,r){for(var s,o=[],a=0,u=t.length,l=null!=e;u>a;a++)(s=t[a])&&(!n||n(s,i,r))&&(o.push(s),l&&e.push(a));return o}function v(t,e,n,r,s,o){return r&&!r[U]&&(r=v(r)),s&&!s[U]&&(s=v(s,o)),i(function(i,o,a,u){var l,c,h,f=[],p=[],d=o.length,v=i||m(e||"*",a.nodeType?[a]:a,[]),b=!t||!i&&e?v:g(v,f,t,a,u),y=n?s||(i?t:d||r)?[]:o:b;if(n&&n(b,y,a,u),r)for(l=g(y,p),r(l,[],a,u),c=l.length;c--;)(h=l[c])&&(y[p[c]]=!(b[p[c]]=h));if(i){if(s||t){if(s){for(l=[],c=y.length;c--;)(h=y[c])&&l.push(b[c]=h);s(null,y=[],l,u)}for(c=y.length;c--;)(h=y[c])&&(l=s?tt(i,h):f[c])>-1&&(i[l]=!(o[l]=h))}}else y=g(y===o?y.splice(d,y.length):y),s?s(null,o,y,u):J.apply(o,y)})}function b(t){for(var e,n,i,r=t.length,s=x.relative[t[0].type],o=s||x.relative[" "],a=s?1:0,u=p(function(t){return t===e},o,!0),l=p(function(t){return tt(e,t)>-1},o,!0),c=[function(t,n,i){var r=!s&&(i||n!==k)||((e=n).nodeType?u(t,n,i):l(t,n,i));return e=null,r}];r>a;a++)if(n=x.relative[t[a].type])c=[p(d(c),n)];else{if(n=x.filter[t[a].type].apply(null,t[a].matches),n[U]){for(i=++a;r>i&&!x.relative[t[i].type];i++);return v(a>1&&d(c),a>1&&f(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ut,"$1"),n,i>a&&b(t.slice(a,i)),r>i&&b(t=t.slice(i)),r>i&&f(t))}c.push(n)}return d(c)}function y(t,n){var r=n.length>0,s=t.length>0,o=function(i,o,a,u,l){var c,h,f,p=0,d="0",m=i&&[],v=[],b=k,y=i||s&&x.find.TAG("*",l),_=q+=null==b?1:Math.random()||.1,S=y.length;for(l&&(k=o!==I&&o);d!==S&&null!=(c=y[d]);d++){if(s&&c){for(h=0;f=t[h++];)if(f(c,o,a)){u.push(c);break}l&&(q=_)}r&&((c=!f&&c)&&p--,i&&m.push(c))}if(p+=d,r&&d!==p){for(h=0;f=n[h++];)f(m,v,o,a);if(i){if(p>0)for(;d--;)m[d]||v[d]||(v[d]=K.call(u));v=g(v)}J.apply(u,v),l&&!i&&v.length>0&&p+n.length>1&&e.uniqueSort(u)}return l&&(q=_,k=b),m};return r?i(o):o}var _,S,x,C,$,w,L,T,k,A,E,O,I,N,D,R,j,M,P,U="sizzle"+1*new Date,F=t.document,q=0,B=0,V=n(),H=n(),z=n(),G=function(t,e){return t===e&&(E=!0),0},W=1<<31,X={}.hasOwnProperty,Y=[],K=Y.pop,Q=Y.push,J=Y.push,Z=Y.slice,tt=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=it.replace("w","w#"),st="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+st+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),ut=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ht=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ft=new RegExp(ot),pt=new RegExp("^"+rt+"$"),dt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,_t=/'|\\/g,St=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),xt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ct=function(){O()};try{J.apply(Y=Z.call(F.childNodes),F.childNodes),Y[F.childNodes.length].nodeType}catch($t){J={apply:Y.length?function(t,e){Q.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}S=e.support={},$=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},O=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:F;return i!==I&&9===i.nodeType&&i.documentElement?(I=i,N=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),D=!$(i),S.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),S.getElementsByTagName=r(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),S.getElementsByClassName=vt.test(i.getElementsByClassName),S.getById=r(function(t){return N.appendChild(t).id=U,!i.getElementsByName||!i.getElementsByName(U).length}),S.getById?(x.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&D){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(t){var e=t.replace(St,xt);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(St,xt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),x.find.TAG=S.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):S.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,s=e.getElementsByTagName(t);if("*"===t){for(;n=s[r++];)1===n.nodeType&&i.push(n);return i}return s},x.find.CLASS=S.getElementsByClassName&&function(t,e){return D?e.getElementsByClassName(t):void 0},j=[],R=[],(S.qsa=vt.test(i.querySelectorAll))&&(r(function(t){N.appendChild(t).innerHTML="<a id='"+U+"'></a><select id='"+U+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||R.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+U+"-]").length||R.push("~="),t.querySelectorAll(":checked").length||R.push(":checked"),t.querySelectorAll("a#"+U+"+*").length||R.push(".#.+[+~]")}),r(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&R.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),R.push(",.*:")})),(S.matchesSelector=vt.test(M=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&r(function(t){S.disconnectedMatch=M.call(t,"div"),M.call(t,"[s!='']:x"),j.push("!=",ot)}),R=R.length&&new RegExp(R.join("|")),j=j.length&&new RegExp(j.join("|")),e=vt.test(N.compareDocumentPosition),P=e||vt.test(N.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},G=e?function(t,e){if(t===e)return E=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!S.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===F&&P(F,t)?-1:e===i||e.ownerDocument===F&&P(F,e)?1:A?tt(A,t)-tt(A,e):0:4&n?-1:1)}:function(t,e){if(t===e)return E=!0,0;var n,r=0,s=t.parentNode,a=e.parentNode,u=[t],l=[e];if(!s||!a)return t===i?-1:e===i?1:s?-1:a?1:A?tt(A,t)-tt(A,e):0;if(s===a)return o(t,e);for(n=t;n=n.parentNode;)u.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;u[r]===l[r];)r++;return r?o(u[r],l[r]):u[r]===F?-1:l[r]===F?1:0},i):I},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==I&&O(t),n=n.replace(ht,"='$1']"),S.matchesSelector&&D&&(!j||!j.test(n))&&(!R||!R.test(n)))try{var i=M.call(t,n);if(i||S.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,I,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==I&&O(t),P(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==I&&O(t);var n=x.attrHandle[e.toLowerCase()],i=n&&X.call(x.attrHandle,e.toLowerCase())?n(t,e,!D):void 0;return void 0!==i?i:S.attributes||!D?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(E=!S.detectDuplicates,A=!S.sortStable&&t.slice(0),t.sort(G),E){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return A=null,t},C=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=C(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=C(e);return n},x=e.selectors={cacheLength:50,createPseudo:i,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(St,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(St,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ft.test(n)&&(e=w(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(St,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=V[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&V(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var s=e.attr(r,t);return null==s?"!="===n:n?(s+="","="===n?s===i:"!="===n?s!==i:"^="===n?i&&0===s.indexOf(i):"*="===n?i&&s.indexOf(i)>-1:"$="===n?i&&s.slice(-i.length)===i:"~="===n?(" "+s.replace(at," ")+" ").indexOf(i)>-1:"|="===n?s===i||s.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var s="nth"!==t.slice(0,3),o="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var l,c,h,f,p,d,m=s!==o?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),b=!u&&!a;if(g){if(s){for(;m;){for(h=e;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;d=m="only"===t&&!d&&"nextSibling"}return!0}if(d=[o?g.firstChild:g.lastChild],o&&b){for(c=g[U]||(g[U]={}),l=c[t]||[],p=l[0]===q&&l[1],f=l[0]===q&&l[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(f=p=0)||d.pop();)if(1===h.nodeType&&++f&&h===e){c[t]=[q,p,f];break}}else if(b&&(l=(e[U]||(e[U]={}))[t])&&l[0]===q)f=l[1];else for(;(h=++p&&h&&h[m]||(f=p=0)||d.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++f||(b&&((h[U]||(h[U]={}))[t]=[q,f]),h!==e)););return f-=r,f===i||f%i===0&&f/i>=0}}},PSEUDO:function(t,n){var r,s=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return s[U]?s(n):s.length>1?(r=[t,t,"",n],x.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=s(t,n),o=r.length;o--;)i=tt(t,r[o]),t[i]=!(e[i]=r[o])}):function(t){return s(t,0,r)}):s}},pseudos:{not:i(function(t){var e=[],n=[],r=L(t.replace(ut,"$1"));return r[U]?i(function(t,e,n,i){for(var s,o=r(t,null,i,[]),a=t.length;a--;)(s=o[a])&&(t[a]=!(e[a]=s))}):function(t,i,s){return e[0]=t,r(e,null,s,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(St,xt),function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:i(function(t){return pt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(St,xt).toLowerCase(),function(e){var n;do if(n=D?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===N},focus:function(t){return t===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return mt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[0>n?n+e:n]}),even:l(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:l(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},x.pseudos.nth=x.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[_]=a(_);for(_ in{submit:!0,reset:!0})x.pseudos[_]=u(_);return h.prototype=x.filters=x.pseudos,x.setFilters=new h,w=e.tokenize=function(t,n){var i,r,s,o,a,u,l,c=H[t+" "];if(c)return n?0:c.slice(0);for(a=t,u=[],l=x.preFilter;a;){(!i||(r=lt.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),u.push(s=[])),i=!1,(r=ct.exec(a))&&(i=r.shift(),s.push({value:i,type:r[0].replace(ut," ")}),a=a.slice(i.length));for(o in x.filter)!(r=dt[o].exec(a))||l[o]&&!(r=l[o](r))||(i=r.shift(),s.push({value:i,type:o,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):H(t,u).slice(0)},L=e.compile=function(t,e){var n,i=[],r=[],s=z[t+" "];if(!s){for(e||(e=w(t)),n=e.length;n--;)s=b(e[n]),s[U]?i.push(s):r.push(s);s=z(t,y(r,i)),s.selector=t}return s},T=e.select=function(t,e,n,i){var r,s,o,a,u,l="function"==typeof t&&t,h=!i&&w(t=l.selector||t);if(n=n||[],1===h.length){if(s=h[0]=h[0].slice(0),s.length>2&&"ID"===(o=s[0]).type&&S.getById&&9===e.nodeType&&D&&x.relative[s[1].type]){if(e=(x.find.ID(o.matches[0].replace(St,xt),e)||[])[0],!e)return n;l&&(e=e.parentNode),t=t.slice(s.shift().value.length)}for(r=dt.needsContext.test(t)?0:s.length;r--&&(o=s[r],!x.relative[a=o.type]);)if((u=x.find[a])&&(i=u(o.matches[0].replace(St,xt),yt.test(s[0].type)&&c(e.parentNode)||e))){if(s.splice(r,1),t=i.length&&f(s),!t)return J.apply(n,i),n;break}}return(l||L(t,h))(i,e,!D,n,yt.test(t)&&c(e.parentNode)||e),n},S.sortStable=U.split("").sort(G).join("")===U,S.detectDuplicates=!!E,O(),S.sortDetached=r(function(t){return 1&t.compareDocumentPosition(I.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||s("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),S.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||s("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||s(et,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);Z.find=rt,Z.expr=rt.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=rt.uniqueSort,Z.text=rt.getText,Z.isXMLDoc=rt.isXML,Z.contains=rt.contains;var st=Z.expr.match.needsContext,ot=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,at=/^.[^:#\[\.,]*$/;Z.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?Z.find.matchesSelector(i,t)?[i]:[]:Z.find.matches(t,Z.grep(e,function(t){return 1===t.nodeType}))},Z.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(Z(t).filter(function(){for(e=0;n>e;e++)if(Z.contains(r[e],this))return!0}));for(e=0;n>e;e++)Z.find(t,r[e],i);return i=this.pushStack(n>1?Z.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&st.test(t)?Z(t):t||[],!1).length}});var ut,lt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ct=Z.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:lt.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||ut).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof Z?e[0]:e,Z.merge(this,Z.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:Q,!0)),ot.test(n[1])&&Z.isPlainObject(e))for(n in e)Z.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return i=Q.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=Q,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):Z.isFunction(t)?"undefined"!=typeof ut.ready?ut.ready(t):t(Z):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),Z.makeArray(t,this))};ct.prototype=Z.fn,ut=Z(Q);var ht=/^(?:parents|prev(?:Until|All))/,ft={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&Z(t).is(n))break;i.push(t)}return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),Z.fn.extend({has:function(t){var e=Z(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(Z.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,s=[],o=st.test(t)||"string"!=typeof t?Z(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&Z.find.matchesSelector(n,t))){s.push(n);break}return this.pushStack(s.length>1?Z.unique(s):s)},index:function(t){return t?"string"==typeof t?G.call(Z(t),this[0]):G.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Z.unique(Z.merge(this.get(),Z(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Z.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Z.dir(t,"parentNode")},parentsUntil:function(t,e,n){return Z.dir(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return Z.dir(t,"nextSibling")},prevAll:function(t){return Z.dir(t,"previousSibling")},nextUntil:function(t,e,n){return Z.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return Z.dir(t,"previousSibling",n)},siblings:function(t){return Z.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Z.sibling(t.firstChild)},contents:function(t){return t.contentDocument||Z.merge([],t.childNodes)}},function(t,e){Z.fn[t]=function(n,i){var r=Z.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=Z.filter(i,r)),this.length>1&&(ft[t]||Z.unique(r),ht.test(t)&&r.reverse()),this.pushStack(r)}});var pt=/\S+/g,dt={};Z.Callbacks=function(t){t="string"==typeof t?dt[t]||s(t):Z.extend({},t);var e,n,i,r,o,a,u=[],l=!t.once&&[],c=function(s){for(e=t.memory&&s,n=!0,a=r||0,r=0,o=u.length,i=!0;u&&o>a;a++)if(u[a].apply(s[0],s[1])===!1&&t.stopOnFalse){e=!1;break}i=!1,u&&(l?l.length&&c(l.shift()):e?u=[]:h.disable())},h={add:function(){if(u){var n=u.length;!function s(e){Z.each(e,function(e,n){var i=Z.type(n);"function"===i?t.unique&&h.has(n)||u.push(n):n&&n.length&&"string"!==i&&s(n)})}(arguments),i?o=u.length:e&&(r=n,c(e))}return this},remove:function(){return u&&Z.each(arguments,function(t,e){for(var n;(n=Z.inArray(e,u,n))>-1;)u.splice(n,1),i&&(o>=n&&o--,a>=n&&a--)}),this},has:function(t){return t?Z.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],o=0,this},disable:function(){return u=l=e=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,e||h.disable(),this},locked:function(){return!l},fireWith:function(t,e){return!u||n&&!l||(e=e||[],e=[t,e.slice?e.slice():e],i?l.push(e):c(e)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},Z.extend({Deferred:function(t){var e=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Z.Deferred(function(n){Z.each(e,function(e,s){var o=Z.isFunction(t[e])&&t[e];r[s[1]](function(){var t=o&&o.apply(this,arguments);t&&Z.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===i?n.promise():this,o?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?Z.extend(t,i):i}},r={};return i.pipe=i.then,Z.each(e,function(t,s){var o=s[2],a=s[3];i[s[1]]=o.add,a&&o.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[s[0]]=function(){return r[s[0]+"With"](this===r?i:this,arguments),this},r[s[0]+"With"]=o.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,s=V.call(arguments),o=s.length,a=1!==o||t&&Z.isFunction(t.promise)?o:0,u=1===a?t:Z.Deferred(),l=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?V.call(arguments):r,i===e?u.notifyWith(n,i):--a||u.resolveWith(n,i)}};if(o>1)for(e=new Array(o),n=new Array(o),i=new Array(o);o>r;r++)s[r]&&Z.isFunction(s[r].promise)?s[r].promise().done(l(r,i,s)).fail(u.reject).progress(l(r,n,e)):--a;return a||u.resolveWith(i,s),u.promise()}});var mt;Z.fn.ready=function(t){return Z.ready.promise().done(t),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(t){t?Z.readyWait++:Z.ready(!0)},ready:function(t){(t===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,t!==!0&&--Z.readyWait>0||(mt.resolveWith(Q,[Z]),Z.fn.triggerHandler&&(Z(Q).triggerHandler("ready"),Z(Q).off("ready"))))}}),Z.ready.promise=function(e){return mt||(mt=Z.Deferred(),"complete"===Q.readyState?setTimeout(Z.ready):(Q.addEventListener("DOMContentLoaded",o,!1),t.addEventListener("load",o,!1))),mt.promise(e)},Z.ready.promise();var gt=Z.access=function(t,e,n,i,r,s,o){var a=0,u=t.length,l=null==n;if("object"===Z.type(n)){r=!0;for(a in n)Z.access(t,e,a,n[a],!0,s,o)}else if(void 0!==i&&(r=!0,Z.isFunction(i)||(o=!0),l&&(o?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(Z(t),n)})),e))for(;u>a;a++)e(t[a],n,o?i:i.call(t[a],a,e(t[a],n)));return r?t:l?e.call(t):u?e(t[0],n):s};Z.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},a.uid=1,a.accepts=Z.acceptData,a.prototype={key:function(t){if(!a.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=a.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(i){e[this.expando]=n,Z.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var i,r=this.key(t),s=this.cache[r];if("string"==typeof e)s[e]=n;else if(Z.isEmptyObject(s))Z.extend(this.cache[r],e);else for(i in e)s[i]=e[i];return s},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?(i=this.get(t,e),void 0!==i?i:this.get(t,Z.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,s=this.key(t),o=this.cache[s];if(void 0===e)this.cache[s]={};else{Z.isArray(e)?i=e.concat(e.map(Z.camelCase)):(r=Z.camelCase(e),e in o?i=[e,r]:(i=r,i=i in o?[i]:i.match(pt)||[])),n=i.length;for(;n--;)delete o[i[n]]}},hasData:function(t){return!Z.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var vt=new a,bt=new a,yt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_t=/([A-Z])/g;Z.extend({hasData:function(t){return bt.hasData(t)||vt.hasData(t)},data:function(t,e,n){return bt.access(t,e,n)},removeData:function(t,e){bt.remove(t,e)},_data:function(t,e,n){return vt.access(t,e,n)},_removeData:function(t,e){vt.remove(t,e)}}),Z.fn.extend({data:function(t,e){var n,i,r,s=this[0],o=s&&s.attributes;if(void 0===t){if(this.length&&(r=bt.get(s),1===s.nodeType&&!vt.get(s,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&(i=o[n].name,0===i.indexOf("data-")&&(i=Z.camelCase(i.slice(5)),u(s,i,r[i])));vt.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){bt.set(this,t)}):gt(this,function(e){var n,i=Z.camelCase(t);if(s&&void 0===e){if(n=bt.get(s,t),void 0!==n)return n;if(n=bt.get(s,i),void 0!==n)return n;if(n=u(s,i,void 0),void 0!==n)return n}else this.each(function(){var n=bt.get(this,i);bt.set(this,i,e),-1!==t.indexOf("-")&&void 0!==n&&bt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){bt.remove(this,t)})}}),Z.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=vt.get(t,e),n&&(!i||Z.isArray(n)?i=vt.access(t,e,Z.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=Z.queue(t,e),i=n.length,r=n.shift(),s=Z._queueHooks(t,e),o=function(){Z.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete s.stop,r.call(t,o,s)),!i&&s&&s.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return vt.get(t,n)||vt.access(t,n,{empty:Z.Callbacks("once memory").add(function(){vt.remove(t,[e+"queue",n])})})}}),Z.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?Z.queue(this[0],t):void 0===e?this:this.each(function(){var n=Z.queue(this,t,e);Z._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&Z.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Z.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=Z.Deferred(),s=this,o=this.length,a=function(){--i||r.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)n=vt.get(s[o],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var St=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xt=["Top","Right","Bottom","Left"],Ct=function(t,e){return t=e||t,"none"===Z.css(t,"display")||!Z.contains(t.ownerDocument,t)},$t=/^(?:checkbox|radio)$/i;!function(){var t=Q.createDocumentFragment(),e=t.appendChild(Q.createElement("div")),n=Q.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),K.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",K.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var wt="undefined";K.focusinBubbles="onfocusin"in t;var Lt=/^key/,Tt=/^(?:mouse|pointer|contextmenu)|click/,kt=/^(?:focusinfocus|focusoutblur)$/,At=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(t,e,n,i,r){var s,o,a,u,l,c,h,f,p,d,m,g=vt.get(t);if(g)for(n.handler&&(s=n,n=s.handler,r=s.selector),n.guid||(n.guid=Z.guid++),(u=g.events)||(u=g.events={}),(o=g.handle)||(o=g.handle=function(e){return typeof Z!==wt&&Z.event.triggered!==e.type?Z.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(pt)||[""],l=e.length;l--;)a=At.exec(e[l])||[],p=m=a[1],d=(a[2]||"").split(".").sort(),p&&(h=Z.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=Z.event.special[p]||{},c=Z.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&Z.expr.match.needsContext.test(r),namespace:d.join(".")},s),(f=u[p])||(f=u[p]=[],f.delegateCount=0,h.setup&&h.setup.call(t,i,d,o)!==!1||t.addEventListener&&t.addEventListener(p,o,!1)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),Z.event.global[p]=!0)},remove:function(t,e,n,i,r){var s,o,a,u,l,c,h,f,p,d,m,g=vt.hasData(t)&&vt.get(t);if(g&&(u=g.events)){for(e=(e||"").match(pt)||[""],l=e.length;l--;)if(a=At.exec(e[l])||[],p=m=a[1],d=(a[2]||"").split(".").sort(),p){for(h=Z.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,f=u[p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=f.length;s--;)c=f[s],!r&&m!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(s,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(t,c));o&&!f.length&&(h.teardown&&h.teardown.call(t,d,g.handle)!==!1||Z.removeEvent(t,p,g.handle),delete u[p])}else for(p in u)Z.event.remove(t,p+e[l],n,i,!0);Z.isEmptyObject(u)&&(delete g.handle,vt.remove(t,"events"))}},trigger:function(e,n,i,r){var s,o,a,u,l,c,h,f=[i||Q],p=Y.call(e,"type")?e.type:e,d=Y.call(e,"namespace")?e.namespace.split("."):[];if(o=a=i=i||Q,3!==i.nodeType&&8!==i.nodeType&&!kt.test(p+Z.event.triggered)&&(p.indexOf(".")>=0&&(d=p.split("."),p=d.shift(),d.sort()),l=p.indexOf(":")<0&&"on"+p,e=e[Z.expando]?e:new Z.Event(p,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=d.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),
n=null==n?[e]:Z.makeArray(n,[e]),h=Z.event.special[p]||{},r||!h.trigger||h.trigger.apply(i,n)!==!1)){if(!r&&!h.noBubble&&!Z.isWindow(i)){for(u=h.delegateType||p,kt.test(u+p)||(o=o.parentNode);o;o=o.parentNode)f.push(o),a=o;a===(i.ownerDocument||Q)&&f.push(a.defaultView||a.parentWindow||t)}for(s=0;(o=f[s++])&&!e.isPropagationStopped();)e.type=s>1?u:h.bindType||p,c=(vt.get(o,"events")||{})[e.type]&&vt.get(o,"handle"),c&&c.apply(o,n),c=l&&o[l],c&&c.apply&&Z.acceptData(o)&&(e.result=c.apply(o,n),e.result===!1&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||h._default&&h._default.apply(f.pop(),n)!==!1||!Z.acceptData(i)||l&&Z.isFunction(i[p])&&!Z.isWindow(i)&&(a=i[l],a&&(i[l]=null),Z.event.triggered=p,i[p](),Z.event.triggered=void 0,a&&(i[l]=a)),e.result}},dispatch:function(t){t=Z.event.fix(t);var e,n,i,r,s,o=[],a=V.call(arguments),u=(vt.get(this,"events")||{})[t.type]||[],l=Z.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(o=Z.event.handlers.call(this,t,u),e=0;(r=o[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(s=r.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(s.namespace))&&(t.handleObj=s,t.data=s.data,i=((Z.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,a),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,s,o=[],a=e.delegateCount,u=t.target;if(a&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==t.type){for(i=[],n=0;a>n;n++)s=e[n],r=s.selector+" ",void 0===i[r]&&(i[r]=s.needsContext?Z(r,this).index(u)>=0:Z.find(r,this,null,[u]).length),i[r]&&i.push(s);i.length&&o.push({elem:u,handlers:i})}return a<e.length&&o.push({elem:this,handlers:e.slice(a)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,s=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||Q,i=n.documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===s||(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(t){if(t[Z.expando])return t;var e,n,i,r=t.type,s=t,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=Tt.test(r)?this.mouseHooks:Lt.test(r)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,t=new Z.Event(s),e=i.length;e--;)n=i[e],t[n]=s[n];return t.target||(t.target=Q),3===t.target.nodeType&&(t.target=t.target.parentNode),o.filter?o.filter(t,s):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==h()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return Z.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=Z.extend(new Z.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?Z.event.trigger(r,null,e):Z.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},Z.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},Z.Event=function(t,e){return this instanceof Z.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?l:c):this.type=t,e&&Z.extend(this,e),this.timeStamp=t&&t.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(t,e)},Z.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=l,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Z.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,s=t.handleObj;return(!r||r!==i&&!Z.contains(i,r))&&(t.type=s.origType,n=s.handler.apply(this,arguments),t.type=e),n}}}),K.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){Z.event.simulate(e,t.target,Z.event.fix(t),!0)};Z.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=vt.access(i,e);r||i.addEventListener(t,n,!0),vt.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=vt.access(i,e)-1;r?vt.access(i,e,r):(i.removeEventListener(t,n,!0),vt.remove(i,e))}}}),Z.fn.extend({on:function(t,e,n,i,r){var s,o;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(o in t)this.on(o,e,n,t[o],r);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),i===!1)i=c;else if(!i)return this;return 1===r&&(s=i,i=function(t){return Z().off(t),s.apply(this,arguments)},i.guid=s.guid||(s.guid=Z.guid++)),this.each(function(){Z.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,Z(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=c),this.each(function(){Z.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){Z.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?Z.event.trigger(t,e,n,!0):void 0}});var Et=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ot=/<([\w:]+)/,It=/<|&#?\w+;/,Nt=/<(?:script|style|link)/i,Dt=/checked\s*(?:[^=]|=\s*.checked.)/i,Rt=/^$|\/(?:java|ecma)script/i,jt=/^true\/(.*)/,Mt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Pt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pt.optgroup=Pt.option,Pt.tbody=Pt.tfoot=Pt.colgroup=Pt.caption=Pt.thead,Pt.th=Pt.td,Z.extend({clone:function(t,e,n){var i,r,s,o,a=t.cloneNode(!0),u=Z.contains(t.ownerDocument,t);if(!(K.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Z.isXMLDoc(t)))for(o=v(a),s=v(t),i=0,r=s.length;r>i;i++)b(s[i],o[i]);if(e)if(n)for(s=s||v(t),o=o||v(a),i=0,r=s.length;r>i;i++)g(s[i],o[i]);else g(t,a);return o=v(a,"script"),o.length>0&&m(o,!u&&v(t,"script")),a},buildFragment:function(t,e,n,i){for(var r,s,o,a,u,l,c=e.createDocumentFragment(),h=[],f=0,p=t.length;p>f;f++)if(r=t[f],r||0===r)if("object"===Z.type(r))Z.merge(h,r.nodeType?[r]:r);else if(It.test(r)){for(s=s||c.appendChild(e.createElement("div")),o=(Ot.exec(r)||["",""])[1].toLowerCase(),a=Pt[o]||Pt._default,s.innerHTML=a[1]+r.replace(Et,"<$1></$2>")+a[2],l=a[0];l--;)s=s.lastChild;Z.merge(h,s.childNodes),s=c.firstChild,s.textContent=""}else h.push(e.createTextNode(r));for(c.textContent="",f=0;r=h[f++];)if((!i||-1===Z.inArray(r,i))&&(u=Z.contains(r.ownerDocument,r),s=v(c.appendChild(r),"script"),u&&m(s),n))for(l=0;r=s[l++];)Rt.test(r.type||"")&&n.push(r);return c},cleanData:function(t){for(var e,n,i,r,s=Z.event.special,o=0;void 0!==(n=t[o]);o++){if(Z.acceptData(n)&&(r=n[vt.expando],r&&(e=vt.cache[r]))){if(e.events)for(i in e.events)s[i]?Z.event.remove(n,i):Z.removeEvent(n,i,e.handle);vt.cache[r]&&delete vt.cache[r]}delete bt.cache[n[bt.expando]]}}}),Z.fn.extend({text:function(t){return gt(this,function(t){return void 0===t?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?Z.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||Z.cleanData(v(n)),n.parentNode&&(e&&Z.contains(n.ownerDocument,n)&&m(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Z.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return Z.clone(this,t,e)})},html:function(t){return gt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Nt.test(t)&&!Pt[(Ot.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Et,"<$1></$2>");try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(Z.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,Z.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=H.apply([],t);var n,i,r,s,o,a,u=0,l=this.length,c=this,h=l-1,f=t[0],m=Z.isFunction(f);if(m||l>1&&"string"==typeof f&&!K.checkClone&&Dt.test(f))return this.each(function(n){var i=c.eq(n);m&&(t[0]=f.call(this,n,i.html())),i.domManip(t,e)});if(l&&(n=Z.buildFragment(t,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(r=Z.map(v(n,"script"),p),s=r.length;l>u;u++)o=n,u!==h&&(o=Z.clone(o,!0,!0),s&&Z.merge(r,v(o,"script"))),e.call(this[u],o,u);if(s)for(a=r[r.length-1].ownerDocument,Z.map(r,d),u=0;s>u;u++)o=r[u],Rt.test(o.type||"")&&!vt.access(o,"globalEval")&&Z.contains(a,o)&&(o.src?Z._evalUrl&&Z._evalUrl(o.src):Z.globalEval(o.textContent.replace(Mt,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Z.fn[t]=function(t){for(var n,i=[],r=Z(t),s=r.length-1,o=0;s>=o;o++)n=o===s?this:this.clone(!0),Z(r[o])[e](n),z.apply(i,n.get());return this.pushStack(i)}});var Ut,Ft={},qt=/^margin/,Bt=new RegExp("^("+St+")(?!px)[a-z%]+$","i"),Vt=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",r.appendChild(s);var e=t.getComputedStyle(o,null);n="1%"!==e.top,i="4px"===e.width,r.removeChild(s)}var n,i,r=Q.documentElement,s=Q.createElement("div"),o=Q.createElement("div");o.style&&(o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",K.clearCloneStyle="content-box"===o.style.backgroundClip,s.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",s.appendChild(o),t.getComputedStyle&&Z.extend(K,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==i&&e(),i},reliableMarginRight:function(){var e,n=o.appendChild(Q.createElement("div"));return n.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",o.style.width="1px",r.appendChild(s),e=!parseFloat(t.getComputedStyle(n,null).marginRight),r.removeChild(s),o.removeChild(n),e}}))}(),Z.swap=function(t,e,n,i){var r,s,o={};for(s in e)o[s]=t.style[s],t.style[s]=e[s];r=n.apply(t,i||[]);for(s in e)t.style[s]=o[s];return r};var Ht=/^(none|table(?!-c[ea]).+)/,zt=new RegExp("^("+St+")(.*)$","i"),Gt=new RegExp("^([+-])=("+St+")","i"),Wt={position:"absolute",visibility:"hidden",display:"block"},Xt={letterSpacing:"0",fontWeight:"400"},Yt=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=S(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,s,o,a=Z.camelCase(e),u=t.style;return e=Z.cssProps[a]||(Z.cssProps[a]=C(u,a)),o=Z.cssHooks[e]||Z.cssHooks[a],void 0===n?o&&"get"in o&&void 0!==(r=o.get(t,!1,i))?r:u[e]:(s=typeof n,"string"===s&&(r=Gt.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(Z.css(t,e)),s="number"),null!=n&&n===n&&("number"!==s||Z.cssNumber[a]||(n+="px"),K.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),o&&"set"in o&&void 0===(n=o.set(t,n,i))||(u[e]=n)),void 0)}},css:function(t,e,n,i){var r,s,o,a=Z.camelCase(e);return e=Z.cssProps[a]||(Z.cssProps[a]=C(t.style,a)),o=Z.cssHooks[e]||Z.cssHooks[a],o&&"get"in o&&(r=o.get(t,!0,n)),void 0===r&&(r=S(t,e,i)),"normal"===r&&e in Xt&&(r=Xt[e]),""===n||n?(s=parseFloat(r),n===!0||Z.isNumeric(s)?s||0:r):r}}),Z.each(["height","width"],function(t,e){Z.cssHooks[e]={get:function(t,n,i){return n?Ht.test(Z.css(t,"display"))&&0===t.offsetWidth?Z.swap(t,Wt,function(){return L(t,e,i)}):L(t,e,i):void 0},set:function(t,n,i){var r=i&&Vt(t);return $(t,n,i?w(t,e,i,"border-box"===Z.css(t,"boxSizing",!1,r),r):0)}}}),Z.cssHooks.marginRight=x(K.reliableMarginRight,function(t,e){return e?Z.swap(t,{display:"inline-block"},S,[t,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(t,e){Z.cssHooks[t+e]={expand:function(n){for(var i=0,r={},s="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+xt[i]+e]=s[i]||s[i-2]||s[0];return r}},qt.test(t)||(Z.cssHooks[t+e].set=$)}),Z.fn.extend({css:function(t,e){return gt(this,function(t,e,n){var i,r,s={},o=0;if(Z.isArray(e)){for(i=Vt(t),r=e.length;r>o;o++)s[e[o]]=Z.css(t,e[o],!1,i);return s}return void 0!==n?Z.style(t,e,n):Z.css(t,e)},t,e,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ct(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=k,k.prototype={constructor:k,init:function(t,e,n,i,r,s){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=s||(Z.cssNumber[n]?"":"px")},cur:function(){var t=k.propHooks[this.prop];return t&&t.get?t.get(this):k.propHooks._default.get(this)},run:function(t){var e,n=k.propHooks[this.prop];return this.options.duration?this.pos=e=Z.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):k.propHooks._default.set(this),this}},k.prototype.init.prototype=k.prototype,k.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Z.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Z.fx.step[t.prop]?Z.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Z.cssProps[t.prop]]||Z.cssHooks[t.prop])?Z.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},k.propHooks.scrollTop=k.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Z.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Z.fx=k.prototype.init,Z.fx.step={};var Kt,Qt,Jt=/^(?:toggle|show|hide)$/,Zt=new RegExp("^(?:([+-])=|)("+St+")([a-z%]*)$","i"),te=/queueHooks$/,ee=[I],ne={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=Zt.exec(e),s=r&&r[3]||(Z.cssNumber[t]?"":"px"),o=(Z.cssNumber[t]||"px"!==s&&+i)&&Zt.exec(Z.css(n.elem,t)),a=1,u=20;if(o&&o[3]!==s){s=s||o[3],r=r||[],o=+i||1;do a=a||".5",o/=a,Z.style(n.elem,t,o+s);while(a!==(a=n.cur()/i)&&1!==a&&--u)}return r&&(o=n.start=+o||+i||0,n.unit=s,n.end=r[1]?o+(r[1]+1)*r[2]:+r[2]),n}]};Z.Animation=Z.extend(D,{tweener:function(t,e){Z.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],ne[n]=ne[n]||[],ne[n].unshift(e)},prefilter:function(t,e){e?ee.unshift(t):ee.push(t)}}),Z.speed=function(t,e,n){var i=t&&"object"==typeof t?Z.extend({},t):{complete:n||!n&&e||Z.isFunction(t)&&t,duration:t,easing:n&&e||e&&!Z.isFunction(e)&&e};return i.duration=Z.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Z.fx.speeds?Z.fx.speeds[i.duration]:Z.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Z.isFunction(i.old)&&i.old.call(this),i.queue&&Z.dequeue(this,i.queue)},i},Z.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Ct).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=Z.isEmptyObject(t),s=Z.speed(e,n,i),o=function(){var e=D(this,Z.extend({},t),s);(r||vt.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",s=Z.timers,o=vt.get(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&te.test(r)&&i(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=t&&s[r].queue!==t||(s[r].anim.stop(n),e=!1,s.splice(r,1));(e||!n)&&Z.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=vt.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],s=Z.timers,o=i?i.length:0;for(n.finish=!0,Z.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;o>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),Z.each(["toggle","show","hide"],function(t,e){var n=Z.fn[e];Z.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(E(e,!0),t,i,r)}}),Z.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Z.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),Z.timers=[],Z.fx.tick=function(){var t,e=0,n=Z.timers;for(Kt=Z.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||Z.fx.stop(),Kt=void 0},Z.fx.timer=function(t){Z.timers.push(t),t()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Qt||(Qt=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Qt),Qt=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(t,e){return t=Z.fx?Z.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},function(){var t=Q.createElement("input"),e=Q.createElement("select"),n=e.appendChild(Q.createElement("option"));t.type="checkbox",K.checkOn=""!==t.value,K.optSelected=n.selected,e.disabled=!0,K.optDisabled=!n.disabled,t=Q.createElement("input"),t.value="t",t.type="radio",K.radioValue="t"===t.value}();var ie,re,se=Z.expr.attrHandle;Z.fn.extend({attr:function(t,e){return gt(this,Z.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Z.removeAttr(this,t)})}}),Z.extend({attr:function(t,e,n){var i,r,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return typeof t.getAttribute===wt?Z.prop(t,e,n):(1===s&&Z.isXMLDoc(t)||(e=e.toLowerCase(),i=Z.attrHooks[e]||(Z.expr.match.bool.test(e)?re:ie)),void 0===n?i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=Z.find.attr(t,e),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):void Z.removeAttr(t,e))},removeAttr:function(t,e){var n,i,r=0,s=e&&e.match(pt);if(s&&1===t.nodeType)for(;n=s[r++];)i=Z.propFix[n]||n,Z.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!K.radioValue&&"radio"===e&&Z.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),re={set:function(t,e,n){return e===!1?Z.removeAttr(t,n):t.setAttribute(n,n),n}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(t,e){var n=se[e]||Z.find.attr;se[e]=function(t,e,i){var r,s;return i||(s=se[e],se[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,se[e]=s),r}});var oe=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(t,e){return gt(this,Z.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Z.propFix[t]||t]})}}),Z.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var i,r,s,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return s=1!==o||!Z.isXMLDoc(t),s&&(e=Z.propFix[e]||e,r=Z.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||oe.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),K.optSelected||(Z.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var ae=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(t){var e,n,i,r,s,o,a="string"==typeof t&&t,u=0,l=this.length;if(Z.isFunction(t))return this.each(function(e){Z(this).addClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(pt)||[];l>u;u++)if(n=this[u],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ae," "):" ")){for(s=0;r=e[s++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o=Z.trim(i),n.className!==o&&(n.className=o)}return this},removeClass:function(t){var e,n,i,r,s,o,a=0===arguments.length||"string"==typeof t&&t,u=0,l=this.length;if(Z.isFunction(t))return this.each(function(e){Z(this).removeClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(pt)||[];l>u;u++)if(n=this[u],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ae," "):"")){for(s=0;r=e[s++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");o=t?Z.trim(i):"",n.className!==o&&(n.className=o)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):Z.isFunction(t)?this.each(function(n){Z(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var e,i=0,r=Z(this),s=t.match(pt)||[];e=s[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(n===wt||"boolean"===n)&&(this.className&&vt.set(this,"__className__",this.className),this.className=this.className||t===!1?"":vt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ae," ").indexOf(e)>=0)return!0;return!1}});var ue=/\r/g;Z.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=Z.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,Z(this).val()):t,null==r?r="":"number"==typeof r?r+="":Z.isArray(r)&&(r=Z.map(r,function(t){return null==t?"":t+""})),e=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=Z.valHooks[r.type]||Z.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(ue,""):null==n?"":n)}}}),Z.extend({valHooks:{option:{get:function(t){var e=Z.find.attr(t,"value");return null!=e?e:Z.trim(Z.text(t))}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,s="select-one"===t.type||0>r,o=s?null:[],a=s?r+1:i.length,u=0>r?a:s?r:0;a>u;u++)if(n=i[u],(n.selected||u===r)&&(K.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!Z.nodeName(n.parentNode,"optgroup"))){if(e=Z(n).val(),s)return e;o.push(e)}return o},set:function(t,e){for(var n,i,r=t.options,s=Z.makeArray(e),o=r.length;o--;)i=r[o],(i.selected=Z.inArray(i.value,s)>=0)&&(n=!0);return n||(t.selectedIndex=-1),s}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(t,e){return Z.isArray(e)?t.checked=Z.inArray(Z(t).val(),e)>=0:void 0}},K.checkOn||(Z.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Z.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),Z.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var le=Z.now(),ce=/\?/;Z.parseJSON=function(t){return JSON.parse(t+"")},Z.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(i){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+t),e};var he=/#.*$/,fe=/([?&])_=[^&]*/,pe=/^(.*?):[ \t]*([^\r\n]*)$/gm,de=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,me=/^(?:GET|HEAD)$/,ge=/^\/\//,ve=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,be={},ye={},_e="*/".concat("*"),Se=t.location.href,xe=ve.exec(Se.toLowerCase())||[];Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Se,type:"GET",isLocal:de.test(xe[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_e,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?M(M(t,Z.ajaxSettings),e):M(Z.ajaxSettings,t)},ajaxPrefilter:R(be),ajaxTransport:R(ye),ajax:function(t,e){function n(t,e,n,o){var u,c,v,b,_,x=e;2!==y&&(y=2,a&&clearTimeout(a),i=void 0,s=o||"",S.readyState=t>0?4:0,u=t>=200&&300>t||304===t,n&&(b=P(h,S,n)),b=U(h,b,S,u),u?(h.ifModified&&(_=S.getResponseHeader("Last-Modified"),_&&(Z.lastModified[r]=_),_=S.getResponseHeader("etag"),_&&(Z.etag[r]=_)),204===t||"HEAD"===h.type?x="nocontent":304===t?x="notmodified":(x=b.state,c=b.data,v=b.error,u=!v)):(v=x,(t||!x)&&(x="error",0>t&&(t=0))),S.status=t,S.statusText=(e||x)+"",u?d.resolveWith(f,[c,x,S]):d.rejectWith(f,[S,x,v]),S.statusCode(g),g=void 0,l&&p.trigger(u?"ajaxSuccess":"ajaxError",[S,h,u?c:v]),m.fireWith(f,[S,x]),l&&(p.trigger("ajaxComplete",[S,h]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,s,o,a,u,l,c,h=Z.ajaxSetup({},e),f=h.context||h,p=h.context&&(f.nodeType||f.jquery)?Z(f):Z.event,d=Z.Deferred(),m=Z.Callbacks("once memory"),g=h.statusCode||{},v={},b={},y=0,_="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(2===y){if(!o)for(o={};e=pe.exec(s);)o[e[1].toLowerCase()]=e[2];e=o[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===y?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return y||(t=b[n]=b[n]||t,v[t]=e),this},overrideMimeType:function(t){return y||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>y)for(e in t)g[e]=[g[e],t[e]];else S.always(t[S.status]);return this},abort:function(t){var e=t||_;return i&&i.abort(e),n(0,e),this}};if(d.promise(S).complete=m.add,S.success=S.done,S.error=S.fail,h.url=((t||h.url||Se)+"").replace(he,"").replace(ge,xe[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=Z.trim(h.dataType||"*").toLowerCase().match(pt)||[""],null==h.crossDomain&&(u=ve.exec(h.url.toLowerCase()),h.crossDomain=!(!u||u[1]===xe[1]&&u[2]===xe[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(xe[3]||("http:"===xe[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Z.param(h.data,h.traditional)),j(be,h,e,S),2===y)return S;l=Z.event&&h.global,l&&0===Z.active++&&Z.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!me.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(ce.test(r)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=fe.test(r)?r.replace(fe,"$1_="+le++):r+(ce.test(r)?"&":"?")+"_="+le++)),h.ifModified&&(Z.lastModified[r]&&S.setRequestHeader("If-Modified-Since",Z.lastModified[r]),Z.etag[r]&&S.setRequestHeader("If-None-Match",Z.etag[r])),(h.data&&h.hasContent&&h.contentType!==!1||e.contentType)&&S.setRequestHeader("Content-Type",h.contentType),S.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+_e+"; q=0.01":""):h.accepts["*"]);for(c in h.headers)S.setRequestHeader(c,h.headers[c]);if(h.beforeSend&&(h.beforeSend.call(f,S,h)===!1||2===y))return S.abort();_="abort";for(c in{success:1,error:1,complete:1})S[c](h[c]);if(i=j(ye,h,e,S)){S.readyState=1,l&&p.trigger("ajaxSend",[S,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){S.abort("timeout")},h.timeout));try{y=1,i.send(v,n)}catch(x){if(!(2>y))throw x;n(-1,x)}}else n(-1,"No Transport");return S},getJSON:function(t,e,n){return Z.get(t,e,n,"json")},getScript:function(t,e){return Z.get(t,void 0,e,"script")}}),Z.each(["get","post"],function(t,e){Z[e]=function(t,n,i,r){return Z.isFunction(n)&&(r=r||i,i=n,n=void 0),Z.ajax({url:t,type:e,dataType:r,data:n,success:i})}}),Z._evalUrl=function(t){return Z.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Z.fn.extend({wrapAll:function(t){var e;return Z.isFunction(t)?this.each(function(e){Z(this).wrapAll(t.call(this,e))}):(this[0]&&(e=Z(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return Z.isFunction(t)?this.each(function(e){Z(this).wrapInner(t.call(this,e))}):this.each(function(){var e=Z(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=Z.isFunction(t);return this.each(function(n){Z(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Z.expr.filters.visible=function(t){return!Z.expr.filters.hidden(t)};var Ce=/%20/g,$e=/\[\]$/,we=/\r?\n/g,Le=/^(?:submit|button|image|reset|file)$/i,Te=/^(?:input|select|textarea|keygen)/i;Z.param=function(t,e){var n,i=[],r=function(t,e){e=Z.isFunction(e)?e():null==e?"":e,
i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(t)||t.jquery&&!Z.isPlainObject(t))Z.each(t,function(){r(this.name,this.value)});else for(n in t)F(n,t[n],e,r);return i.join("&").replace(Ce,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Z.prop(this,"elements");return t?Z.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Z(this).is(":disabled")&&Te.test(this.nodeName)&&!Le.test(t)&&(this.checked||!$t.test(t))}).map(function(t,e){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(t){return{name:e.name,value:t.replace(we,"\r\n")}}):{name:e.name,value:n.replace(we,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var ke=0,Ae={},Ee={0:200,1223:204},Oe=Z.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Ae)Ae[t]()}),K.cors=!!Oe&&"withCredentials"in Oe,K.ajax=Oe=!!Oe,Z.ajaxTransport(function(t){var e;return K.cors||Oe&&!t.crossDomain?{send:function(n,i){var r,s=t.xhr(),o=++ke;if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)s[r]=t.xhrFields[r];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)s.setRequestHeader(r,n[r]);e=function(t){return function(){e&&(delete Ae[o],e=s.onload=s.onerror=null,"abort"===t?s.abort():"error"===t?i(s.status,s.statusText):i(Ee[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:void 0,s.getAllResponseHeaders()))}},s.onload=e(),s.onerror=e("error"),e=Ae[o]=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(a){if(e)throw a}},abort:function(){e&&e()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return Z.globalEval(t),t}}}),Z.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Z.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=Z("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),Q.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Ie=[],Ne=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ie.pop()||Z.expando+"_"+le++;return this[t]=!0,t}}),Z.ajaxPrefilter("json jsonp",function(e,n,i){var r,s,o,a=e.jsonp!==!1&&(Ne.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ne.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=Z.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ne,"$1"+r):e.jsonp!==!1&&(e.url+=(ce.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||Z.error(r+" was not called"),o[0]},e.dataTypes[0]="json",s=t[r],t[r]=function(){o=arguments},i.always(function(){t[r]=s,e[r]&&(e.jsonpCallback=n.jsonpCallback,Ie.push(r)),o&&Z.isFunction(s)&&s(o[0]),o=s=void 0}),"script"):void 0}),Z.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||Q;var i=ot.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=Z.buildFragment([t],e,r),r&&r.length&&Z(r).remove(),Z.merge([],i.childNodes))};var De=Z.fn.load;Z.fn.load=function(t,e,n){if("string"!=typeof t&&De)return De.apply(this,arguments);var i,r,s,o=this,a=t.indexOf(" ");return a>=0&&(i=Z.trim(t.slice(a)),t=t.slice(0,a)),Z.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),o.length>0&&Z.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){s=arguments,o.html(i?Z("<div>").append(Z.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){o.each(n,s||[t.responseText,e,t])}),this},Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Z.fn[e]=function(t){return this.on(e,t)}}),Z.expr.filters.animated=function(t){return Z.grep(Z.timers,function(e){return t===e.elem}).length};var Re=t.document.documentElement;Z.offset={setOffset:function(t,e,n){var i,r,s,o,a,u,l,c=Z.css(t,"position"),h=Z(t),f={};"static"===c&&(t.style.position="relative"),a=h.offset(),s=Z.css(t,"top"),u=Z.css(t,"left"),l=("absolute"===c||"fixed"===c)&&(s+u).indexOf("auto")>-1,l?(i=h.position(),o=i.top,r=i.left):(o=parseFloat(s)||0,r=parseFloat(u)||0),Z.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(f.top=e.top-a.top+o),null!=e.left&&(f.left=e.left-a.left+r),"using"in e?e.using.call(t,f):h.css(f)}},Z.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Z.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},s=i&&i.ownerDocument;if(s)return e=s.documentElement,Z.contains(e,i)?(typeof i.getBoundingClientRect!==wt&&(r=i.getBoundingClientRect()),n=q(s),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===Z.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Z.nodeName(t[0],"html")||(i=t.offset()),i.top+=Z.css(t[0],"borderTopWidth",!0),i.left+=Z.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-Z.css(n,"marginTop",!0),left:e.left-i.left-Z.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Re;t&&!Z.nodeName(t,"html")&&"static"===Z.css(t,"position");)t=t.offsetParent;return t||Re})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i="pageYOffset"===n;Z.fn[e]=function(r){return gt(this,function(e,r,s){var o=q(e);return void 0===s?o?o[n]:e[r]:void(o?o.scrollTo(i?t.pageXOffset:s,i?s:t.pageYOffset):e[r]=s)},e,r,arguments.length,null)}}),Z.each(["top","left"],function(t,e){Z.cssHooks[e]=x(K.pixelPosition,function(t,n){return n?(n=S(t,e),Bt.test(n)?Z(t).position()[e]+"px":n):void 0})}),Z.each({Height:"height",Width:"width"},function(t,e){Z.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){Z.fn[i]=function(i,r){var s=arguments.length&&(n||"boolean"!=typeof i),o=n||(i===!0||r===!0?"margin":"border");return gt(this,function(e,n,i){var r;return Z.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?Z.css(e,n,o):Z.style(e,n,i,o)},e,s?i:void 0,s,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var je=t.jQuery,Me=t.$;return Z.noConflict=function(e){return t.$===Z&&(t.$=Me),e&&t.jQuery===Z&&(t.jQuery=je),Z},typeof e===wt&&(t.jQuery=t.$=Z),Z}),/**
 * @license AngularJS v1.4.9
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function i(t,e){return e=e||Error,function(){var n,i,r=2,s=arguments,o=s[0],a="["+(t?t+":":"")+o+"] ",u=s[1];for(a+=u.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1),n=e+r;return n<s.length?yt(s[n]):t}),a+="\nhttp://errors.angularjs.org/1.4.9/"+(t?t+"/":"")+o,i=r,n="?";i<s.length;i++,n="&")a+=n+"p"+(i-r)+"="+encodeURIComponent(yt(s[i]));return new e(a)}}function r(t){if(null==t||k(t))return!1;if(Vi(t)||C(t)||Oi&&t instanceof Oi)return!0;var e="length"in Object(t)&&t.length;return $(e)&&(e>=0&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function s(t,e,n){var i,o;if(t)if(L(t))for(i in t)"prototype"==i||"length"==i||"name"==i||t.hasOwnProperty&&!t.hasOwnProperty(i)||e.call(n,t[i],i,t);else if(Vi(t)||r(t)){var a="object"!=typeof t;for(i=0,o=t.length;o>i;i++)(a||i in t)&&e.call(n,t[i],i,t)}else if(t.forEach&&t.forEach!==s)t.forEach(e,n,t);else if(x(t))for(i in t)e.call(n,t[i],i,t);else if("function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t);else for(i in t)Li.call(t,i)&&e.call(n,t[i],i,t);return t}function o(t,e,n){for(var i=Object.keys(t).sort(),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r]);return i}function a(t){return function(e,n){t(n,e)}}function u(){return++qi}function l(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function c(t,e,n){for(var i=t.$$hashKey,r=0,s=e.length;s>r;++r){var o=e[r];if(S(o)||L(o))for(var a=Object.keys(o),u=0,h=a.length;h>u;u++){var f=a[u],p=o[f];n&&S(p)?w(p)?t[f]=new Date(p.valueOf()):T(p)?t[f]=new RegExp(p):p.nodeName?t[f]=p.cloneNode(!0):j(p)?t[f]=p.clone():(S(t[f])||(t[f]=Vi(p)?[]:{}),c(t[f],[p],!0)):t[f]=p}}return l(t,i),t}function h(t){return c(t,Di.call(arguments,1),!1)}function f(t){return c(t,Di.call(arguments,1),!0)}function p(t){return parseInt(t,10)}function d(t,e){return h(Object.create(t),e)}function m(){}function g(t){return t}function v(t){return function(){return t}}function b(t){return L(t.toString)&&t.toString!==Mi}function y(t){return"undefined"==typeof t}function _(t){return"undefined"!=typeof t}function S(t){return null!==t&&"object"==typeof t}function x(t){return null!==t&&"object"==typeof t&&!Pi(t)}function C(t){return"string"==typeof t}function $(t){return"number"==typeof t}function w(t){return"[object Date]"===Mi.call(t)}function L(t){return"function"==typeof t}function T(t){return"[object RegExp]"===Mi.call(t)}function k(t){return t&&t.window===t}function A(t){return t&&t.$evalAsync&&t.$watch}function E(t){return"[object File]"===Mi.call(t)}function O(t){return"[object FormData]"===Mi.call(t)}function I(t){return"[object Blob]"===Mi.call(t)}function N(t){return"boolean"==typeof t}function D(t){return t&&L(t.then)}function R(t){return t&&$(t.length)&&Hi.test(Mi.call(t))}function j(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function M(t){var e,n={},i=t.split(",");for(e=0;e<i.length;e++)n[i[e]]=!0;return n}function P(t){return wi(t.nodeName||t[0]&&t[0].nodeName)}function U(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function F(t,e){function n(t,e){var n,r=e.$$hashKey;if(Vi(t))for(var s=0,o=t.length;o>s;s++)e.push(i(t[s]));else if(x(t))for(n in t)e[n]=i(t[n]);else if(t&&"function"==typeof t.hasOwnProperty)for(n in t)t.hasOwnProperty(n)&&(e[n]=i(t[n]));else for(n in t)Li.call(t,n)&&(e[n]=i(t[n]));return l(e,r),e}function i(t){if(!S(t))return t;var e=r.indexOf(t);if(-1!==e)return o[e];if(k(t)||A(t))throw Ui("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var i,s=!1;return Vi(t)?(i=[],s=!0):R(t)?i=new t.constructor(t):w(t)?i=new Date(t.getTime()):T(t)?(i=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),i.lastIndex=t.lastIndex):L(t.cloneNode)?i=t.cloneNode(!0):(i=Object.create(Pi(t)),s=!0),r.push(t),o.push(i),s?n(t,i):i}var r=[],o=[];if(e){if(R(e))throw Ui("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw Ui("cpi","Can't copy! Source and destination are identical.");return Vi(e)?e.length=0:s(e,function(t,n){"$$hashKey"!==n&&delete e[n]}),r.push(t),o.push(e),n(t,e)}return i(t)}function q(t,e){if(Vi(t)){e=e||[];for(var n=0,i=t.length;i>n;n++)e[n]=t[n]}else if(S(t)){e=e||{};for(var r in t)("$"!==r.charAt(0)||"$"!==r.charAt(1))&&(e[r]=t[r])}return e||t}function B(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,i,r,s=typeof t,o=typeof e;if(s==o&&"object"==s){if(!Vi(t)){if(w(t))return w(e)?B(t.getTime(),e.getTime()):!1;if(T(t))return T(e)?t.toString()==e.toString():!1;if(A(t)||A(e)||k(t)||k(e)||Vi(e)||w(e)||T(e))return!1;r=gt();for(i in t)if("$"!==i.charAt(0)&&!L(t[i])){if(!B(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!(i in r)&&"$"!==i.charAt(0)&&_(e[i])&&!L(e[i]))return!1;return!0}if(!Vi(e))return!1;if((n=t.length)==e.length){for(i=0;n>i;i++)if(!B(t[i],e[i]))return!1;return!0}}return!1}function V(t,e,n){return t.concat(Di.call(e,n))}function H(t,e){return Di.call(t,e||0)}function z(t,e){var n=arguments.length>2?H(arguments,2):[];return!L(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,V(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function G(t,i){var r=i;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=n:k(i)?r="$WINDOW":i&&e===i?r="$DOCUMENT":A(i)&&(r="$SCOPE"),r}function W(t,e){return"undefined"==typeof t?n:($(e)||(e=e?2:null),JSON.stringify(t,G,e))}function X(t){return C(t)?JSON.parse(t):t}function Y(t,e){var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function K(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function Q(t,e,n){n=n?-1:1;var i=Y(e,t.getTimezoneOffset());return K(t,n*(i-t.getTimezoneOffset()))}function J(t){t=Oi(t).clone();try{t.empty()}catch(e){}var n=Oi("<div>").append(t).html();try{return t[0].nodeType===tr?wi(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+wi(e)})}catch(e){return wi(n)}}function Z(t){try{return decodeURIComponent(t)}catch(e){}}function tt(t){var e={};return s((t||"").split("&"),function(t){var n,i,r;t&&(i=t=t.replace(/\+/g,"%20"),n=t.indexOf("="),-1!==n&&(i=t.substring(0,n),r=t.substring(n+1)),i=Z(i),_(i)&&(r=_(r)?Z(r):!0,Li.call(e,i)?Vi(e[i])?e[i].push(r):e[i]=[e[i],r]:e[i]=r))}),e}function et(t){var e=[];return s(t,function(t,n){Vi(t)?s(t,function(t){e.push(it(n,!0)+(t===!0?"":"="+it(t,!0)))}):e.push(it(n,!0)+(t===!0?"":"="+it(t,!0)))}),e.length?e.join("&"):""}function nt(t){return it(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function it(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function rt(t,e){var n,i,r=Yi.length;for(i=0;r>i;++i)if(n=Yi[i]+e,C(n=t.getAttribute(n)))return n;return null}function st(t,e){var n,i,r={};s(Yi,function(e){var r=e+"app";!n&&t.hasAttribute&&t.hasAttribute(r)&&(n=t,i=t.getAttribute(r))}),s(Yi,function(e){var r,s=e+"app";!n&&(r=t.querySelector("["+s.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(s))}),n&&(r.strictDi=null!==rt(n,"strict-di"),e(n,i?[i]:[],r))}function ot(n,i,r){S(r)||(r={});var o={strictDi:!1};r=h(o,r);var a=function(){if(n=Oi(n),n.injector()){var t=n[0]===e?"document":J(n);throw Ui("btstrpd","App Already Bootstrapped with this Element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}i=i||[],i.unshift(["$provide",function(t){t.value("$rootElement",n)}]),r.debugInfoEnabled&&i.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),i.unshift("ng");var s=te(i,r.strictDi);return s.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),s},u=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return t&&u.test(t.name)&&(r.debugInfoEnabled=!0,t.name=t.name.replace(u,"")),t&&!l.test(t.name)?a():(t.name=t.name.replace(l,""),Fi.resumeBootstrap=function(t){return s(t,function(t){i.push(t)}),a()},void(L(Fi.resumeDeferredBootstrap)&&Fi.resumeDeferredBootstrap()))}function at(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function ut(t){var e=Fi.element(t).injector();if(!e)throw Ui("test","no injector found for element argument to getTestability");return e.get("$$testability")}function lt(t,e){return e=e||"_",t.replace(Ki,function(t,n){return(n?e:"")+t.toLowerCase()})}function ct(){var e;if(!Qi){var i=Xi();Ii=y(i)?t.jQuery:i?t[i]:n,Ii&&Ii.fn.on?(Oi=Ii,h(Ii.fn,{scope:yr.scope,isolateScope:yr.isolateScope,controller:yr.controller,injector:yr.injector,inheritedData:yr.inheritedData}),e=Ii.cleanData,Ii.cleanData=function(t){var n;if(Bi)Bi=!1;else for(var i,r=0;null!=(i=t[r]);r++)n=Ii._data(i,"events"),n&&n.$destroy&&Ii(i).triggerHandler("$destroy");e(t)}):Oi=kt,Fi.element=Oi,Qi=!0}}function ht(t,e,n){if(!t)throw Ui("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function ft(t,e,n){return n&&Vi(t)&&(t=t[t.length-1]),ht(L(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function pt(t,e){if("hasOwnProperty"===t)throw Ui("badname","hasOwnProperty is not a valid {0} name",e)}function dt(t,e,n){if(!e)return t;for(var i,r=e.split("."),s=t,o=r.length,a=0;o>a;a++)i=r[a],t&&(t=(s=t)[i]);return!n&&L(t)?z(s,t):t}function mt(t){for(var e,n=t[0],i=t[t.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(e||t[r]!==n)&&(e||(e=Oi(Di.call(t,0,r))),e.push(n));return e||t}function gt(){return Object.create(null)}function vt(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=i("$injector"),r=i("ng"),s=e(t,"angular",Object);return s.$$minErr=s.$$minErr||i,e(s,"module",function(){var t={};return function(i,s,o){var a=function(t,e){if("hasOwnProperty"===t)throw r("badname","hasOwnProperty is not a valid {0} name",e)};return a(i,"module"),s&&t.hasOwnProperty(i)&&(t[i]=null),e(t,i,function(){function t(t,e,n,i){return i||(i=r),function(){return i[n||"push"]([t,e,arguments]),c}}function e(t,e){return function(n,s){return s&&L(s)&&(s.$$moduleName=i),r.push([t,e,arguments]),c}}if(!s)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var r=[],a=[],u=[],l=t("$injector","invoke","push",a),c={_invokeQueue:r,_configBlocks:a,_runBlocks:u,requires:s,name:i,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:e("$provide","decorator"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:l,run:function(t){return u.push(t),this}};return o&&l(o),c})}})}function bt(t){var e=[];return JSON.stringify(t,function(t,n){if(n=G(t,n),S(n)){if(e.indexOf(n)>=0)return"...";e.push(n)}return n})}function yt(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):y(t)?"undefined":"string"!=typeof t?bt(t):t}function _t(e){h(e,{bootstrap:ot,copy:F,extend:h,merge:f,equals:B,element:Oi,forEach:s,injector:te,noop:m,bind:z,toJson:W,fromJson:X,identity:g,isUndefined:y,isDefined:_,isString:C,isFunction:L,isObject:S,isNumber:$,isElement:j,isArray:Vi,version:rr,isDate:w,lowercase:wi,uppercase:Ti,callbacks:{counter:0},getTestability:ut,$$minErr:i,$$csp:Wi,reloadWithDebugInfo:at}),(Ni=vt(t))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:yn}),t.provider("$compile",ce).directive({a:Cs,input:Fs,textarea:Fs,form:ks,script:No,select:jo,style:Po,option:Mo,ngBind:Vs,ngBindHtml:zs,ngBindTemplate:Hs,ngClass:Ws,ngClassEven:Ys,ngClassOdd:Xs,ngCloak:Ks,ngController:Qs,ngForm:As,ngHide:To,ngIf:to,ngInclude:eo,ngInit:io,ngNonBindable:bo,ngPluralize:xo,ngRepeat:Co,ngShow:Lo,ngStyle:ko,ngSwitch:Ao,ngSwitchWhen:Eo,ngSwitchDefault:Oo,ngOptions:So,ngTransclude:Io,ngModel:mo,ngList:ro,ngChange:Gs,pattern:Fo,ngPattern:Fo,required:Uo,ngRequired:Uo,minlength:Bo,ngMinlength:Bo,maxlength:qo,ngMaxlength:qo,ngValue:Bs,ngModelOptions:vo}).directive({ngInclude:no}).directive($s).directive(Js),t.provider({$anchorScroll:ee,$animate:Dr,$animateCss:Mr,$$animateJs:Ir,$$animateQueue:Nr,$$AnimateRunner:jr,$$animateAsyncRun:Rr,$browser:ae,$cacheFactory:ue,$controller:me,$document:ge,$exceptionHandler:ve,$filter:Nn,$$forceReflow:Br,$interpolate:Oe,$interval:Ie,$http:Te,$httpParamSerializer:ye,$httpParamSerializerJQLike:_e,$httpBackend:Ae,$xhrFactory:ke,$location:Ge,$log:We,$parse:pn,$rootScope:bn,$q:dn,$$q:mn,$sce:Cn,$sceDelegate:xn,$sniffer:$n,$templateCache:le,$templateRequest:wn,$$testability:Ln,$timeout:Tn,$window:En,$$rAF:vn,$$jqLite:Yt,$$HashMap:Cr,$$cookieReader:In})}])}function St(){return++or}function xt(t){return t.replace(lr,function(t,e,n,i){return i?n.toUpperCase():n}).replace(cr,"Moz$1")}function Ct(t){return!dr.test(t)}function $t(t){var e=t.nodeType;return e===Ji||!e||e===nr}function wt(t){for(var e in sr[t.ng339])return!0;return!1}function Lt(t,e){var n,i,r,o,a=e.createDocumentFragment(),u=[];if(Ct(t))u.push(e.createTextNode(t));else{for(n=n||a.appendChild(e.createElement("div")),i=(mr.exec(t)||["",""])[1].toLowerCase(),r=vr[i]||vr._default,n.innerHTML=r[1]+t.replace(gr,"<$1></$2>")+r[2],o=r[0];o--;)n=n.lastChild;u=V(u,n.childNodes),n=a.firstChild,n.textContent=""}return a.textContent="",a.innerHTML="",s(u,function(t){a.appendChild(t)}),a}function Tt(t,n){n=n||e;var i;return(i=pr.exec(t))?[n.createElement(i[1])]:(i=Lt(t,n))?i.childNodes:[]}function kt(t){if(t instanceof kt)return t;var e;if(C(t)&&(t=zi(t),e=!0),!(this instanceof kt)){if(e&&"<"!=t.charAt(0))throw fr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new kt(t)}e?Pt(this,Tt(t)):Pt(this,t)}function At(t){return t.cloneNode(!0)}function Et(t,e){if(e||It(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),i=0,r=n.length;r>i;i++)It(n[i])}function Ot(t,e,n,i){if(_(i))throw fr("offargs","jqLite#off() does not support the `selector` argument");var r=Nt(t),o=r&&r.events,a=r&&r.handle;if(a)if(e){var u=function(e){var i=o[e];_(n)&&U(i||[],n),_(n)&&i&&i.length>0||(ur(t,e,a),delete o[e])};s(e.split(" "),function(t){u(t),hr[t]&&u(hr[t])})}else for(e in o)"$destroy"!==e&&ur(t,e,a),delete o[e]}function It(t,e){var i=t.ng339,r=i&&sr[i];if(r){if(e)return void delete r.data[e];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),Ot(t)),delete sr[i],t.ng339=n}}function Nt(t,e){var i=t.ng339,r=i&&sr[i];return e&&!r&&(t.ng339=i=St(),r=sr[i]={events:{},data:{},handle:n}),r}function Dt(t,e,n){if($t(t)){var i=_(n),r=!i&&e&&!S(e),s=!e,o=Nt(t,!r),a=o&&o.data;if(i)a[e]=n;else{if(s)return a;if(r)return a&&a[e];h(a,e)}}}function Rt(t,e){return t.getAttribute?(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1:!1}function jt(t,e){e&&t.setAttribute&&s(e.split(" "),function(e){t.setAttribute("class",zi((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+zi(e)+" "," ")))})}function Mt(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");s(e.split(" "),function(t){t=zi(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",zi(n))}}function Pt(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;n>i;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function Ut(t,e){return Ft(t,"$"+(e||"ngController")+"Controller")}function Ft(t,e,n){t.nodeType==nr&&(t=t.documentElement);for(var i=Vi(e)?e:[e];t;){for(var r=0,s=i.length;s>r;r++)if(_(n=Oi.data(t,i[r])))return n;t=t.parentNode||t.nodeType===ir&&t.host}}function qt(t){for(Et(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Bt(t,e){e||Et(t);var n=t.parentNode;n&&n.removeChild(t)}function Vt(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):Oi(n).on("load",e)}function Ht(t,e){var n=_r[e.toLowerCase()];return n&&Sr[P(t)]&&n}function zt(t){return xr[t]}function Gt(t,e){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=e[i||n.type],s=r?r.length:0;if(s){if(y(n.immediatePropagationStopped)){var o=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),o&&o.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var a=r.specialHandlerWrapper||Wt;s>1&&(r=q(r));for(var u=0;s>u;u++)n.isImmediatePropagationStopped()||a(t,n,r[u])}};return n.elem=t,n}function Wt(t,e,n){n.call(t,e)}function Xt(t,e,n){var i=e.relatedTarget;(!i||i!==t&&!br.call(t,i))&&n.call(t,e)}function Yt(){this.$get=function(){return h(kt,{hasClass:function(t,e){return t.attr&&(t=t[0]),Rt(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Mt(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),jt(t,e)}})}}function Kt(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var i=typeof t;return n="function"==i||"object"==i&&null!==t?t.$$hashKey=i+":"+(e||u)():i+":"+t}function Qt(t,e){if(e){var n=0;this.nextUid=function(){return++n}}s(t,this.put,this)}function Jt(t){var e=t.toString().replace(Tr,""),n=e.match($r);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Zt(t,e,n){var i,r,o,a;if("function"==typeof t){if(!(i=t.$inject)){if(i=[],t.length){if(e)throw C(n)&&n||(n=t.name||Jt(t)),kr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);r=t.toString().replace(Tr,""),o=r.match($r),s(o[1].split(wr),function(t){t.replace(Lr,function(t,e,n){i.push(n)})})}t.$inject=i}}else Vi(t)?(a=t.length-1,ft(t[a],"fn"),i=t.slice(0,a)):ft(t,"fn",!0);return i}function te(t,e){function i(t){return function(e,n){return S(e)?void s(e,a(t)):t(e,n)}}function r(t,e){if(pt(t,"service"),(L(e)||Vi(e))&&(e=$.instantiate(e)),!e.$get)throw kr("pget","Provider '{0}' must define $get factory method.",t);return x[t+g]=e}function o(t,e){return function(){var n=T.invoke(e,this);if(y(n))throw kr("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function u(t,e,n){return r(t,{$get:n!==!1?o(t,e):e})}function l(t,e){return u(t,["$injector",function(t){return t.instantiate(e)}])}function c(t,e){return u(t,v(e),!1)}function h(t,e){pt(t,"constant"),x[t]=e,w[t]=e}function f(t,e){var n=$.get(t+g),i=n.$get;n.$get=function(){var t=T.invoke(i,n);return T.invoke(e,null,{$delegate:t})}}function p(t){ht(y(t)||Vi(t),"modulesToLoad","not an array");var e,n=[];return s(t,function(t){function i(t){var e,n;for(e=0,n=t.length;n>e;e++){var i=t[e],r=$.get(i[0]);r[i[1]].apply(r,i[2])}}if(!_.get(t)){_.put(t,!0);try{C(t)?(e=Ni(t),n=n.concat(p(e.requires)).concat(e._runBlocks),i(e._invokeQueue),i(e._configBlocks)):L(t)?n.push($.invoke(t)):Vi(t)?n.push($.invoke(t)):ft(t,"module")}catch(r){throw Vi(t)&&(t=t[t.length-1]),r.message&&r.stack&&-1==r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),kr("modulerr","Failed to instantiate module {0} due to:\n{1}",t,r.stack||r.message||r)}}}),n}function d(t,n){function i(e,i){if(t.hasOwnProperty(e)){if(t[e]===m)throw kr("cdep","Circular dependency found: {0}",e+" <- "+b.join(" <- "));return t[e]}try{return b.unshift(e),t[e]=m,t[e]=n(e,i)}catch(r){throw t[e]===m&&delete t[e],r}finally{b.shift()}}function r(t,n,r,s){"string"==typeof r&&(s=r,r=null);var o,a,u,l=[],c=te.$$annotate(t,e,s);for(a=0,o=c.length;o>a;a++){if(u=c[a],"string"!=typeof u)throw kr("itkn","Incorrect injection token! Expected service name as string, got {0}",u);l.push(r&&r.hasOwnProperty(u)?r[u]:i(u,s))}return Vi(t)&&(t=t[o]),t.apply(n,l)}function s(t,e,n){var i=Object.create((Vi(t)?t[t.length-1]:t).prototype||null),s=r(t,i,e,n);return S(s)||L(s)?s:i}return{invoke:r,instantiate:s,get:i,annotate:te.$$annotate,has:function(e){return x.hasOwnProperty(e+g)||t.hasOwnProperty(e)}}}e=e===!0;var m={},g="Provider",b=[],_=new Qt([],!0),x={$provide:{provider:i(r),factory:i(u),service:i(l),value:i(c),constant:i(h),decorator:f}},$=x.$injector=d(x,function(t,e){throw Fi.isString(e)&&b.push(e),kr("unpr","Unknown provider: {0}",b.join(" <- "))}),w={},T=w.$injector=d(w,function(t,e){var i=$.get(t+g,e);return T.invoke(i.$get,i,n,t)});return s(p(t),function(t){t&&T.invoke(t)}),T}function ee(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,i){function r(t){var e=null;return Array.prototype.some.call(t,function(t){return"a"===P(t)?(e=t,!0):void 0}),e}function s(){var t=a.yOffset;if(L(t))t=t();else if(j(t)){var n=t[0],i=e.getComputedStyle(n);t="fixed"!==i.position?0:n.getBoundingClientRect().bottom}else $(t)||(t=0);return t}function o(t){if(t){t.scrollIntoView();var n=s();if(n){var i=t.getBoundingClientRect().top;e.scrollBy(0,i-n)}}else e.scrollTo(0,0)}function a(t){t=C(t)?t:n.hash();var e;t?(e=u.getElementById(t))?o(e):(e=r(u.getElementsByName(t)))?o(e):"top"===t&&o(null):o(null)}var u=e.document;return t&&i.$watch(function(){return n.hash()},function(t,e){(t!==e||""!==t)&&Vt(function(){i.$evalAsync(a)})}),a}]}function ne(t,e){return t||e?t?e?(Vi(t)&&(t=t.join(" ")),Vi(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function ie(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===Er)return n}}function re(t){C(t)&&(t=t.split(" "));var e=gt();return s(t,function(t){t.length&&(e[t]=!0)}),e}function se(t){return S(t)?t:{}}function oe(t,e,n,i){function r(t){try{t.apply(null,H(arguments,1))}finally{if(b--,0===b)for(;_.length;)try{_.pop()()}catch(e){n.error(e)}}}function o(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}function a(){w=null,l(),c()}function u(){try{return p.state}catch(t){}}function l(){S=u(),S=y(S)?null:S,B(S,k)&&(S=k),k=S}function c(){(C!==h.url()||x!==S)&&(C=h.url(),x=S,s(L,function(t){t(h.url(),S)}))}var h=this,f=(e[0],t.location),p=t.history,d=t.setTimeout,g=t.clearTimeout,v={};h.isMock=!1;var b=0,_=[];h.$$completeOutstandingRequest=r,h.$$incOutstandingRequestCount=function(){b++},h.notifyWhenNoOutstandingRequests=function(t){0===b?t():_.push(t)};var S,x,C=f.href,$=e.find("base"),w=null;l(),x=S,h.url=function(e,n,r){if(y(r)&&(r=null),f!==t.location&&(f=t.location),p!==t.history&&(p=t.history),e){var s=x===r;if(C===e&&(!i.history||s))return h;var a=C&&Me(C)===Me(e);return C=e,x=r,!i.history||a&&s?((!a||w)&&(w=e),n?f.replace(e):a?f.hash=o(e):f.href=e,f.href!==e&&(w=e)):(p[n?"replaceState":"pushState"](r,"",e),l(),x=S),h}return w||f.href.replace(/%27/g,"'")},h.state=function(){return S};var L=[],T=!1,k=null;h.onUrlChange=function(e){return T||(i.history&&Oi(t).on("popstate",a),Oi(t).on("hashchange",a),T=!0),L.push(e),e},h.$$applicationDestroyed=function(){Oi(t).off("hashchange popstate",a)},h.$$checkUrlChange=c,h.baseHref=function(){var t=$.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""},h.defer=function(t,e){var n;return b++,n=d(function(){delete v[n],r(t)},e||0),v[n]=!0,n},h.defer.cancel=function(t){return v[t]?(delete v[t],g(t),r(m),!0):!1}}function ae(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new oe(t,i,e,n)}]}function ue(){this.$get=function(){function t(t,n){function r(t){t!=f&&(p?p==t&&(p=t.n):p=t,s(t.n,t.p),s(t,f),f=t,f.n=null)}function s(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var o=0,a=h({},n,{id:t}),u=gt(),l=n&&n.capacity||Number.MAX_VALUE,c=gt(),f=null,p=null;return e[t]={put:function(t,e){if(!y(e)){if(l<Number.MAX_VALUE){var n=c[t]||(c[t]={key:t});r(n)}return t in u||o++,u[t]=e,o>l&&this.remove(p.key),e}},get:function(t){if(l<Number.MAX_VALUE){var e=c[t];if(!e)return;r(e)}return u[t]},remove:function(t){if(l<Number.MAX_VALUE){var e=c[t];if(!e)return;e==f&&(f=e.p),e==p&&(p=e.n),s(e.n,e.p),delete c[t]}t in u&&(delete u[t],o--)},removeAll:function(){u=gt(),o=0,c=gt(),f=p=null},destroy:function(){u=null,a=null,c=null,delete e[t]},info:function(){return h({},a,{size:o})}}}var e={};return t.info=function(){var t={};return s(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function le(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function ce(t,i){function r(t,e,n){var i=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,r={};return s(t,function(t,s){var o=t.match(i);if(!o)throw Pr("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,s,t,n?"controller bindings definition":"isolate scope definition");r[s]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||s}}),r}function o(t,e){var n={isolateScope:null,bindToController:null};if(S(t.scope)&&(t.bindToController===!0?(n.bindToController=r(t.scope,e,!0),n.isolateScope={}):n.isolateScope=r(t.scope,e,!1)),S(t.bindToController)&&(n.bindToController=r(t.bindToController,e,!0)),S(n.bindToController)){var i=t.controller,s=t.controllerAs;if(!i)throw Pr("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);if(!de(i,s))throw Pr("noident","Cannot bind to controller without identifier for directive '{0}'.",e)}return n}function u(t){var e=t.charAt(0);if(!e||e!==wi(e))throw Pr("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw Pr("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}var l={},c="Directive",f=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,p=/(([\w\-]+)(?:\:([^;]+))?;?)/,b=M("ngSrc,ngSrcset,src,srcset"),x=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,$=/^(on[a-z]+|formaction)$/;this.directive=function T(e,n){return pt(e,"directive"),C(e)?(u(e),ht(n,"directiveFactory"),l.hasOwnProperty(e)||(l[e]=[],t.factory(e+c,["$injector","$exceptionHandler",function(t,n){var i=[];return s(l[e],function(r,s){try{var a=t.invoke(r);L(a)?a={compile:v(a)}:!a.compile&&a.link&&(a.compile=v(a.link)),a.priority=a.priority||0,a.index=s,a.name=a.name||e,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"EA";var u=a.$$bindings=o(a,a.name);S(u.isolateScope)&&(a.$$isolateBindings=u.isolateScope),a.$$moduleName=r.$$moduleName,i.push(a)}catch(l){n(l)}}),i}])),l[e].push(n)):s(e,a(T)),this},this.aHrefSanitizationWhitelist=function(t){return _(t)?(i.aHrefSanitizationWhitelist(t),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return _(t)?(i.imgSrcSanitizationWhitelist(t),this):i.imgSrcSanitizationWhitelist()};var w=!0;this.debugInfoEnabled=function(t){return _(t)?(w=t,this):w},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,i,r,o,a,u,v,_,T,k){function E(t,e){try{t.addClass(e)}catch(n){}}function O(t,e,n,i,r){t instanceof Oi||(t=Oi(t)),s(t,function(e,n){e.nodeType==tr&&e.nodeValue.match(/\S+/)&&(t[n]=Oi(e).wrap("<span></span>").parent()[0])});var o=N(t,e,t,n,i,r);O.$$addScopeClass(t);var a=null;return function(e,n,i){ht(e,"scope"),r&&r.needsNewScope&&(e=e.$parent.$new()),i=i||{};var s=i.parentBoundTranscludeFn,u=i.transcludeControllers,l=i.futureParentElement;s&&s.$$boundTransclude&&(s=s.$$boundTransclude),a||(a=I(l));var c;if(c="html"!==a?Oi(Q(a,Oi("<div>").append(t).html())):n?yr.clone.call(t):t,u)for(var h in u)c.data("$"+h+"Controller",u[h].instance);return O.$$addScopeInfo(c,e),n&&n(c,e),o&&o(e,c,c,s),c}}function I(t){var e=t&&t[0];return e&&"foreignobject"!==P(e)&&e.toString().match(/SVG/)?"svg":"html"}function N(t,e,i,r,s,o){function a(t,i,r,s){var o,a,u,l,c,h,f,p,g;if(d){var v=i.length;for(g=new Array(v),c=0;c<m.length;c+=3)f=m[c],g[f]=i[f]}else g=i;for(c=0,h=m.length;h>c;)u=g[m[c++]],o=m[c++],a=m[c++],o?(o.scope?(l=t.$new(),O.$$addScopeInfo(Oi(u),l)):l=t,p=o.transcludeOnThisElement?D(t,o.transclude,s):!o.templateOnThisElement&&s?s:!s&&e?D(t,e):null,o(a,l,u,r,p)):a&&a(t,u.childNodes,n,s)}for(var u,l,c,h,f,p,d,m=[],g=0;g<t.length;g++)u=new st,l=R(t[g],[],u,0===g?r:n,s),c=l.length?F(l,t[g],u,e,i,null,[],[],o):null,c&&c.scope&&O.$$addScopeClass(u.$$element),f=c&&c.terminal||!(h=t[g].childNodes)||!h.length?null:N(h,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:e),(c||f)&&(m.push(g,c,f),p=!0,d=d||c),o=null;return p?a:null}function D(t,e,n){var i=function(i,r,s,o,a){return i||(i=t.$new(!1,a),i.$$transcluded=!0),e(i,r,{parentBoundTranscludeFn:n,transcludeControllers:s,futureParentElement:o})};return i}function R(t,e,n,i,r){var s,o,a=t.nodeType,u=n.$attr;switch(a){case Ji:V(e,he(P(t)),"E",i,r);for(var l,c,h,d,m,g,v=t.attributes,b=0,y=v&&v.length;y>b;b++){var _=!1,x=!1;l=v[b],c=l.name,m=zi(l.value),d=he(c),(g=ct.test(d))&&(c=c.replace(Ur,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var $=d.match(ft);$&&z($[1])&&(_=c,x=c.substr(0,c.length-5)+"end",c=c.substr(0,c.length-6)),h=he(c.toLowerCase()),u[h]=c,(g||!n.hasOwnProperty(h))&&(n[h]=m,Ht(t,h)&&(n[h]=!0)),tt(t,e,m,h,g),V(e,h,"A",i,r,_,x)}if(o=t.className,S(o)&&(o=o.animVal),C(o)&&""!==o)for(;s=p.exec(o);)h=he(s[2]),V(e,h,"C",i,r)&&(n[h]=zi(s[3])),o=o.substr(s.index+s[0].length);break;case tr:if(11===Ei)for(;t.parentNode&&t.nextSibling&&t.nextSibling.nodeType===tr;)t.nodeValue=t.nodeValue+t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);K(e,t.nodeValue);break;case er:try{s=f.exec(t.nodeValue),s&&(h=he(s[1]),V(e,h,"M",i,r)&&(n[h]=zi(s[2])))}catch(w){}}return e.sort(X),e}function j(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw Pr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType==Ji&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(r>0)}else i.push(t);return Oi(i)}function M(t,e,n){return function(i,r,s,o,a){return r=j(r[0],e,n),t(i,r,s,o,a)}}function F(t,i,s,o,a,l,c,h,f){function p(t,e,n,i){t&&(n&&(t=M(t,n,i)),t.require=v.require,t.directiveName=b,(E===v||v.$$isolateScope)&&(t=nt(t,{isolateScope:!0})),c.push(t)),e&&(n&&(e=M(e,n,i)),e.require=v.require,e.directiveName=b,(E===v||v.$$isolateScope)&&(e=nt(e,{isolateScope:!0})),h.push(e))}function d(t,e,n,i){var r;if(C(e)){var s=e.match(x),o=e.substring(s[0].length),a=s[1]||s[3],u="?"===s[2];if("^^"===a?n=n.parent():(r=i&&i[o],r=r&&r.instance),!r){var l="$"+o+"Controller";r=a?n.inheritedData(l):n.data(l)}if(!r&&!u)throw Pr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",o,t)}else if(Vi(e)){r=[];for(var c=0,h=e.length;h>c;c++)r[c]=d(t,e[c],n,i)}return r||null}function m(t,e,n,i,r,s){var o=gt();for(var a in i){var l=i[a],c={$scope:l===E||l.$$isolateScope?r:s,$element:t,$attrs:e,$transclude:n},h=l.controller;"@"==h&&(h=e[l.name]);var f=u(h,c,!0,l.controllerAs);o[l.name]=f,U||t.data("$"+l.name+"Controller",f.instance)}return o}function g(t,e,r,o,a){function u(t,e,i){var r;return A(t)||(i=e,e=t,t=n),U&&(r=g),i||(i=U?b.parent():b),a(t,e,r,i,N)}var l,f,p,g,v,b,y,_,S;i===r?(y=s,b=s.$$element):(b=Oi(r),y=new st(b,s)),p=e,E?f=e.$new(!0):T&&(p=e.$parent),a&&(v=u,v.$$boundTransclude=a),k&&(g=m(b,y,v,k,f,e)),E&&(O.$$addScopeInfo(b,f,!0,!(I&&(I===E||I===E.$$originalDirective))),O.$$addScopeClass(b,!0),f.$$isolateBindings=E.$$isolateBindings,_=rt(e,y,f,f.$$isolateBindings,E),_&&f.$on("$destroy",_));for(var x in g){var C=k[x],$=g[x],w=C.$$bindings.bindToController;$.identifier&&w&&(S=rt(p,y,$.instance,w,C));var L=$();L!==$.instance&&($.instance=L,b.data("$"+C.name+"Controller",L),S&&S(),S=rt(p,y,$.instance,w,C))}for(z=0,X=c.length;X>z;z++)l=c[z],it(l,l.isolateScope?f:e,b,y,l.require&&d(l.directiveName,l.require,b,g),v);var N=e;for(E&&(E.template||null===E.templateUrl)&&(N=f),t&&t(N,r.childNodes,n,a),z=h.length-1;z>=0;z--)l=h[z],it(l,l.isolateScope?f:e,b,y,l.require&&d(l.directiveName,l.require,b,g),v)}f=f||{};for(var v,b,y,_,$,w=-Number.MAX_VALUE,T=f.newScopeDirective,k=f.controllerDirectives,E=f.newIsolateScopeDirective,I=f.templateDirective,N=f.nonTlbTranscludeDirective,D=!1,P=!1,U=f.hasElementTranscludeDirective,F=s.$$element=Oi(i),B=l,V=o,z=0,X=t.length;X>z;z++){v=t[z];var K=v.$$start,Z=v.$$end;if(K&&(F=j(i,K,Z)),y=n,w>v.priority)break;if(($=v.scope)&&(v.templateUrl||(S($)?(Y("new/isolated scope",E||T,v,F),
E=v):Y("new/isolated scope",E,v,F)),T=T||v),b=v.name,!v.templateUrl&&v.controller&&($=v.controller,k=k||gt(),Y("'"+b+"' controller",k[b],v,F),k[b]=v),($=v.transclude)&&(D=!0,v.$$tlb||(Y("transclusion",N,v,F),N=v),"element"==$?(U=!0,w=v.priority,y=F,F=s.$$element=Oi(e.createComment(" "+b+": "+s[b]+" ")),i=F[0],et(a,H(y),i),V=O(y,o,w,B&&B.name,{nonTlbTranscludeDirective:N})):(y=Oi(At(i)).contents(),F.empty(),V=O(y,o,n,n,{needsNewScope:v.$$isolateScope||v.$$newScope}))),v.template)if(P=!0,Y("template",I,v,F),I=v,$=L(v.template)?v.template(F,s):v.template,$=ut($),v.replace){if(B=v,y=Ct($)?[]:pe(Q(v.templateNamespace,zi($))),i=y[0],1!=y.length||i.nodeType!==Ji)throw Pr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",b,"");et(a,F,i);var tt={$attr:{}},ot=R(i,[],tt),at=t.splice(z+1,t.length-(z+1));(E||T)&&q(ot,E,T),t=t.concat(ot).concat(at),G(s,tt),X=t.length}else F.html($);if(v.templateUrl)P=!0,Y("template",I,v,F),I=v,v.replace&&(B=v),g=W(t.splice(z,t.length-z),F,s,a,D&&V,c,h,{controllerDirectives:k,newScopeDirective:T!==v&&T,newIsolateScopeDirective:E,templateDirective:I,nonTlbTranscludeDirective:N}),X=t.length;else if(v.compile)try{_=v.compile(F,s,V),L(_)?p(null,_,K,Z):_&&p(_.pre,_.post,K,Z)}catch(lt){r(lt,J(F))}v.terminal&&(g.terminal=!0,w=Math.max(w,v.priority))}return g.scope=T&&T.scope===!0,g.transcludeOnThisElement=D,g.templateOnThisElement=P,g.transclude=V,f.hasElementTranscludeDirective=U,g}function q(t,e,n){for(var i=0,r=t.length;r>i;i++)t[i]=d(t[i],{$$isolateScope:e,$$newScope:n})}function V(e,n,i,s,o,a,u){if(n===o)return null;var h=null;if(l.hasOwnProperty(n))for(var f,p=t.get(n+c),m=0,g=p.length;g>m;m++)try{f=p[m],(y(s)||s>f.priority)&&-1!=f.restrict.indexOf(i)&&(a&&(f=d(f,{$$start:a,$$end:u})),e.push(f),h=f)}catch(v){r(v)}return h}function z(e){if(l.hasOwnProperty(e))for(var n,i=t.get(e+c),r=0,s=i.length;s>r;r++)if(n=i[r],n.multiElement)return!0;return!1}function G(t,e){var n=e.$attr,i=t.$attr,r=t.$$element;s(t,function(i,r){"$"!=r.charAt(0)&&(e[r]&&e[r]!==i&&(i+=("style"===r?";":" ")+e[r]),t.$set(r,i,!0,n[r]))}),s(e,function(e,s){"class"==s?(E(r,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==s?(r.attr("style",r.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==s.charAt(0)||t.hasOwnProperty(s)||(t[s]=e,i[s]=n[s])})}function W(t,e,n,i,r,a,u,l){var c,h,f=[],p=e[0],m=t.shift(),g=d(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),v=L(m.templateUrl)?m.templateUrl(e,n):m.templateUrl,b=m.templateNamespace;return e.empty(),o(v).then(function(o){var d,y,_,x;if(o=ut(o),m.replace){if(_=Ct(o)?[]:pe(Q(b,zi(o))),d=_[0],1!=_.length||d.nodeType!==Ji)throw Pr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,v);y={$attr:{}},et(i,e,d);var C=R(d,[],y);S(m.scope)&&q(C,!0),t=C.concat(t),G(n,y)}else d=p,e.html(o);for(t.unshift(g),c=F(t,d,n,r,e,m,a,u,l),s(i,function(t,n){t==d&&(i[n]=e[0])}),h=N(e[0].childNodes,r);f.length;){var $=f.shift(),w=f.shift(),L=f.shift(),T=f.shift(),k=e[0];if(!$.$$destroyed){if(w!==p){var A=w.className;l.hasElementTranscludeDirective&&m.replace||(k=At(d)),et(L,Oi(w),k),E(Oi(k),A)}x=c.transcludeOnThisElement?D($,c.transclude,T):T,c(h,$,k,i,x)}}f=null}),function(t,e,n,i,r){var s=r;e.$$destroyed||(f?f.push(e,n,i,s):(c.transcludeOnThisElement&&(s=D(e,c.transclude,r)),c(h,e,n,i,s)))}}function X(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function Y(t,e,n,i){function r(t){return t?" (module: "+t+")":""}if(e)throw Pr("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,r(e.$$moduleName),n.name,r(n.$$moduleName),t,J(i))}function K(t,e){var n=i(e,!0);n&&t.push({priority:0,compile:function(t){var e=t.parent(),i=!!e.length;return i&&O.$$addBindingClass(e),function(t,e){var r=e.parent();i||O.$$addBindingClass(r),O.$$addBindingInfo(r,n.expressions),t.$watch(n,function(t){e[0].nodeValue=t})}}})}function Q(t,n){switch(t=wi(t||"html")){case"svg":case"math":var i=e.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function Z(t,e){if("srcdoc"==e)return _.HTML;var n=P(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?_.RESOURCE_URL:void 0}function tt(t,e,n,r,s){var o=Z(t,r);s=b[r]||s;var a=i(n,!0,o,s);if(a){if("multiple"===r&&"select"===P(t))throw Pr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",J(t));e.push({priority:100,compile:function(){return{pre:function(t,e,u){var l=u.$$observers||(u.$$observers=gt());if($.test(r))throw Pr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=u[r];c!==n&&(a=c&&i(c,!0,o,s),n=c),a&&(u[r]=a(t),(l[r]||(l[r]=[])).$$inter=!0,(u.$$observers&&u.$$observers[r].$$scope||t).$watch(a,function(t,e){"class"===r&&t!=e?u.$updateClass(t,e):u.$set(r,t)}))}}}})}}function et(t,n,i){var r,s,o=n[0],a=n.length,u=o.parentNode;if(t)for(r=0,s=t.length;s>r;r++)if(t[r]==o){t[r++]=i;for(var l=r,c=l+a-1,h=t.length;h>l;l++,c++)h>c?t[l]=t[c]:delete t[l];t.length-=a-1,t.context===o&&(t.context=i);break}u&&u.replaceChild(i,o);var f=e.createDocumentFragment();f.appendChild(o),Oi.hasData(o)&&(Oi.data(i,Oi.data(o)),Ii?(Bi=!0,Ii.cleanData([o])):delete Oi.cache[o[Oi.expando]]);for(var p=1,d=n.length;d>p;p++){var m=n[p];Oi(m).remove(),f.appendChild(m),delete n[p]}n[0]=i,n.length=1}function nt(t,e){return h(function(){return t.apply(null,arguments)},t,e)}function it(t,e,n,i,s,o){try{t(e,n,i,s,o)}catch(a){r(a,J(n))}}function rt(t,e,n,r,o){var u=[];return s(r,function(r,s){var l,c,h,f,p=r.attrName,d=r.optional,g=r.mode;switch(g){case"@":d||Li.call(e,p)||(n[s]=e[p]=void 0),e.$observe(p,function(t){C(t)&&(n[s]=t)}),e.$$observers[p].$$scope=t,C(e[p])&&(n[s]=i(e[p])(t));break;case"=":if(!Li.call(e,p)){if(d)break;e[p]=void 0}if(d&&!e[p])break;c=a(e[p]),f=c.literal?B:function(t,e){return t===e||t!==t&&e!==e},h=c.assign||function(){throw l=n[s]=c(t),Pr("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",e[p],o.name)},l=n[s]=c(t);var v=function(e){return f(e,n[s])||(f(e,l)?h(t,e=n[s]):n[s]=e),l=e};v.$stateful=!0;var b;b=r.collection?t.$watchCollection(e[p],v):t.$watch(a(e[p],v),null,c.literal),u.push(b);break;case"&":if(c=e.hasOwnProperty(p)?a(e[p]):m,c===m&&d)break;n[s]=function(e){return c(t,e)}}}),u.length&&function(){for(var t=0,e=u.length;e>t;++t)u[t]()}}var st=function(t,e){if(e){var n,i,r,s=Object.keys(e);for(n=0,i=s.length;i>n;n++)r=s[n],this[r]=e[r]}else this.$attr={};this.$$element=t};st.prototype={$normalize:he,$addClass:function(t){t&&t.length>0&&T.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&T.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=fe(t,e);n&&n.length&&T.addClass(this.$$element,n);var i=fe(e,t);i&&i.length&&T.removeClass(this.$$element,i)},$set:function(t,e,n,i){var o,a=this.$$element[0],u=Ht(a,t),l=zt(t),c=t;if(u?(this.$$element.prop(t,e),i=u):l&&(this[l]=e,c=l),this[t]=e,i?this.$attr[t]=i:(i=this.$attr[t],i||(this.$attr[t]=i=lt(t,"-"))),o=P(this.$$element),"a"===o&&"href"===t||"img"===o&&"src"===t)this[t]=e=k(e,"src"===t);else if("img"===o&&"srcset"===t){for(var h="",f=zi(e),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,d=/\s/.test(f)?p:/(,)/,m=f.split(d),g=Math.floor(m.length/2),v=0;g>v;v++){var b=2*v;h+=k(zi(m[b]),!0),h+=" "+zi(m[b+1])}var _=zi(m[2*v]).split(/\s/);h+=k(zi(_[0]),!0),2===_.length&&(h+=" "+zi(_[1])),this[t]=e=h}n!==!1&&(null===e||y(e)?this.$$element.removeAttr(i):this.$$element.attr(i,e));var S=this.$$observers;S&&s(S[c],function(t){try{t(e)}catch(n){r(n)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=gt()),r=i[t]||(i[t]=[]);return r.push(e),v.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(t)||y(n[t])||e(n[t])}),function(){U(r,e)}}};var ot=i.startSymbol(),at=i.endSymbol(),ut="{{"==ot||"}}"==at?g:function(t){return t.replace(/\{\{/g,ot).replace(/}}/g,at)},ct=/^ngAttr[A-Z]/,ft=/^(.+)Start$/;return O.$$addBindingInfo=w?function(t,e){var n=t.data("$binding")||[];Vi(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:m,O.$$addBindingClass=w?function(t){E(t,"ng-binding")}:m,O.$$addScopeInfo=w?function(t,e,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(r,e)}:m,O.$$addScopeClass=w?function(t,e){E(t,e?"ng-isolate-scope":"ng-scope")}:m,O}]}function he(t){return xt(t.replace(Ur,""))}function fe(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/);t:for(var s=0;s<i.length;s++){for(var o=i[s],a=0;a<r.length;a++)if(o==r[a])continue t;n+=(n.length>0?" ":"")+o}return n}function pe(t){t=Oi(t);var e=t.length;if(1>=e)return t;for(;e--;){var n=t[e];n.nodeType===er&&Ri.call(t,e,1)}return t}function de(t,e){if(e&&C(e))return e;if(C(t)){var n=qr.exec(t);if(n)return n[3]}}function me(){var t={},e=!1;this.register=function(e,n){pt(e,"controller"),S(e)?h(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(r,s){function o(t,e,n,r){if(!t||!S(t.$scope))throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,e);t.$scope[e]=n}return function(i,a,u,l){var c,f,p,d;if(u=u===!0,l&&C(l)&&(d=l),C(i)){if(f=i.match(qr),!f)throw Fr("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",i);p=f[1],d=d||f[3],i=t.hasOwnProperty(p)?t[p]:dt(a.$scope,p,!0)||(e?dt(s,p,!0):n),ft(i,p,!0)}if(u){var m=(Vi(i)?i[i.length-1]:i).prototype;c=Object.create(m||null),d&&o(a,d,c,p||i.name);var g;return g=h(function(){var t=r.invoke(i,c,a,p);return t!==c&&(S(t)||L(t))&&(c=t,d&&o(a,d,c,p||i.name)),c},{instance:c,identifier:d})}return c=r.instantiate(i,a,p),d&&o(a,d,c,p||i.name),c}}]}function ge(){this.$get=["$window",function(t){return Oi(t.document)}]}function ve(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function be(t){return S(t)?w(t)?t.toISOString():W(t):t}function ye(){this.$get=function(){return function(t){if(!t)return"";var e=[];return o(t,function(t,n){null===t||y(t)||(Vi(t)?s(t,function(t,i){e.push(it(n)+"="+it(be(t)))}):e.push(it(n)+"="+it(be(t))))}),e.join("&")}}}function _e(){this.$get=function(){return function(t){function e(t,i,r){null===t||y(t)||(Vi(t)?s(t,function(t,n){e(t,i+"["+(S(t)?n:"")+"]")}):S(t)&&!w(t)?o(t,function(t,n){e(t,i+(r?"":"[")+n+(r?"":"]"))}):n.push(it(i)+"="+it(be(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function Se(t,e){if(C(t)){var n=t.replace(Wr,"").trim();if(n){var i=e("Content-Type");(i&&0===i.indexOf(Vr)||xe(n))&&(t=X(n))}}return t}function xe(t){var e=t.match(zr);return e&&Gr[e[0]].test(t)}function Ce(t){function e(t,e){t&&(i[t]=i[t]?i[t]+", "+e:e)}var n,i=gt();return C(t)?s(t.split("\n"),function(t){n=t.indexOf(":"),e(wi(zi(t.substr(0,n))),zi(t.substr(n+1)))}):S(t)&&s(t,function(t,n){e(wi(n),zi(t))}),i}function $e(t){var e;return function(n){if(e||(e=Ce(t)),n){var i=e[wi(n)];return void 0===i&&(i=null),i}return e}}function we(t,e,n,i){return L(i)?i(t,e,n):(s(i,function(i){t=i(t,e,n)}),t)}function Le(t){return t>=200&&300>t}function Te(){var t=this.defaults={transformResponse:[Se],transformRequest:[function(t){return!S(t)||E(t)||I(t)||O(t)?t:W(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:q(Hr),put:q(Hr),patch:q(Hr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},e=!1;this.useApplyAsync=function(t){return _(t)?(e=!!t,this):e};var r=!0;this.useLegacyPromiseExtensions=function(t){return _(t)?(r=!!t,this):r};var o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,u,l,c,f,p){function d(e){function o(t){var e=h({},t);return e.data=we(t.data,t.headers,t.status,l.transformResponse),Le(t.status)?e:f.reject(e)}function a(t,e){var n,i={};return s(t,function(t,r){L(t)?(n=t(e),null!=n&&(i[r]=n)):i[r]=t}),i}function u(e){var n,i,r,s=t.headers,o=h({},e.headers);s=h({},s.common,s[wi(e.method)]);t:for(n in s){i=wi(n);for(r in o)if(wi(r)===i)continue t;o[n]=s[n]}return a(o,q(e))}if(!Fi.isObject(e))throw i("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);if(!C(e.url))throw i("$http")("badreq","Http request configuration url must be a string.  Received: {0}",e.url);var l=h({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer},e);l.headers=u(e),l.method=Ti(l.method),l.paramSerializer=C(l.paramSerializer)?p.get(l.paramSerializer):l.paramSerializer;var c=function(e){var i=e.headers,r=we(e.data,$e(i),n,e.transformRequest);return y(r)&&s(i,function(t,e){"content-type"===wi(e)&&delete i[e]}),y(e.withCredentials)&&!y(t.withCredentials)&&(e.withCredentials=t.withCredentials),v(e,r).then(o,o)},d=[c,n],m=f.when(l);for(s($,function(t){(t.request||t.requestError)&&d.unshift(t.request,t.requestError),(t.response||t.responseError)&&d.push(t.response,t.responseError)});d.length;){var g=d.shift(),b=d.shift();m=m.then(g,b)}return r?(m.success=function(t){return ft(t,"fn"),m.then(function(e){t(e.data,e.status,e.headers,l)}),m},m.error=function(t){return ft(t,"fn"),m.then(null,function(e){t(e.data,e.status,e.headers,l)}),m}):(m.success=Yr("success"),m.error=Yr("error")),m}function m(t){s(arguments,function(t){d[t]=function(e,n){return d(h({},n||{},{method:t,url:e}))}})}function g(t){s(arguments,function(t){d[t]=function(e,n,i){return d(h({},i||{},{method:t,url:e,data:n}))}})}function v(i,r){function s(t,n,i,r){function s(){o(n,t,i,r)}p&&(Le(t)?p.put($,[t,n,Ce(i),r]):p.remove($)),e?c.$applyAsync(s):(s(),c.$$phase||c.$apply())}function o(t,e,n,r){e=e>=-1?e:0,(Le(e)?g.resolve:g.reject)({data:t,status:e,headers:$e(n),config:i,statusText:r})}function l(t){o(t.data,t.status,q(t.headers()),t.statusText)}function h(){var t=d.pendingRequests.indexOf(i);-1!==t&&d.pendingRequests.splice(t,1)}var p,m,g=f.defer(),v=g.promise,C=i.headers,$=b(i.url,i.paramSerializer(i.params));if(d.pendingRequests.push(i),v.then(h,h),!i.cache&&!t.cache||i.cache===!1||"GET"!==i.method&&"JSONP"!==i.method||(p=S(i.cache)?i.cache:S(t.cache)?t.cache:x),p&&(m=p.get($),_(m)?D(m)?m.then(l,l):Vi(m)?o(m[1],m[0],q(m[2]),m[3]):o(m,200,{},"OK"):p.put($,v)),y(m)){var w=An(i.url)?u()[i.xsrfCookieName||t.xsrfCookieName]:n;w&&(C[i.xsrfHeaderName||t.xsrfHeaderName]=w),a(i.method,$,r,s,C,i.timeout,i.withCredentials,i.responseType)}return v}function b(t,e){return e.length>0&&(t+=(-1==t.indexOf("?")?"?":"&")+e),t}var x=l("$http");t.paramSerializer=C(t.paramSerializer)?p.get(t.paramSerializer):t.paramSerializer;var $=[];return s(o,function(t){$.unshift(C(t)?p.get(t):p.invoke(t))}),d.pendingRequests=[],m("get","delete","head","jsonp"),g("post","put","patch"),d.defaults=t,d}]}function ke(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function Ae(){this.$get=["$browser","$window","$document","$xhrFactory",function(t,e,n,i){return Ee(t,i,t.defer,e.angular.callbacks,n[0])}]}function Ee(t,e,n,i,r){function o(t,e,n){var s=r.createElement("script"),o=null;return s.type="text/javascript",s.src=t,s.async=!0,o=function(t){ur(s,"load",o),ur(s,"error",o),r.body.removeChild(s),s=null;var a=-1,u="unknown";t&&("load"!==t.type||i[e].called||(t={type:"error"}),u=t.type,a="error"===t.type?404:200),n&&n(a,u)},ar(s,"load",o),ar(s,"error",o),r.body.appendChild(s),o}return function(r,a,u,l,c,h,f,p){function d(){b&&b(),S&&S.abort()}function g(e,i,r,s,o){_($)&&n.cancel($),b=S=null,e(i,r,s,o),t.$$completeOutstandingRequest(m)}if(t.$$incOutstandingRequestCount(),a=a||t.url(),"jsonp"==wi(r)){var v="_"+(i.counter++).toString(36);i[v]=function(t){i[v].data=t,i[v].called=!0};var b=o(a.replace("JSON_CALLBACK","angular.callbacks."+v),v,function(t,e){g(l,t,i[v].data,"",e),i[v]=m})}else{var S=e(r,a);S.open(r,a,!0),s(c,function(t,e){_(t)&&S.setRequestHeader(e,t)}),S.onload=function(){var t=S.statusText||"",e="response"in S?S.response:S.responseText,n=1223===S.status?204:S.status;0===n&&(n=e?200:"file"==kn(a).protocol?404:0),g(l,n,e,S.getAllResponseHeaders(),t)};var x=function(){g(l,-1,null,null,"")};if(S.onerror=x,S.onabort=x,f&&(S.withCredentials=!0),p)try{S.responseType=p}catch(C){if("json"!==p)throw C}S.send(y(u)?null:u)}if(h>0)var $=n(d,h);else D(h)&&h.then(d)}}function Oe(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function s(t){return"\\\\\\"+t}function o(n){return n.replace(f,t).replace(p,e)}function a(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=W(t)}return t}function u(s,u,f,p){function d(t){try{return t=k(t),p&&!_(t)?t:a(t)}catch(e){i(Kr.interr(s,e))}}p=!!p;for(var m,g,v,b=0,S=[],x=[],C=s.length,$=[],w=[];C>b;){if(-1==(m=s.indexOf(t,b))||-1==(g=s.indexOf(e,m+l))){b!==C&&$.push(o(s.substring(b)));break}b!==m&&$.push(o(s.substring(b,m))),v=s.substring(m+l,g),S.push(v),x.push(n(v,d)),b=g+c,w.push($.length),$.push("")}if(f&&$.length>1&&Kr.throwNoconcat(s),!u||S.length){var T=function(t){for(var e=0,n=S.length;n>e;e++){if(p&&y(t[e]))return;$[w[e]]=t[e]}return $.join("")},k=function(t){return f?r.getTrusted(f,t):r.valueOf(t)};return h(function(t){var e=0,n=S.length,r=new Array(n);try{for(;n>e;e++)r[e]=x[e](t);return T(r)}catch(o){i(Kr.interr(s,o))}},{exp:s,expressions:S,$$watchDelegate:function(t,e){var n;return t.$watchGroup(x,function(i,r){var s=T(i);L(e)&&e.call(this,s,i!==r?n:s,t),n=s})}})}}var l=t.length,c=e.length,f=new RegExp(t.replace(/./g,s),"g"),p=new RegExp(e.replace(/./g,s),"g");return u.startSymbol=function(){return t},u.endSymbol=function(){return e},u}]}function Ie(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,n,i){function r(r,o,a,u){var l=arguments.length>4,c=l?H(arguments,4):[],h=e.setInterval,f=e.clearInterval,p=0,d=_(u)&&!u,m=(d?i:n).defer(),g=m.promise;return a=_(a)?a:0,g.then(null,null,l?function(){r.apply(null,c)}:r),g.$$intervalId=h(function(){m.notify(p++),a>0&&p>=a&&(m.resolve(p),f(g.$$intervalId),delete s[g.$$intervalId]),d||t.$apply()},o),s[g.$$intervalId]=m,g}var s={};return r.cancel=function(t){return t&&t.$$intervalId in s?(s[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete s[t.$$intervalId],!0):!1},r}]}function Ne(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=nt(e[n]);return e.join("/")}function De(t,e){var n=kn(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=p(n.port)||Jr[n.protocol]||null}function Re(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var i=kn(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=tt(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function je(t,e){return 0===e.indexOf(t)?e.substr(t.length):void 0}function Me(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function Pe(t){return t.replace(/(#.+)|#$/,"$1")}function Ue(t){return t.substr(0,Me(t).lastIndexOf("/")+1)}function Fe(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function qe(t,e,n){this.$$html5=!0,n=n||"",De(t,this),this.$$parse=function(t){var n=je(e,t);if(!C(n))throw Zr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);Re(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=et(this.$$search),n=this.$$hash?"#"+nt(this.$$hash):"";this.$$url=Ne(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var s,o,a;return _(s=je(t,i))?(o=s,a=_(s=je(n,s))?e+(je("/",s)||s):t+o):_(s=je(e,i))?a=e+s:e==i+"/"&&(a=e),a&&this.$$parse(a),!!a}}function Be(t,e,n){De(t,this),this.$$parse=function(i){function r(t,e,n){var i,r=/^\/[A-Z]:(\/.*)/;return 0===e.indexOf(n)&&(e=e.replace(n,"")),r.exec(e)?t:(i=r.exec(t),i?i[1]:t)}var s,o=je(t,i)||je(e,i);y(o)||"#"!==o.charAt(0)?this.$$html5?s=o:(s="",y(o)&&(t=i,this.replace())):(s=je(n,o),y(s)&&(s=o)),Re(s,this),this.$$path=r(this.$$path,s,t),this.$$compose()},this.$$compose=function(){var e=et(this.$$search),i=this.$$hash?"#"+nt(this.$$hash):"";this.$$url=Ne(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(e,n){return Me(t)==Me(e)?(this.$$parse(e),!0):!1}}function Ve(t,e,n){this.$$html5=!0,Be.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var s,o;return t==Me(i)?s=i:(o=je(e,i))?s=t+n+o:e===i+"/"&&(s=e),s&&this.$$parse(s),!!s},this.$$compose=function(){var e=et(this.$$search),i=this.$$hash?"#"+nt(this.$$hash):"";this.$$url=Ne(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+n+this.$$url}}function He(t){return function(){return this[t]}}function ze(t,e){return function(n){return y(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function Ge(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return _(e)?(t=e,this):t},this.html5Mode=function(t){return N(t)?(e.enabled=t,this):S(t)?(N(t.enabled)&&(e.enabled=t.enabled),N(t.requireBase)&&(e.requireBase=t.requireBase),N(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,s,o){function a(t,e,n){var r=l.url(),s=l.$$state;try{i.url(t,e,n),l.$$state=i.state()}catch(o){throw l.url(r),l.$$state=s,o}}function u(t,e){n.$broadcast("$locationChangeSuccess",l.absUrl(),t,l.$$state,e)}var l,c,h,f=i.baseHref(),p=i.url();if(e.enabled){if(!f&&e.requireBase)throw Zr("nobase","$location in HTML5 mode requires a <base> tag to be present!");h=Fe(p)+(f||"/"),c=r.history?qe:Ve}else h=Me(p),c=Be;var d=Ue(h);l=new c(h,d,"#"+t),l.$$parseLinkUrl(p,p),l.$$state=i.state();var m=/^\s*(javascript|mailto):/i;s.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var r=Oi(t.target);"a"!==P(r[0]);)if(r[0]===s[0]||!(r=r.parent())[0])return;var a=r.prop("href"),u=r.attr("href")||r.attr("xlink:href");S(a)&&"[object SVGAnimatedString]"===a.toString()&&(a=kn(a.animVal).href),m.test(a)||!a||r.attr("target")||t.isDefaultPrevented()||l.$$parseLinkUrl(a,u)&&(t.preventDefault(),l.absUrl()!=i.url()&&(n.$apply(),o.angular["ff-684208-preventDefault"]=!0))}}),Pe(l.absUrl())!=Pe(p)&&i.url(l.absUrl(),!0);var g=!0;return i.onUrlChange(function(t,e){return y(je(d,t))?void(o.location.href=t):(n.$evalAsync(function(){var i,r=l.absUrl(),s=l.$$state;t=Pe(t),l.$$parse(t),l.$$state=e,i=n.$broadcast("$locationChangeStart",t,r,e,s).defaultPrevented,l.absUrl()===t&&(i?(l.$$parse(r),l.$$state=s,a(r,!1,s)):(g=!1,u(r,s)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var t=Pe(i.url()),e=Pe(l.absUrl()),s=i.state(),o=l.$$replace,c=t!==e||l.$$html5&&r.history&&s!==l.$$state;(g||c)&&(g=!1,n.$evalAsync(function(){var e=l.absUrl(),i=n.$broadcast("$locationChangeStart",e,t,l.$$state,s).defaultPrevented;l.absUrl()===e&&(i?(l.$$parse(t),l.$$state=s):(c&&a(e,o,s===l.$$state?null:l.$$state),u(t,s)))})),l.$$replace=!1}),l}]}function We(){var t=!0,e=this;this.debugEnabled=function(e){return _(e)?(t=e,this):t},this.$get=["$window",function(n){function i(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function r(t){var e=n.console||{},r=e[t]||e.log||m,o=!1;try{o=!!r.apply}catch(a){}return o?function(){var t=[];return s(arguments,function(e){t.push(i(e))}),r.apply(e,t)}:function(t,e){r(t,null==e?"":e)}}return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function Xe(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw es("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function Ye(t,e){if(t+="",!C(t))throw es("iseccst","Cannot convert object to primitive value! Expression: {0}",e);return t}function Ke(t,e){if(t){if(t.constructor===t)throw es("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw es("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw es("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw es("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function Qe(t,e){if(t){if(t.constructor===t)throw es("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===ns||t===is||t===rs)throw es("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function Je(t,e){if(t&&(t===0..constructor||t===(!1).constructor||t==="".constructor||t==={}.constructor||t===[].constructor||t===Function.constructor))throw es("isecaf","Assigning to a constructor is disallowed! Expression: {0}",e)}function Ze(t,e){return"undefined"!=typeof t?t:e}function tn(t,e){return"undefined"==typeof t?e:"undefined"==typeof e?t:t+e}function en(t,e){var n=t(e);return!n.$stateful}function nn(t,e){var n,i;switch(t.type){case us.Program:n=!0,s(t.body,function(t){nn(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case us.Literal:t.constant=!0,t.toWatch=[];break;case us.UnaryExpression:nn(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case us.BinaryExpression:nn(t.left,e),nn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case us.LogicalExpression:nn(t.left,e),nn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case us.ConditionalExpression:nn(t.test,e),nn(t.alternate,e),nn(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case us.Identifier:t.constant=!1,t.toWatch=[t];break;case us.MemberExpression:nn(t.object,e),t.computed&&nn(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case us.CallExpression:n=t.filter?en(e,t.callee.name):!1,i=[],s(t.arguments,function(t){nn(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=t.filter&&en(e,t.callee.name)?i:[t];break;case us.AssignmentExpression:nn(t.left,e),nn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case us.ArrayExpression:n=!0,i=[],s(t.elements,function(t){nn(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=i;break;case us.ObjectExpression:n=!0,i=[],s(t.properties,function(t){nn(t.value,e),n=n&&t.value.constant,t.value.constant||i.push.apply(i,t.value.toWatch)}),t.constant=n,t.toWatch=i;break;case us.ThisExpression:t.constant=!1,t.toWatch=[]}}function rn(t){if(1==t.length){var e=t[0].expression,i=e.toWatch;return 1!==i.length?i:i[0]!==e?i:n}}function sn(t){return t.type===us.Identifier||t.type===us.MemberExpression}function on(t){return 1===t.body.length&&sn(t.body[0].expression)?{type:us.AssignmentExpression,left:t.body[0].expression,right:{type:us.NGValueParameter},operator:"="}:void 0}function an(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===us.Literal||t.body[0].expression.type===us.ArrayExpression||t.body[0].expression.type===us.ObjectExpression)}function un(t){return t.constant}function ln(t,e){this.astBuilder=t,this.$filter=e}function cn(t,e){this.astBuilder=t,this.$filter=e}function hn(t){return"constructor"==t}function fn(t){return L(t.valueOf)?t.valueOf():cs.call(t)}function pn(){var t=gt(),e=gt();this.$get=["$filter",function(i){function r(t,e){return null==t||null==e?t===e:"object"==typeof t&&(t=fn(t),"object"==typeof t)?!1:t===e||t!==t&&e!==e}function o(t,e,i,s,o){var a,u=s.inputs;if(1===u.length){var l=r;return u=u[0],t.$watch(function(t){var e=u(t);return r(e,l)||(a=s(t,n,n,[e]),l=e&&fn(e)),a},e,i,o)}for(var c=[],h=[],f=0,p=u.length;p>f;f++)c[f]=r,h[f]=null;return t.$watch(function(t){for(var e=!1,i=0,o=u.length;o>i;i++){var l=u[i](t);(e||(e=!r(l,c[i])))&&(h[i]=l,c[i]=l&&fn(l))}return e&&(a=s(t,n,n,h)),a},e,i,o)}function a(t,e,n,i){var r,s;return r=t.$watch(function(t){return i(t)},function(t,n,i){s=t,L(e)&&e.apply(this,arguments),_(t)&&i.$$postDigest(function(){_(s)&&r()})},n)}function u(t,e,n,i){function r(t){var e=!0;return s(t,function(t){_(t)||(e=!1)}),e}var o,a;return o=t.$watch(function(t){return i(t)},function(t,n,i){a=t,L(e)&&e.call(this,t,n,i),r(t)&&i.$$postDigest(function(){r(a)&&o()})},n)}function l(t,e,n,i){var r;return r=t.$watch(function(t){return i(t)},function(t,n,i){L(e)&&e.apply(this,arguments),r()},n)}function c(t,e){if(!e)return t;var n=t.$$watchDelegate,i=!1,r=n!==u&&n!==a,s=r?function(n,r,s,o){var a=i&&o?o[0]:t(n,r,s,o);return e(a,n,r)}:function(n,i,r,s){var o=t(n,i,r,s),a=e(o,n,i);return _(o)?a:o};return t.$$watchDelegate&&t.$$watchDelegate!==o?s.$$watchDelegate=t.$$watchDelegate:e.$stateful||(s.$$watchDelegate=o,i=!t.inputs,s.inputs=t.inputs?t.inputs:[t]),s}var h=Wi().noUnsafeEval,f={csp:h,expensiveChecks:!1},p={csp:h,expensiveChecks:!0};return function(n,r,s){var h,d,g;switch(typeof n){case"string":n=n.trim(),g=n;var v=s?e:t;if(h=v[g],!h){":"===n.charAt(0)&&":"===n.charAt(1)&&(d=!0,n=n.substring(2));var b=s?p:f,y=new as(b),_=new ls(y,i,b);h=_.parse(n),h.constant?h.$$watchDelegate=l:d?h.$$watchDelegate=h.literal?u:a:h.inputs&&(h.$$watchDelegate=o),v[g]=h}return c(h,r);case"function":return c(n,r);default:return c(m,r)}}}]}function dn(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return gn(function(e){t.$evalAsync(e)},e)}]}function mn(){this.$get=["$browser","$exceptionHandler",function(t,e){return gn(function(e){t.defer(e)},e)}]}function gn(t,e){function r(t,e,n){function i(e){return function(n){r||(r=!0,e.call(t,n))}}var r=!1;return[i(e),i(n)]}function o(){this.$$state={status:0}}function a(t,e){return function(n){e.call(t,n)}}function u(t){var i,r,s;s=t.pending,t.processScheduled=!1,t.pending=n;for(var o=0,a=s.length;a>o;++o){r=s[o][0],i=s[o][t.status];try{L(i)?r.resolve(i(t.value)):1===t.status?r.resolve(t.value):r.reject(t.value)}catch(u){r.reject(u),e(u)}}}function l(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){u(e)}))}function c(){this.promise=new o,this.resolve=a(this,this.resolve),this.reject=a(this,this.reject),this.notify=a(this,this.notify)}function f(t){var e=new c,n=0,i=Vi(t)?[]:{};return s(t,function(t,r){n++,b(t).then(function(t){i.hasOwnProperty(r)||(i[r]=t,--n||e.resolve(i))},function(t){i.hasOwnProperty(r)||e.reject(t)})}),0===n&&e.resolve(i),e.promise}var p=i("$q",TypeError),d=function(){return new c};h(o.prototype,{then:function(t,e,n){if(y(t)&&y(e)&&y(n))return this;var i=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),this.$$state.status>0&&l(this.$$state),i.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return v(e,!0,t)},function(e){return v(e,!1,t)},e)}}),h(c.prototype,{resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(p("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){var n,i;i=r(this,this.$$resolve,this.$$reject);try{(S(t)||L(t))&&(n=t&&t.then),L(n)?(this.promise.$$state.status=-1,n.call(t,i[0],i[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,l(this.promise.$$state))}catch(s){i[1](s),e(s)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,l(this.promise.$$state)},notify:function(n){var i=this.promise.$$state.pending;
this.promise.$$state.status<=0&&i&&i.length&&t(function(){for(var t,r,s=0,o=i.length;o>s;s++){r=i[s][0],t=i[s][3];try{r.notify(L(t)?t(n):n)}catch(a){e(a)}}})}});var m=function(t){var e=new c;return e.reject(t),e.promise},g=function(t,e){var n=new c;return e?n.resolve(t):n.reject(t),n.promise},v=function(t,e,n){var i=null;try{L(n)&&(i=n())}catch(r){return g(r,!1)}return D(i)?i.then(function(){return g(t,e)},function(t){return g(t,!1)}):g(t,e)},b=function(t,e,n,i){var r=new c;return r.resolve(t),r.promise.then(e,n,i)},_=b,x=function C(t){function e(t){i.resolve(t)}function n(t){i.reject(t)}if(!L(t))throw p("norslvr","Expected resolverFn, got '{0}'",t);if(!(this instanceof C))return new C(t);var i=new c;return t(e,n),i.promise};return x.defer=d,x.reject=m,x.when=b,x.resolve=_,x.all=f,x}function vn(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,r=!!n,s=r?function(t){var e=n(t);return function(){i(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return s.supported=r,s}]}function bn(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=u(),this.$$ChildScope=null}return e.prototype=t,e}var e=10,n=i("$rootScope"),o=null,a=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(i,l,c,h){function f(t){t.currentScope.$$destroyed=!0}function p(t){9===Ei&&(t.$$childHead&&p(t.$$childHead),t.$$nextSibling&&p(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function d(){this.$id=u(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function g(t){if(w.$$phase)throw n("inprog","{0} already in progress",w.$$phase);w.$$phase=t}function v(){w.$$phase=null}function b(t,e){do t.$$watchersCount+=e;while(t=t.$parent)}function _(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function x(){}function C(){for(;A.length;)try{A.shift()()}catch(t){l(t)}a=null}function $(){null===a&&(a=h.defer(function(){w.$apply(C)}))}d.prototype={constructor:d,$new:function(e,n){var i;return n=n||this,e?(i=new d,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(e||n!=this)&&i.$on("$destroy",f),i},$watch:function(t,e,n,i){var r=c(t);if(r.$$watchDelegate)return r.$$watchDelegate(this,e,n,r,t);var s=this,a=s.$$watchers,u={fn:e,last:x,get:r,exp:i||t,eq:!!n};return o=null,L(e)||(u.fn=m),a||(a=s.$$watchers=[]),a.unshift(u),b(this,1),function(){U(a,u)>=0&&b(s,-1),o=null}},$watchGroup:function(t,e){function n(){u=!1,l?(l=!1,e(r,r,a)):e(r,i,a)}var i=new Array(t.length),r=new Array(t.length),o=[],a=this,u=!1,l=!0;if(!t.length){var c=!0;return a.$evalAsync(function(){c&&e(r,r,a)}),function(){c=!1}}return 1===t.length?this.$watch(t[0],function(t,n,s){r[0]=t,i[0]=n,e(r,t===n?r:i,s)}):(s(t,function(t,e){var s=a.$watch(t,function(t,s){r[e]=t,i[e]=s,u||(u=!0,a.$evalAsync(n))});o.push(s)}),function(){for(;o.length;)o.shift()()})},$watchCollection:function(t,e){function n(t){s=t;var e,n,i,a,u;if(!y(s)){if(S(s))if(r(s)){o!==p&&(o=p,g=o.length=0,h++),e=s.length,g!==e&&(h++,o.length=g=e);for(var l=0;e>l;l++)u=o[l],a=s[l],i=u!==u&&a!==a,i||u===a||(h++,o[l]=a)}else{o!==d&&(o=d={},g=0,h++),e=0;for(n in s)Li.call(s,n)&&(e++,a=s[n],u=o[n],n in o?(i=u!==u&&a!==a,i||u===a||(h++,o[n]=a)):(g++,o[n]=a,h++));if(g>e){h++;for(n in o)Li.call(s,n)||(g--,delete o[n])}}else o!==s&&(o=s,h++);return h}}function i(){if(m?(m=!1,e(s,s,u)):e(s,a,u),l)if(S(s))if(r(s)){a=new Array(s.length);for(var t=0;t<s.length;t++)a[t]=s[t]}else{a={};for(var n in s)Li.call(s,n)&&(a[n]=s[n])}else a=s}n.$stateful=!0;var s,o,a,u=this,l=e.length>1,h=0,f=c(t,n),p=[],d={},m=!0,g=0;return this.$watch(f,i)},$digest:function(){var t,i,r,s,u,c,f,p,d,m,b=e,y=this,_=[];g("$digest"),h.$$checkUrlChange(),this===w&&null!==a&&(h.defer.cancel(a),C()),o=null;do{for(c=!1,p=y;T.length;){try{m=T.shift(),m.scope.$eval(m.expression,m.locals)}catch(S){l(S)}o=null}t:do{if(s=p.$$watchers)for(u=s.length;u--;)try{if(t=s[u])if((i=t.get(p))===(r=t.last)||(t.eq?B(i,r):"number"==typeof i&&"number"==typeof r&&isNaN(i)&&isNaN(r))){if(t===o){c=!1;break t}}else c=!0,o=t,t.last=t.eq?F(i,null):i,t.fn(i,r===x?i:r,p),5>b&&(d=4-b,_[d]||(_[d]=[]),_[d].push({msg:L(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:i,oldVal:r}))}catch(S){l(S)}if(!(f=p.$$watchersCount&&p.$$childHead||p!==y&&p.$$nextSibling))for(;p!==y&&!(f=p.$$nextSibling);)p=p.$parent}while(p=f);if((c||T.length)&&!b--)throw v(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,_)}while(c||T.length);for(v();k.length;)try{k.shift()()}catch(S){l(S)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===w&&h.$$applicationDestroyed(),b(this,-this.$$watchersCount);for(var e in this.$$listenerCount)_(this,this.$$listenerCount[e],e);t&&t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=m,this.$on=this.$watch=this.$watchGroup=function(){return m},this.$$listeners={},this.$$nextSibling=null,p(this)}},$eval:function(t,e){return c(t)(this,e)},$evalAsync:function(t,e){w.$$phase||T.length||h.defer(function(){T.length&&w.$digest()}),T.push({scope:this,expression:t,locals:e})},$$postDigest:function(t){k.push(t)},$apply:function(t){try{g("$apply");try{return this.$eval(t)}finally{v()}}catch(e){l(e)}finally{try{w.$digest()}catch(e){throw l(e),e}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&A.push(e),$()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var i=this;do i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(e);-1!==i&&(n[i]=null,_(r,1,t))}},$emit:function(t,e){var n,i,r,s=[],o=this,a=!1,u={name:t,targetScope:o,stopPropagation:function(){a=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=V([u],arguments,1);do{for(n=o.$$listeners[t]||s,u.currentScope=o,i=0,r=n.length;r>i;i++)if(n[i])try{n[i].apply(null,c)}catch(h){l(h)}else n.splice(i,1),i--,r--;if(a)return u.currentScope=null,u;o=o.$parent}while(o);return u.currentScope=null,u},$broadcast:function(t,e){var n=this,i=n,r=n,s={name:t,targetScope:n,preventDefault:function(){s.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[t])return s;for(var o,a,u,c=V([s],arguments,1);i=r;){for(s.currentScope=i,o=i.$$listeners[t]||[],a=0,u=o.length;u>a;a++)if(o[a])try{o[a].apply(null,c)}catch(h){l(h)}else o.splice(a,1),a--,u--;if(!(r=i.$$listenerCount[t]&&i.$$childHead||i!==n&&i.$$nextSibling))for(;i!==n&&!(r=i.$$nextSibling);)i=i.$parent}return s.currentScope=null,s}};var w=new d,T=w.$$asyncQueue=[],k=w.$$postDigestQueue=[],A=w.$$applyAsyncQueue=[];return w}]}function yn(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return _(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return _(t)?(e=t,this):e},this.$get=function(){return function(n,i){var r,s=i?e:t;return r=kn(n).href,""===r||r.match(s)?n:"unsafe:"+r}}}function _n(t){if("self"===t)return t;if(C(t)){if(t.indexOf("***")>-1)throw hs("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=Gi(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(T(t))return new RegExp("^"+t.source+"$");throw hs("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Sn(t){var e=[];return _(t)&&s(t,function(t){e.push(_n(t))}),e}function xn(){this.SCE_CONTEXTS=fs;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=Sn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=Sn(t)),e},this.$get=["$injector",function(n){function i(t,e){return"self"===t?An(e):!!t.exec(e.href)}function r(n){var r,s,o=kn(n.toString()),a=!1;for(r=0,s=t.length;s>r;r++)if(i(t[r],o)){a=!0;break}if(a)for(r=0,s=e.length;s>r;r++)if(i(e[r],o)){a=!1;break}return a}function s(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function o(t,e){var n=h.hasOwnProperty(t)?h[t]:null;if(!n)throw hs("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||y(e)||""===e)return e;if("string"!=typeof e)throw hs("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)}function a(t){return t instanceof c?t.$$unwrapTrustedValue():t}function u(t,e){if(null===e||y(e)||""===e)return e;var n=h.hasOwnProperty(t)?h[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===fs.RESOURCE_URL){if(r(e))return e;throw hs("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===fs.HTML)return l(e);throw hs("unsafe","Attempting to use an unsafe value in a safe context.")}var l=function(t){throw hs("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(l=n.get("$sanitize"));var c=s(),h={};return h[fs.HTML]=s(c),h[fs.CSS]=s(c),h[fs.URL]=s(c),h[fs.JS]=s(c),h[fs.RESOURCE_URL]=s(h[fs.URL]),{trustAs:o,getTrusted:u,valueOf:a}}]}function Cn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>Ei)throw hs("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=q(fs);i.isEnabled=function(){return t},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,t||(i.trustAs=i.getTrusted=function(t,e){return e},i.valueOf=g),i.parseAs=function(t,n){var r=e(n);return r.literal&&r.constant?r:e(n,function(e){return i.getTrusted(t,e)})};var r=i.parseAs,o=i.getTrusted,a=i.trustAs;return s(fs,function(t,e){var n=wi(e);i[xt("parse_as_"+n)]=function(e){return r(t,e)},i[xt("get_trusted_"+n)]=function(e){return o(t,e)},i[xt("trust_as_"+n)]=function(e){return a(t,e)}}),i}]}function $n(){this.$get=["$window","$document",function(t,e){var n,i,r={},s=p((/android (\d+)/.exec(wi((t.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((t.navigator||{}).userAgent),a=e[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,l=a.body&&a.body.style,c=!1,h=!1;if(l){for(var f in l)if(i=u.exec(f)){n=i[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),c=!!("transition"in l||n+"Transition"in l),h=!!("animation"in l||n+"Animation"in l),!s||c&&h||(c=C(l.webkitTransition),h=C(l.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>s||o),hasEvent:function(t){if("input"===t&&11>=Ei)return!1;if(y(r[t])){var e=a.createElement("div");r[t]="on"+t in e}return r[t]},csp:Wi(),vendorPrefix:n,transitions:c,animations:h,android:s}}]}function wn(){this.$get=["$templateCache","$http","$q","$sce",function(t,e,n,i){function r(s,o){function a(t){if(!o)throw Pr("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,t.status,t.statusText);return n.reject(t)}r.totalPendingRequests++,C(s)&&t.get(s)||(s=i.getTrustedResourceUrl(s));var u=e.defaults&&e.defaults.transformResponse;Vi(u)?u=u.filter(function(t){return t!==Se}):u===Se&&(u=null);var l={cache:t,transformResponse:u};return e.get(s,l)["finally"](function(){r.totalPendingRequests--}).then(function(e){return t.put(s,e.data),e.data},a)}return r.totalPendingRequests=0,r}]}function Ln(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var i={};return i.findBindings=function(t,e,n){var i=t.getElementsByClassName("ng-binding"),r=[];return s(i,function(t){var i=Fi.element(t).data("$binding");i&&s(i,function(i){if(n){var s=new RegExp("(^|\\s)"+Gi(e)+"(\\s|\\||$)");s.test(i)&&r.push(t)}else-1!=i.indexOf(e)&&r.push(t)})}),r},i.findModels=function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var s=n?"=":"*=",o="["+i[r]+"model"+s+'"'+e+'"]',a=t.querySelectorAll(o);if(a.length)return a}},i.getLocation=function(){return n.url()},i.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},i.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},i}]}function Tn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,i,r){function s(s,a,u){L(s)||(u=a,a=s,s=m);var l,c=H(arguments,3),h=_(u)&&!u,f=(h?i:n).defer(),p=f.promise;return l=e.defer(function(){try{f.resolve(s.apply(null,c))}catch(e){f.reject(e),r(e)}finally{delete o[p.$$timeoutId]}h||t.$apply()},a),p.$$timeoutId=l,o[l]=f,p}var o={};return s.cancel=function(t){return t&&t.$$timeoutId in o?(o[t.$$timeoutId].reject("canceled"),delete o[t.$$timeoutId],e.defer.cancel(t.$$timeoutId)):!1},s}]}function kn(t){var e=t;return Ei&&(ps.setAttribute("href",e),e=ps.href),ps.setAttribute("href",e),{href:ps.href,protocol:ps.protocol?ps.protocol.replace(/:$/,""):"",host:ps.host,search:ps.search?ps.search.replace(/^\?/,""):"",hash:ps.hash?ps.hash.replace(/^#/,""):"",hostname:ps.hostname,port:ps.port,pathname:"/"===ps.pathname.charAt(0)?ps.pathname:"/"+ps.pathname}}function An(t){var e=C(t)?kn(t):t;return e.protocol===ds.protocol&&e.host===ds.host}function En(){this.$get=v(t)}function On(t){function e(t){try{return decodeURIComponent(t)}catch(e){return t}}var n=t[0]||{},i={},r="";return function(){var t,s,o,a,u,l=n.cookie||"";if(l!==r)for(r=l,t=r.split("; "),i={},o=0;o<t.length;o++)s=t[o],a=s.indexOf("="),a>0&&(u=e(s.substring(0,a)),y(i[u])&&(i[u]=e(s.substring(a+1))));return i}}function In(){this.$get=On}function Nn(t){function e(i,r){if(S(i)){var o={};return s(i,function(t,n){o[n]=e(n,t)}),o}return t.factory(i+n,r)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",Pn),e("date",Zn),e("filter",Dn),e("json",ti),e("limitTo",ei),e("lowercase",Ss),e("number",Un),e("orderBy",ni),e("uppercase",xs)}function Dn(){return function(t,e,n){if(!r(t)){if(null==t)return t;throw i("filter")("notarray","Expected array but received: {0}",t)}var s,o,a=Mn(e);switch(a){case"function":s=e;break;case"boolean":case"null":case"number":case"string":o=!0;case"object":s=Rn(e,n,o);break;default:return t}return Array.prototype.filter.call(t,s)}}function Rn(t,e,n){var i,r=S(t)&&"$"in t;return e===!0?e=B:L(e)||(e=function(t,e){return y(t)?!1:null===t||null===e?t===e:S(e)||S(t)&&!b(t)?!1:(t=wi(""+t),e=wi(""+e),-1!==t.indexOf(e))}),i=function(i){return r&&!S(i)?jn(i,t.$,e,!1):jn(i,t,e,n)}}function jn(t,e,n,i,r){var s=Mn(t),o=Mn(e);if("string"===o&&"!"===e.charAt(0))return!jn(t,e.substring(1),n,i);if(Vi(t))return t.some(function(t){return jn(t,e,n,i)});switch(s){case"object":var a;if(i){for(a in t)if("$"!==a.charAt(0)&&jn(t[a],e,n,!0))return!0;return r?!1:jn(t,e,n,!1)}if("object"===o){for(a in e){var u=e[a];if(!L(u)&&!y(u)){var l="$"===a,c=l?t:t[a];if(!jn(c,u,n,l,l))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function Mn(t){return null===t?"null":typeof t}function Pn(t){var e=t.NUMBER_FORMATS;return function(t,n,i){return y(n)&&(n=e.CURRENCY_SYM),y(i)&&(i=e.PATTERNS[1].maxFrac),null==t?t:Bn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function Un(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:Bn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function Fn(t){var e,n,i,r,s,o=0;for((n=t.indexOf(gs))>-1&&(t=t.replace(gs,"")),(i=t.search(/e/i))>0?(0>n&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):0>n&&(n=t.length),i=0;t.charAt(i)==vs;i++);if(i==(s=t.length))e=[0],n=1;else{for(s--;t.charAt(s)==vs;)s--;for(n-=i,e=[],r=0;s>=i;i++,r++)e[r]=+t.charAt(i)}return n>ms&&(e=e.splice(0,ms-1),o=n-1,n=1),{d:e,e:o,i:n}}function qn(t,e,n,i){var r=t.d,s=r.length-t.i;e=y(e)?Math.min(Math.max(n,s),i):+e;var o=e+t.i,a=r[o];if(o>0)r.splice(o);else{t.i=1,r.length=o=e+1;for(var u=0;o>u;u++)r[u]=0}for(a>=5&&r[o-1]++;e>s;s++)r.push(0);var l=r.reduceRight(function(t,e,n,i){return e+=t,i[n]=e%10,Math.floor(e/10)},0);l&&(r.unshift(l),t.i++)}function Bn(t,e,n,i,r){if(!C(t)&&!$(t)||isNaN(t))return"";var s,o=!isFinite(t),a=!1,u=Math.abs(t)+"",l="";if(o)l="";else{s=Fn(u),qn(s,r,e.minFrac,e.maxFrac);var c=s.d,h=s.i,f=s.e,p=[];for(a=c.reduce(function(t,e){return t&&!e},!0);0>h;)c.unshift(0),h++;h>0?p=c.splice(h):(p=c,c=[0]);var d=[];for(c.length>e.lgSize&&d.unshift(c.splice(-e.lgSize).join(""));c.length>e.gSize;)d.unshift(c.splice(-e.gSize).join(""));c.length&&d.unshift(c.join("")),l=d.join(n),p.length&&(l+=i+p.join("")),f&&(l+="e+"+f)}return 0>t&&!a?e.negPre+l+e.negSuf:e.posPre+l+e.posSuf}function Vn(t,e,n){var i="";for(0>t&&(i="-",t=-t),t=""+t;t.length<e;)t=vs+t;return n&&(t=t.substr(t.length-e)),i+t}function Hn(t,e,n,i){return n=n||0,function(r){var s=r["get"+t]();return(n>0||s>-n)&&(s+=n),0===s&&-12==n&&(s=12),Vn(s,e,i)}}function zn(t,e){return function(n,i){var r=n["get"+t](),s=Ti(e?"SHORT"+t:t);return i[s][r]}}function Gn(t,e,n){var i=-1*n,r=i>=0?"+":"";return r+=Vn(Math[i>0?"floor":"ceil"](i/60),2)+Vn(Math.abs(i%60),2)}function Wn(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function Xn(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function Yn(t){return function(e){var n=Wn(e.getFullYear()),i=Xn(e),r=+i-+n,s=1+Math.round(r/6048e5);return Vn(s,t)}}function Kn(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function Qn(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function Jn(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function Zn(t){function e(t){var e;if(e=t.match(n)){var i=new Date(0),r=0,s=0,o=e[8]?i.setUTCFullYear:i.setFullYear,a=e[8]?i.setUTCHours:i.setHours;e[9]&&(r=p(e[9]+e[10]),s=p(e[9]+e[11])),o.call(i,p(e[1]),p(e[2])-1,p(e[3]));var u=p(e[4]||0)-r,l=p(e[5]||0)-s,c=p(e[6]||0),h=Math.round(1e3*parseFloat("0."+(e[7]||0)));return a.call(i,u,l,c,h),i}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var o,a,u="",l=[];if(i=i||"mediumDate",i=t.DATETIME_FORMATS[i]||i,C(n)&&(n=_s.test(n)?p(n):e(n)),$(n)&&(n=new Date(n)),!w(n)||!isFinite(n.getTime()))return n;for(;i;)a=ys.exec(i),a?(l=V(l,a,1),i=l.pop()):(l.push(i),i=null);var c=n.getTimezoneOffset();return r&&(c=Y(r,n.getTimezoneOffset()),n=Q(n,r,!0)),s(l,function(e){o=bs[e],u+=o?o(n,t.DATETIME_FORMATS,c):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function ti(){return function(t,e){return y(e)&&(e=2),W(t,e)}}function ei(){return function(t,e,n){return e=Math.abs(Number(e))===1/0?Number(e):p(e),isNaN(e)?t:($(t)&&(t=t.toString()),Vi(t)||C(t)?(n=!n||isNaN(n)?0:p(n),n=0>n?Math.max(0,t.length+n):n,e>=0?t.slice(n,n+e):0===n?t.slice(e,t.length):t.slice(Math.max(0,n+e),n)):t)}}function ni(t){function e(e,n){return n=n?-1:1,e.map(function(e){var i=1,r=g;if(L(e))r=e;else if(C(e)&&(("+"==e.charAt(0)||"-"==e.charAt(0))&&(i="-"==e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(r=t(e),r.constant))){var s=r();r=function(t){return t[s]}}return{get:r,descending:i*n}})}function n(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function i(t,e){return"function"==typeof t.valueOf&&(t=t.valueOf(),n(t))?t:b(t)&&(t=t.toString(),n(t))?t:e}function s(t,e){var n=typeof t;return null===t?(n="string",t="null"):"string"===n?t=t.toLowerCase():"object"===n&&(t=i(t,e)),{value:t,type:n}}function o(t,e){var n=0;return t.type===e.type?t.value!==e.value&&(n=t.value<e.value?-1:1):n=t.type<e.type?-1:1,n}return function(t,n,i){function a(t,e){return{value:t,predicateValues:l.map(function(n){return s(n.get(t),e)})}}function u(t,e){for(var n=0,i=0,r=l.length;r>i&&!(n=o(t.predicateValues[i],e.predicateValues[i])*l[i].descending);++i);return n}if(!r(t))return t;Vi(n)||(n=[n]),0===n.length&&(n=["+"]);var l=e(n,i);l.push({get:function(){return{}},descending:i?-1:1});var c=Array.prototype.map.call(t,a);return c.sort(u),t=c.map(function(t){return t.value})}}function ii(t){return L(t)&&(t={link:t}),t.restrict=t.restrict||"AC",v(t)}function ri(t,e){t.$name=e}function si(t,e,i,r,o){var a=this,u=[];a.$error={},a.$$success={},a.$pending=n,a.$name=o(e.name||e.ngForm||"")(i),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,a.$$parentForm=ws,a.$rollbackViewValue=function(){s(u,function(t){t.$rollbackViewValue()})},a.$commitViewValue=function(){s(u,function(t){t.$commitViewValue()})},a.$addControl=function(t){pt(t.$name,"input"),u.push(t),t.$name&&(a[t.$name]=t),t.$$parentForm=a},a.$$renameControl=function(t,e){var n=t.$name;a[n]===t&&delete a[n],a[e]=t,t.$name=e},a.$removeControl=function(t){t.$name&&a[t.$name]===t&&delete a[t.$name],s(a.$pending,function(e,n){a.$setValidity(n,null,t)}),s(a.$error,function(e,n){a.$setValidity(n,null,t)}),s(a.$$success,function(e,n){a.$setValidity(n,null,t)}),U(u,t),t.$$parentForm=ws},_i({ctrl:this,$element:t,set:function(t,e,n){var i=t[e];if(i){var r=i.indexOf(n);-1===r&&i.push(n)}else t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(U(i,n),0===i.length&&delete t[e])},$animate:r}),a.$setDirty=function(){r.removeClass(t,ao),r.addClass(t,uo),a.$dirty=!0,a.$pristine=!1,a.$$parentForm.$setDirty()},a.$setPristine=function(){r.setClass(t,ao,uo+" "+Ls),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,s(u,function(t){t.$setPristine()})},a.$setUntouched=function(){s(u,function(t){t.$setUntouched()})},a.$setSubmitted=function(){r.addClass(t,Ls),a.$submitted=!0,a.$$parentForm.$setSubmitted()}}function oi(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function ai(t,e,n,i,r,s){ui(t,e,n,i,r,s),oi(i)}function ui(t,e,n,i,r,s){var o=wi(e[0].type);if(!r.android){var a=!1;e.on("compositionstart",function(t){a=!0}),e.on("compositionend",function(){a=!1,u()})}var u=function(t){if(l&&(s.defer.cancel(l),l=null),!a){var r=e.val(),u=t&&t.type;"password"===o||n.ngTrim&&"false"===n.ngTrim||(r=zi(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,u)}};if(r.hasEvent("input"))e.on("input",u);else{var l,c=function(t,e,n){l||(l=s.defer(function(){l=null,e&&e.value===n||u(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||e>15&&19>e||e>=37&&40>=e||c(t,this,this.value)}),r.hasEvent("paste")&&e.on("paste cut",c)}e.on("change",u),i.$render=function(){var t=i.$isEmpty(i.$viewValue)?"":i.$viewValue;e.val()!==t&&e.val(t)}}function li(t,e){if(w(t))return t;if(C(t)){js.lastIndex=0;var n=js.exec(t);if(n){var i=+n[1],r=+n[2],s=0,o=0,a=0,u=0,l=Wn(i),c=7*(r-1);return e&&(s=e.getHours(),o=e.getMinutes(),a=e.getSeconds(),u=e.getMilliseconds()),new Date(i,0,l.getDate()+c,s,o,a,u)}}return NaN}function ci(t,e){return function(n,i){var r,o;if(w(n))return n;if(C(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Es.test(n))return new Date(n);if(t.lastIndex=0,r=t.exec(n))return r.shift(),o=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},s(r,function(t,n){n<e.length&&(o[e[n]]=+t)}),new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0)}return NaN}}function hi(t,e,i,r){return function(s,o,a,u,l,c,h){function f(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function p(t){return _(t)&&!w(t)?i(t)||n:t}fi(s,o,a,u),ui(s,o,a,u,l,c);var d,m=u&&u.$options&&u.$options.timezone;if(u.$$parserName=t,u.$parsers.push(function(t){if(u.$isEmpty(t))return null;if(e.test(t)){var r=i(t,d);return m&&(r=Q(r,m)),r}return n}),u.$formatters.push(function(t){if(t&&!w(t))throw fo("datefmt","Expected `{0}` to be a date",t);return f(t)?(d=t,d&&m&&(d=Q(d,m,!0)),h("date")(t,r,m)):(d=null,"")}),_(a.min)||a.ngMin){var g;u.$validators.min=function(t){return!f(t)||y(g)||i(t)>=g},a.$observe("min",function(t){g=p(t),u.$validate()})}if(_(a.max)||a.ngMax){var v;u.$validators.max=function(t){return!f(t)||y(v)||i(t)<=v},a.$observe("max",function(t){v=p(t),u.$validate()})}}}function fi(t,e,i,r){var s=e[0],o=r.$$hasNativeValidators=S(s.validity);o&&r.$parsers.push(function(t){var i=e.prop($i)||{};return i.badInput&&!i.typeMismatch?n:t})}function pi(t,e,i,r,s,o){if(fi(t,e,i,r),ui(t,e,i,r,s,o),r.$$parserName="number",r.$parsers.push(function(t){return r.$isEmpty(t)?null:Ns.test(t)?parseFloat(t):n}),r.$formatters.push(function(t){if(!r.$isEmpty(t)){if(!$(t))throw fo("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),_(i.min)||i.ngMin){var a;r.$validators.min=function(t){return r.$isEmpty(t)||y(a)||t>=a},i.$observe("min",function(t){_(t)&&!$(t)&&(t=parseFloat(t,10)),a=$(t)&&!isNaN(t)?t:n,r.$validate()})}if(_(i.max)||i.ngMax){var u;r.$validators.max=function(t){return r.$isEmpty(t)||y(u)||u>=t},i.$observe("max",function(t){_(t)&&!$(t)&&(t=parseFloat(t,10)),u=$(t)&&!isNaN(t)?t:n,r.$validate()})}}function di(t,e,n,i,r,s){ui(t,e,n,i,r,s),oi(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||Os.test(n)}}function mi(t,e,n,i,r,s){ui(t,e,n,i,r,s),oi(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||Is.test(n)}}function gi(t,e,n,i){y(n.name)&&e.attr("name",u());var r=function(t){e[0].checked&&i.$setViewValue(n.value,t&&t.type)};e.on("click",r),i.$render=function(){var t=n.value;e[0].checked=t==i.$viewValue},n.$observe("value",i.$render)}function vi(t,e,n,i,r){var s;if(_(i)){if(s=t(i),!s.constant)throw fo("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return s(e)}return r}function bi(t,e,n,i,r,s,o,a){var u=vi(a,t,"ngTrueValue",n.ngTrueValue,!0),l=vi(a,t,"ngFalseValue",n.ngFalseValue,!1),c=function(t){i.$setViewValue(e[0].checked,t&&t.type)};e.on("click",c),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return t===!1},i.$formatters.push(function(t){return B(t,u)}),i.$parsers.push(function(t){return t?u:l})}function yi(t,e){return t="ngClass"+t,["$animate",function(n){function i(t,e){var n=[];t:for(var i=0;i<t.length;i++){for(var r=t[i],s=0;s<e.length;s++)if(r==e[s])continue t;n.push(r)}return n}function r(t){var e=[];return Vi(t)?(s(t,function(t){e=e.concat(r(t))}),e):C(t)?t.split(" "):S(t)?(s(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e):t}return{restrict:"AC",link:function(o,a,u){function l(t){var e=h(t,1);u.$addClass(e)}function c(t){var e=h(t,-1);u.$removeClass(e)}function h(t,e){var n=a.data("$classCounts")||gt(),i=[];return s(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&i.push(t))}),a.data("$classCounts",n),i.join(" ")}function f(t,e){var r=i(e,t),s=i(t,e);r=h(r,1),s=h(s,-1),r&&r.length&&n.addClass(a,r),s&&s.length&&n.removeClass(a,s)}function p(t){if(e===!0||o.$index%2===e){var n=r(t||[]);if(d){if(!B(t,d)){var i=r(d);f(i,n)}}else l(n)}d=q(t)}var d;o.$watch(u[t],p,!0),u.$observe("class",function(e){p(o.$eval(u[t]))}),"ngClass"!==t&&o.$watch("$index",function(n,i){var s=1&n;if(s!==(1&i)){var a=r(o.$eval(u[t]));s===e?l(a):c(a)}})}}}]}function _i(t){function e(t,e,u){y(e)?i("$pending",t,u):r("$pending",t,u),N(e)?e?(h(a.$error,t,u),c(a.$$success,t,u)):(c(a.$error,t,u),h(a.$$success,t,u)):(h(a.$error,t,u),h(a.$$success,t,u)),a.$pending?(s(ho,!0),a.$valid=a.$invalid=n,o("",null)):(s(ho,!1),a.$valid=Si(a.$error),a.$invalid=!a.$valid,o("",a.$valid));var l;l=a.$pending&&a.$pending[t]?n:a.$error[t]?!1:a.$$success[t]?!0:null,o(t,l),a.$$parentForm.$setValidity(t,l,a)}function i(t,e,n){a[t]||(a[t]={}),c(a[t],e,n)}function r(t,e,i){a[t]&&h(a[t],e,i),Si(a[t])&&(a[t]=n)}function s(t,e){e&&!l[t]?(f.addClass(u,t),l[t]=!0):!e&&l[t]&&(f.removeClass(u,t),l[t]=!1)}function o(t,e){t=t?"-"+lt(t,"-"):"",s(so+t,e===!0),s(oo+t,e===!1)}var a=t.ctrl,u=t.$element,l={},c=t.set,h=t.unset,f=t.$animate;l[oo]=!(l[so]=u.hasClass(so)),a.$setValidity=e}function Si(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function xi(t){t[0].hasAttribute("selected")&&(t[0].selected=!0)}var Ci=/^\/(.+)\/([a-z]*)$/,$i="validity",wi=function(t){return C(t)?t.toLowerCase():t},Li=Object.prototype.hasOwnProperty,Ti=function(t){return C(t)?t.toUpperCase():t},ki=function(t){return C(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},Ai=function(t){return C(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(wi=ki,Ti=Ai);var Ei,Oi,Ii,Ni,Di=[].slice,Ri=[].splice,ji=[].push,Mi=Object.prototype.toString,Pi=Object.getPrototypeOf,Ui=i("ng"),Fi=t.angular||(t.angular={}),qi=0;Ei=e.documentMode,m.$inject=[],g.$inject=[];var Bi,Vi=Array.isArray,Hi=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,zi=function(t){return C(t)?t.trim():t},Gi=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Wi=function(){function t(){try{return new Function(""),!1}catch(t){return!0}}if(!_(Wi.rules)){var n=e.querySelector("[ng-csp]")||e.querySelector("[data-ng-csp]");if(n){var i=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");Wi.rules={noUnsafeEval:!i||-1!==i.indexOf("no-unsafe-eval"),noInlineStyle:!i||-1!==i.indexOf("no-inline-style")}}else Wi.rules={noUnsafeEval:t(),noInlineStyle:!1}}return Wi.rules},Xi=function(){if(_(Xi.name_))return Xi.name_;var t,n,i,r,s=Yi.length;for(n=0;s>n;++n)if(i=Yi[n],t=e.querySelector("["+i.replace(":","\\:")+"jq]")){r=t.getAttribute(i+"jq");break}return Xi.name_=r},Yi=["ng-","data-ng-","ng:","x-ng-"],Ki=/[A-Z]/g,Qi=!1,Ji=1,Zi=2,tr=3,er=8,nr=9,ir=11,rr={full:"1.4.9",major:1,minor:4,dot:9,codeName:"implicit-superannuation"};kt.expando="ng339";var sr=kt.cache={},or=1,ar=function(t,e,n){t.addEventListener(e,n,!1)},ur=function(t,e,n){t.removeEventListener(e,n,!1)};kt._data=function(t){return this.cache[t[this.expando]]||{}};var lr=/([\:\-\_]+(.))/g,cr=/^moz([A-Z])/,hr={mouseleave:"mouseout",mouseenter:"mouseover"},fr=i("jqLite"),pr=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,dr=/<|&#?\w+;/,mr=/<([\w:-]+)/,gr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,vr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};vr.optgroup=vr.option,vr.tbody=vr.tfoot=vr.colgroup=vr.caption=vr.thead,vr.th=vr.td;var br=Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},yr=kt.prototype={ready:function(n){function i(){r||(r=!0,n())}var r=!1;"complete"===e.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),kt(t).on("load",i))},toString:function(){var t=[];return s(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Oi(t>=0?this[t]:this[this.length+t])},length:0,push:ji,sort:[].sort,splice:[].splice},_r={};s("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){_r[wi(t)]=t});var Sr={};s("input,select,option,textarea,button,form,details".split(","),function(t){Sr[t]=!0});var xr={ngMinlength:"minlength",
ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};s({data:Dt,removeData:It,hasData:wt},function(t,e){kt[e]=t}),s({data:Dt,inheritedData:Ft,scope:function(t){return Oi.data(t,"$scope")||Ft(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Oi.data(t,"$isolateScope")||Oi.data(t,"$isolateScopeNoTemplate")},controller:Ut,injector:function(t){return Ft(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Rt,css:function(t,e,n){return e=xt(e),_(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,i){var r=t.nodeType;if(r!==tr&&r!==Zi&&r!==er){var s=wi(e);if(_r[s]){if(!_(i))return t[e]||(t.attributes.getNamedItem(e)||m).specified?s:n;i?(t[e]=!0,t.setAttribute(e,s)):(t[e]=!1,t.removeAttribute(s))}else if(_(i))t.setAttribute(e,i);else if(t.getAttribute){var o=t.getAttribute(e,2);return null===o?n:o}}},prop:function(t,e,n){return _(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(y(e)){var n=t.nodeType;return n===Ji||n===tr?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(y(e)){if(t.multiple&&"select"===P(t)){var n=[];return s(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return y(e)?t.innerHTML:(Et(t,!0),void(t.innerHTML=e))},empty:qt},function(t,e){kt.prototype[e]=function(e,n){var i,r,s=this.length;if(t!==qt&&y(2==t.length&&t!==Rt&&t!==Ut?e:n)){if(S(e)){for(i=0;s>i;i++)if(t===Dt)t(this[i],e);else for(r in e)t(this[i],r,e[r]);return this}for(var o=t.$dv,a=y(o)?Math.min(s,1):s,u=0;a>u;u++){var l=t(this[u],e,n);o=o?o+l:l}return o}for(i=0;s>i;i++)t(this[i],e,n);return this}}),s({removeData:It,on:function(t,e,i,r){if(_(r))throw fr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if($t(t)){var s=Nt(t,!0),o=s.events,a=s.handle;a||(a=s.handle=Gt(t,o));for(var u=e.indexOf(" ")>=0?e.split(" "):[e],l=u.length,c=function(e,n,r){var s=o[e];s||(s=o[e]=[],s.specialHandlerWrapper=n,"$destroy"===e||r||ar(t,e,a)),s.push(i)};l--;)e=u[l],hr[e]?(c(hr[e],Xt),c(e,n,!0)):c(e)}},off:Ot,one:function(t,e,n){t=Oi(t),t.on(e,function i(){t.off(e,n),t.off(e,i)}),t.on(e,n)},replaceWith:function(t,e){var n,i=t.parentNode;Et(t),s(new kt(e),function(e){n?i.insertBefore(e,n.nextSibling):i.replaceChild(e,t),n=e})},children:function(t){var e=[];return s(t.childNodes,function(t){t.nodeType===Ji&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===Ji||n===ir){e=new kt(e);for(var i=0,r=e.length;r>i;i++){var s=e[i];t.appendChild(s)}}},prepend:function(t,e){if(t.nodeType===Ji){var n=t.firstChild;s(new kt(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){e=Oi(e).eq(0).clone()[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:Bt,detach:function(t){Bt(t,!0)},after:function(t,e){var n=t,i=t.parentNode;e=new kt(e);for(var r=0,s=e.length;s>r;r++){var o=e[r];i.insertBefore(o,n.nextSibling),n=o}},addClass:Mt,removeClass:jt,toggleClass:function(t,e,n){e&&s(e.split(" "),function(e){var i=n;y(i)&&(i=!Rt(t,e)),(i?Mt:jt)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==ir?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:At,triggerHandler:function(t,e,n){var i,r,o,a=e.type||e,u=Nt(t),l=u&&u.events,c=l&&l[a];c&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:m,type:a,target:t},e.type&&(i=h(i,e)),r=q(c),o=n?[i].concat(n):[i],s(r,function(e){i.isImmediatePropagationStopped()||e.apply(t,o)}))}},function(t,e){kt.prototype[e]=function(e,n,i){for(var r,s=0,o=this.length;o>s;s++)y(r)?(r=t(this[s],e,n,i),_(r)&&(r=Oi(r))):Pt(r,t(this[s],e,n,i));return _(r)?r:this},kt.prototype.bind=kt.prototype.on,kt.prototype.unbind=kt.prototype.off}),Qt.prototype={put:function(t,e){this[Kt(t,this.nextUid)]=e},get:function(t){return this[Kt(t,this.nextUid)]},remove:function(t){var e=this[t=Kt(t,this.nextUid)];return delete this[t],e}};var Cr=[function(){this.$get=[function(){return Qt}]}],$r=/^[^\(]*\(\s*([^\)]*)\)/m,wr=/,/,Lr=/^\s*(_?)(\S+?)\1\s*$/,Tr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,kr=i("$injector");te.$$annotate=Zt;var Ar=i("$animate"),Er=1,Or="ng-animate",Ir=function(){this.$get=function(){}},Nr=function(){var t=new Qt,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function r(t,e,n){var i=!1;return e&&(e=C(e)?e.split(" "):Vi(e)?e:[],s(e,function(e){e&&(i=!0,t[e]=n)})),i}function o(){s(e,function(e){var n=t.get(e);if(n){var i=re(e.attr("class")),r="",o="";s(n,function(t,e){var n=!!i[e];t!==n&&(t?r+=(r.length?" ":"")+e:o+=(o.length?" ":"")+e)}),s(e,function(t){r&&Mt(t,r),o&&jt(t,o)}),t.remove(e)}}),e.length=0}function a(n,s,a){var u=t.get(n)||{},l=r(u,s,!0),c=r(u,a,!1);(l||c)&&(t.put(n,u),e.push(n),1===e.length&&i.$$postDigest(o))}return{enabled:m,on:m,off:m,pin:m,push:function(t,e,i,r){r&&r(),i=i||{},i.from&&t.css(i.from),i.to&&t.css(i.to),(i.addClass||i.removeClass)&&a(t,i.addClass,i.removeClass);var s=new n;return s.complete(),s}}}]},Dr=["$provide",function(t){var e=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw Ar("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var r=n+"-animation";e.$$registeredAnimations[n.substr(1)]=r,t.factory(r,i)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null,this.$$classNameFilter)){var e=new RegExp("(\\s+|\\/)"+Or+"(\\s+|\\/)");if(e.test(this.$$classNameFilter.toString()))throw Ar("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Or)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var i=ie(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,i,r,s){return i=i&&Oi(i),r=r&&Oi(r),i=i||r.parent(),e(n,i,r),t.push(n,"enter",se(s))},move:function(n,i,r,s){return i=i&&Oi(i),r=r&&Oi(r),i=i||r.parent(),e(n,i,r),t.push(n,"move",se(s))},leave:function(e,n){return t.push(e,"leave",se(n),function(){e.remove()})},addClass:function(e,n,i){return i=se(i),i.addClass=ne(i.addclass,n),t.push(e,"addClass",i)},removeClass:function(e,n,i){return i=se(i),i.removeClass=ne(i.removeClass,n),t.push(e,"removeClass",i)},setClass:function(e,n,i,r){return r=se(r),r.addClass=ne(r.addClass,n),r.removeClass=ne(r.removeClass,i),t.push(e,"setClass",r)},animate:function(e,n,i,r,s){return s=se(s),s.from=s.from?h(s.from,n):n,s.to=s.to?h(s.to,i):i,r=r||"ng-inline-animate",s.tempClasses=ne(s.tempClasses,r),t.push(e,"animate",s)}}}]}],Rr=function(){this.$get=["$$rAF",function(t){function e(e){n.push(e),n.length>1||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}]},jr=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(t,e,n,i,r){function o(t){this.setHost(t);var e=n(),s=function(t){r(t,0,!1)};this._doneCallbacks=[],this._tick=function(t){var n=i[0];n&&n.hidden?s(t):e(t)},this._state=0}var a=0,u=1,l=2;return o.chain=function(t,e){function n(){return i===t.length?void e(!0):void t[i](function(t){return t===!1?void e(!1):(i++,void n())})}var i=0;n()},o.all=function(t,e){function n(n){r=r&&n,++i===t.length&&e(r)}var i=0,r=!0;s(t,function(t){t.done(n)})},o.prototype={setHost:function(t){this.host=t||{}},done:function(t){this._state===l?t():this._doneCallbacks.push(t)},progress:m,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){e===!1?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},"catch":function(t){return this.getPromise()["catch"](t)},"finally":function(t){return this.getPromise()["finally"](t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;e._state===a&&(e._state=u,e._tick(function(){e._resolve(t)}))},_resolve:function(t){this._state!==l&&(s(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=l)}},o}]},Mr=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,i){function r(){return t(function(){s(),a||u.complete(),a=!0}),u}function s(){o.addClass&&(e.addClass(o.addClass),o.addClass=null),o.removeClass&&(e.removeClass(o.removeClass),o.removeClass=null),o.to&&(e.css(o.to),o.to=null)}var o=i||{};o.$$prepared||(o=F(o)),o.cleanupStyles&&(o.from=o.to=null),o.from&&(e.css(o.from),o.from=null);var a,u=new n;return{start:r,end:r}}}]},Pr=i("$compile");ce.$inject=["$provide","$$sanitizeUriProvider"];var Ur=/^((?:x|data)[\:\-_])/i,Fr=i("$controller"),qr=/^(\S+)(\s+as\s+([\w$]+))?$/,Br=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof Oi&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},Vr="application/json",Hr={"Content-Type":Vr+";charset=utf-8"},zr=/^\[|^\{(?!\{)/,Gr={"[":/]$/,"{":/}$/},Wr=/^\)\]\}',?\n/,Xr=i("$http"),Yr=function(t){return function(){throw Xr("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",t)}},Kr=Fi.$interpolateMinErr=i("$interpolate");Kr.throwNoconcat=function(t){throw Kr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},Kr.interr=function(t,e){return Kr("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var Qr=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Jr={http:80,https:443,ftp:21},Zr=i("$location"),ts={$$html5:!1,$$replace:!1,absUrl:He("$$absUrl"),url:function(t){if(y(t))return this.$$url;var e=Qr.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:He("$$protocol"),host:He("$$host"),port:He("$$port"),path:ze("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(C(t)||$(t))t=t.toString(),this.$$search=tt(t);else{if(!S(t))throw Zr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=F(t,{}),s(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:y(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:ze("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};s([Ve,Be,qe],function(t){t.prototype=Object.create(ts),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==qe||!this.$$html5)throw Zr("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=y(e)?null:e,this}});var es=i("$parse"),ns=Function.prototype.call,is=Function.prototype.apply,rs=Function.prototype.bind,ss=gt();s("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){ss[t]=!0});var os={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},as=function(t){this.options=t};as.prototype={constructor:as,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),i=n+this.peek(2),r=ss[e],s=ss[n],o=ss[i];if(r||s||o){var a=o?i:s?n:e;this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return t>="0"&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||""===t||""===t},isIdent:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var i=_(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw es("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,i,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=wi(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var s=this.text.charAt(this.index);if(i+=s,r){if("u"===s){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))}else{var a=os[s];n+=a||s}r=!1}else if("\\"===s)r=!0;else{if(s===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=s}this.index++}this.throwError("Unterminated quote",e)}};var us=function(t,e){this.lexer=t,this.options=e};us.Program="Program",us.ExpressionStatement="ExpressionStatement",us.AssignmentExpression="AssignmentExpression",us.ConditionalExpression="ConditionalExpression",us.LogicalExpression="LogicalExpression",us.BinaryExpression="BinaryExpression",us.UnaryExpression="UnaryExpression",us.CallExpression="CallExpression",us.MemberExpression="MemberExpression",us.Identifier="Identifier",us.Literal="Literal",us.ArrayExpression="ArrayExpression",us.Property="Property",us.ObjectExpression="ObjectExpression",us.ThisExpression="ThisExpression",us.NGValueParameter="NGValueParameter",us.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:us.Program,body:t}},expressionStatement:function(){return{type:us.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t,e=this.expression();t=this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();return this.expect("=")&&(t={type:us.AssignmentExpression,left:t,right:this.assignment(),operator:"="}),t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:us.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:us.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:us.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:us.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:us.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:us.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:us.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:us.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.constants.hasOwnProperty(this.peek().text)?t=F(this.constants[this.consume().text]):this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:us.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:us.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:us.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:us.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do t.push(this.expression());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:us.Identifier,name:t.text}},constant:function(){return{type:us.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:us.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:us.Property,kind:"init"},this.peek().constant?t.key=this.constant():this.peek().identifier?t.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),t.value=this.expression(),e.push(t)}while(this.expect(","));return this.consume("}"),{type:us.ObjectExpression,properties:e}},throwError:function(t,e){throw es("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw es("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw es("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,r){if(this.tokens.length>t){var s=this.tokens[t],o=s.text;if(o===e||o===n||o===i||o===r||!e&&!n&&!i&&!r)return s}return!1},expect:function(t,e,n,i){var r=this.peek(t,e,n,i);return r?(this.tokens.shift(),r):!1},constants:{"true":{type:us.Literal,value:!0},"false":{type:us.Literal,value:!1},"null":{type:us.Literal,value:null},undefined:{type:us.Literal,value:n},"this":{type:us.ThisExpression}}},ln.prototype={compile:function(t,e){var i=this,r=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:e,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},nn(r,i.$filter);var o,a="";if(this.stage="assign",o=on(r)){this.state.computing="assign";var u=this.nextId();this.recurse(o,u),this.return_(u),a="fn.assign="+this.generateFunction("assign","s,v,l")}var l=rn(r.body);i.stage="inputs",s(l,function(t,e){var n="fn"+e;i.state[n]={vars:[],body:[],own:{}},i.state.computing=n;var r=i.nextId();i.recurse(t,r),i.return_(r),i.state.inputs.push(n),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(r);var c='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",h=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",c)(this.$filter,Xe,Ke,Qe,Ye,Je,Ze,tn,t);return this.state=this.stage=n,h.literal=an(r),h.constant=un(r),h},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return s(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return s(this.state.filters,function(n,i){t.push(n+"=$filter("+e.escape(i)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,i,r,o,a){var u,l,c,h,f=this;if(r=r||m,!a&&_(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,i,r,o,!0));switch(t.type){case us.Program:s(t.body,function(e,i){f.recurse(e.expression,n,n,function(t){l=t}),i!==t.body.length-1?f.current().body.push(l,";"):f.return_(l)});break;case us.Literal:h=this.escape(t.value),this.assign(e,h),r(h);break;case us.UnaryExpression:this.recurse(t.argument,n,n,function(t){l=t}),h=t.operator+"("+this.ifDefined(l,0)+")",this.assign(e,h),r(h);break;case us.BinaryExpression:this.recurse(t.left,n,n,function(t){u=t}),this.recurse(t.right,n,n,function(t){l=t}),h="+"===t.operator?this.plus(u,l):"-"===t.operator?this.ifDefined(u,0)+t.operator+this.ifDefined(l,0):"("+u+")"+t.operator+"("+l+")",this.assign(e,h),r(h);break;case us.LogicalExpression:e=e||this.nextId(),f.recurse(t.left,e),f.if_("&&"===t.operator?e:f.not(e),f.lazyRecurse(t.right,e)),r(e);break;case us.ConditionalExpression:e=e||this.nextId(),f.recurse(t.test,e),f.if_(e,f.lazyRecurse(t.alternate,e),f.lazyRecurse(t.consequent,e)),r(e);break;case us.Identifier:e=e||this.nextId(),i&&(i.context="inputs"===f.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),i.computed=!1,i.name=t.name),Xe(t.name),f.if_("inputs"===f.stage||f.not(f.getHasOwnProperty("l",t.name)),function(){f.if_("inputs"===f.stage||"s",function(){o&&1!==o&&f.if_(f.not(f.nonComputedMember("s",t.name)),f.lazyAssign(f.nonComputedMember("s",t.name),"{}")),f.assign(e,f.nonComputedMember("s",t.name))})},e&&f.lazyAssign(e,f.nonComputedMember("l",t.name))),(f.state.expensiveChecks||hn(t.name))&&f.addEnsureSafeObject(e),r(e);break;case us.MemberExpression:u=i&&(i.context=this.nextId())||this.nextId(),e=e||this.nextId(),f.recurse(t.object,u,n,function(){f.if_(f.notNull(u),function(){t.computed?(l=f.nextId(),f.recurse(t.property,l),f.getStringValue(l),f.addEnsureSafeMemberName(l),o&&1!==o&&f.if_(f.not(f.computedMember(u,l)),f.lazyAssign(f.computedMember(u,l),"{}")),h=f.ensureSafeObject(f.computedMember(u,l)),f.assign(e,h),i&&(i.computed=!0,i.name=l)):(Xe(t.property.name),o&&1!==o&&f.if_(f.not(f.nonComputedMember(u,t.property.name)),f.lazyAssign(f.nonComputedMember(u,t.property.name),"{}")),h=f.nonComputedMember(u,t.property.name),(f.state.expensiveChecks||hn(t.property.name))&&(h=f.ensureSafeObject(h)),f.assign(e,h),i&&(i.computed=!1,i.name=t.property.name))},function(){f.assign(e,"undefined")}),r(e)},!!o);break;case us.CallExpression:e=e||this.nextId(),t.filter?(l=f.filter(t.callee.name),c=[],s(t.arguments,function(t){var e=f.nextId();f.recurse(t,e),c.push(e)}),h=l+"("+c.join(",")+")",f.assign(e,h),r(e)):(l=f.nextId(),u={},c=[],f.recurse(t.callee,l,u,function(){f.if_(f.notNull(l),function(){f.addEnsureSafeFunction(l),s(t.arguments,function(t){f.recurse(t,f.nextId(),n,function(t){c.push(f.ensureSafeObject(t))})}),u.name?(f.state.expensiveChecks||f.addEnsureSafeObject(u.context),h=f.member(u.context,u.name,u.computed)+"("+c.join(",")+")"):h=l+"("+c.join(",")+")",h=f.ensureSafeObject(h),f.assign(e,h)},function(){f.assign(e,"undefined")}),r(e)}));break;case us.AssignmentExpression:if(l=this.nextId(),u={},!sn(t.left))throw es("lval","Trying to assign a value to a non l-value");this.recurse(t.left,n,u,function(){f.if_(f.notNull(u.context),function(){f.recurse(t.right,l),f.addEnsureSafeObject(f.member(u.context,u.name,u.computed)),f.addEnsureSafeAssignContext(u.context),h=f.member(u.context,u.name,u.computed)+t.operator+l,f.assign(e,h),r(e||h)})},1);break;case us.ArrayExpression:c=[],s(t.elements,function(t){f.recurse(t,f.nextId(),n,function(t){c.push(t)})}),h="["+c.join(",")+"]",this.assign(e,h),r(h);break;case us.ObjectExpression:c=[],s(t.properties,function(t){f.recurse(t.value,f.nextId(),n,function(e){c.push(f.escape(t.key.type===us.Identifier?t.key.name:""+t.key.value)+":"+e)})}),h="{"+c.join(",")+"}",this.assign(e,h),r(h);break;case us.ThisExpression:this.assign(e,"s"),r("s");break;case us.NGValueParameter:this.assign(e,"v"),r("v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),i[n]},assign:function(t,e){return t?(this.current().body.push(t,"=",e,";"),t):void 0},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(t===!0)e();else{var i=this.current().body;i.push("if(",t,"){"),e(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(t){return"!("+t+")"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return t+"."+e},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},addEnsureSafeObject:function(t){this.current().body.push(this.ensureSafeObject(t),";")},addEnsureSafeMemberName:function(t){this.current().body.push(this.ensureSafeMemberName(t),";")},addEnsureSafeFunction:function(t){this.current().body.push(this.ensureSafeFunction(t),";")},addEnsureSafeAssignContext:function(t){this.current().body.push(this.ensureSafeAssignContext(t),";")},ensureSafeObject:function(t){return"ensureSafeObject("+t+",text)"},ensureSafeMemberName:function(t){return"ensureSafeMemberName("+t+",text)"},ensureSafeFunction:function(t){return"ensureSafeFunction("+t+",text)"},getStringValue:function(t){this.assign(t,"getStringValue("+t+",text)")},ensureSafeAssignContext:function(t){return"ensureSafeAssignContext("+t+",text)"},lazyRecurse:function(t,e,n,i,r,s){var o=this;return function(){o.recurse(t,e,n,i,r,s)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(C(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if($(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(null===t)return"null";if("undefined"==typeof t)return"undefined";throw es("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},cn.prototype={compile:function(t,e){var n=this,i=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=e,nn(i,n.$filter);var r,o;(r=on(i))&&(o=this.recurse(r));var a,u=rn(i.body);u&&(a=[],s(u,function(t,e){var i=n.recurse(t);t.input=i,a.push(i),t.watchId=e}));var l=[];s(i.body,function(t){l.push(n.recurse(t.expression))});var c=0===i.body.length?function(){}:1===i.body.length?l[0]:function(t,e){var n;return s(l,function(i){n=i(t,e)}),n};return o&&(c.assign=function(t,e,n){return o(t,n,e)}),a&&(c.inputs=a),c.literal=an(i),c.constant=un(i),c},recurse:function(t,e,i){var r,o,a,u=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case us.Literal:return this.value(t.value,e);case us.UnaryExpression:return o=this.recurse(t.argument),this["unary"+t.operator](o,e);case us.BinaryExpression:return r=this.recurse(t.left),o=this.recurse(t.right),this["binary"+t.operator](r,o,e);case us.LogicalExpression:return r=this.recurse(t.left),o=this.recurse(t.right),this["binary"+t.operator](r,o,e);case us.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case us.Identifier:return Xe(t.name,u.expression),u.identifier(t.name,u.expensiveChecks||hn(t.name),e,i,u.expression);case us.MemberExpression:return r=this.recurse(t.object,!1,!!i),t.computed||(Xe(t.property.name,u.expression),o=t.property.name),t.computed&&(o=this.recurse(t.property)),t.computed?this.computedMember(r,o,e,i,u.expression):this.nonComputedMember(r,o,u.expensiveChecks,e,i,u.expression);case us.CallExpression:return a=[],s(t.arguments,function(t){a.push(u.recurse(t))}),t.filter&&(o=this.$filter(t.callee.name)),t.filter||(o=this.recurse(t.callee,!0)),t.filter?function(t,i,r,s){for(var u=[],l=0;l<a.length;++l)u.push(a[l](t,i,r,s));var c=o.apply(n,u,s);return e?{context:n,name:n,value:c}:c}:function(t,n,i,r){var s,l=o(t,n,i,r);if(null!=l.value){Ke(l.context,u.expression),Qe(l.value,u.expression);for(var c=[],h=0;h<a.length;++h)c.push(Ke(a[h](t,n,i,r),u.expression));s=Ke(l.value.apply(l.context,c),u.expression)}return e?{value:s}:s};case us.AssignmentExpression:return r=this.recurse(t.left,!0,1),o=this.recurse(t.right),function(t,n,i,s){var a=r(t,n,i,s),l=o(t,n,i,s);return Ke(a.value,u.expression),Je(a.context),a.context[a.name]=l,e?{value:l}:l};case us.ArrayExpression:return a=[],s(t.elements,function(t){a.push(u.recurse(t))}),function(t,n,i,r){for(var s=[],o=0;o<a.length;++o)s.push(a[o](t,n,i,r));return e?{value:s}:s};case us.ObjectExpression:return a=[],s(t.properties,function(t){a.push({key:t.key.type===us.Identifier?t.key.name:""+t.key.value,value:u.recurse(t.value)})}),function(t,n,i,r){for(var s={},o=0;o<a.length;++o)s[a[o].key]=a[o].value(t,n,i,r);return e?{value:s}:s};case us.ThisExpression:return function(t){return e?{value:t}:t};case us.NGValueParameter:return function(t,n,i,r){return e?{value:i}:i}}},"unary+":function(t,e){return function(n,i,r,s){var o=t(n,i,r,s);return o=_(o)?+o:0,e?{value:o}:o}},"unary-":function(t,e){return function(n,i,r,s){var o=t(n,i,r,s);return o=_(o)?-o:0,e?{value:o}:o}},"unary!":function(t,e){return function(n,i,r,s){var o=!t(n,i,r,s);return e?{value:o}:o}},"binary+":function(t,e,n){return function(i,r,s,o){var a=t(i,r,s,o),u=e(i,r,s,o),l=tn(a,u);return n?{value:l}:l}},"binary-":function(t,e,n){return function(i,r,s,o){var a=t(i,r,s,o),u=e(i,r,s,o),l=(_(a)?a:0)-(_(u)?u:0);return n?{value:l}:l}},"binary*":function(t,e,n){return function(i,r,s,o){var a=t(i,r,s,o)*e(i,r,s,o);return n?{value:a}:a}},"binary/":function(t,e,n){return function(i,r,s,o){var a=t(i,r,s,o)/e(i,r,s,o);return n?{value:a}:a}},"binary%":function(t,e,n){return function(i,r,s,o){var a=t(i,r,s,o)%e(i,r,s,o);return n?{value:a}:a}},"binary===":function(t,e,n){return function(i,r,s,o){var a=t(i,r,s,o)===e(i,r,s,o);return n?{value:a}:a}},"binary!==":function(t,e,n){return function(i,r,s,o){
var a=t(i,r,s,o)!==e(i,r,s,o);return n?{value:a}:a}},"binary==":function(t,e,n){return function(i,r,s,o){var a=t(i,r,s,o)==e(i,r,s,o);return n?{value:a}:a}},"binary!=":function(t,e,n){return function(i,r,s,o){var a=t(i,r,s,o)!=e(i,r,s,o);return n?{value:a}:a}},"binary<":function(t,e,n){return function(i,r,s,o){var a=t(i,r,s,o)<e(i,r,s,o);return n?{value:a}:a}},"binary>":function(t,e,n){return function(i,r,s,o){var a=t(i,r,s,o)>e(i,r,s,o);return n?{value:a}:a}},"binary<=":function(t,e,n){return function(i,r,s,o){var a=t(i,r,s,o)<=e(i,r,s,o);return n?{value:a}:a}},"binary>=":function(t,e,n){return function(i,r,s,o){var a=t(i,r,s,o)>=e(i,r,s,o);return n?{value:a}:a}},"binary&&":function(t,e,n){return function(i,r,s,o){var a=t(i,r,s,o)&&e(i,r,s,o);return n?{value:a}:a}},"binary||":function(t,e,n){return function(i,r,s,o){var a=t(i,r,s,o)||e(i,r,s,o);return n?{value:a}:a}},"ternary?:":function(t,e,n,i){return function(r,s,o,a){var u=t(r,s,o,a)?e(r,s,o,a):n(r,s,o,a);return i?{value:u}:u}},value:function(t,e){return function(){return e?{context:n,name:n,value:t}:t}},identifier:function(t,e,i,r,s){return function(o,a,u,l){var c=a&&t in a?a:o;r&&1!==r&&c&&!c[t]&&(c[t]={});var h=c?c[t]:n;return e&&Ke(h,s),i?{context:c,name:t,value:h}:h}},computedMember:function(t,e,n,i,r){return function(s,o,a,u){var l,c,h=t(s,o,a,u);return null!=h&&(l=e(s,o,a,u),l=Ye(l),Xe(l,r),i&&1!==i&&h&&!h[l]&&(h[l]={}),c=h[l],Ke(c,r)),n?{context:h,name:l,value:c}:c}},nonComputedMember:function(t,e,i,r,s,o){return function(a,u,l,c){var h=t(a,u,l,c);s&&1!==s&&h&&!h[e]&&(h[e]={});var f=null!=h?h[e]:n;return(i||hn(e))&&Ke(f,o),r?{context:h,name:e,value:f}:f}},inputs:function(t,e){return function(n,i,r,s){return s?s[e]:t(n,i,r)}}};var ls=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new us(this.lexer),this.astCompiler=n.csp?new cn(this.ast,e):new ln(this.ast,e)};ls.prototype={constructor:ls,parse:function(t){return this.astCompiler.compile(t,this.options.expensiveChecks)}};var cs=Object.prototype.valueOf,hs=i("$sce"),fs={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Pr=i("$compile"),ps=e.createElement("a"),ds=kn(t.location.href);On.$inject=["$document"],Nn.$inject=["$provide"];var ms=22,gs=".",vs="0";Pn.$inject=["$locale"],Un.$inject=["$locale"];var bs={yyyy:Hn("FullYear",4),yy:Hn("FullYear",2,0,!0),y:Hn("FullYear",1),MMMM:zn("Month"),MMM:zn("Month",!0),MM:Hn("Month",2,1),M:Hn("Month",1,1),dd:Hn("Date",2),d:Hn("Date",1),HH:Hn("Hours",2),H:Hn("Hours",1),hh:Hn("Hours",2,-12),h:Hn("Hours",1,-12),mm:Hn("Minutes",2),m:Hn("Minutes",1),ss:Hn("Seconds",2),s:Hn("Seconds",1),sss:Hn("Milliseconds",3),EEEE:zn("Day"),EEE:zn("Day",!0),a:Kn,Z:Gn,ww:Yn(2),w:Yn(1),G:Qn,GG:Qn,GGG:Qn,GGGG:Jn},ys=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,_s=/^\-?\d+$/;Zn.$inject=["$locale"];var Ss=v(wi),xs=v(Ti);ni.$inject=["$parse"];var Cs=v({restrict:"E",compile:function(t,e){return e.href||e.xlinkHref?void 0:function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Mi.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),$s={};s(_r,function(t,e){function n(t,n,r){t.$watch(r[i],function(t){r.$set(e,!!t)})}if("multiple"!=t){var i=he("ng-"+e),r=n;"checked"===t&&(r=function(t,e,r){r.ngModel!==r[i]&&n(t,e,r)}),$s[i]=function(){return{restrict:"A",priority:100,link:r}}}}),s(xr,function(t,e){$s[e]=function(){return{priority:100,link:function(t,n,i){if("ngPattern"===e&&"/"==i.ngPattern.charAt(0)){var r=i.ngPattern.match(Ci);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}t.$watch(i[e],function(t){i.$set(e,t)})}}}}),s(["src","srcset","href"],function(t){var e=he("ng-"+t);$s[e]=function(){return{priority:99,link:function(n,i,r){var s=t,o=t;"href"===t&&"[object SVGAnimatedString]"===Mi.call(i.prop("href"))&&(o="xlinkHref",r.$attr[o]="xlink:href",s=null),r.$observe(e,function(e){return e?(r.$set(o,e),void(Ei&&s&&i.prop(s,r[o]))):void("href"===t&&r.$set(o,null))})}}}});var ws={$addControl:m,$$renameControl:ri,$removeControl:m,$setValidity:m,$setDirty:m,$setPristine:m,$setSubmitted:m},Ls="ng-submitted";si.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Ts=function(t){return["$timeout","$parse",function(e,i){function r(t){return""===t?i('this[""]').assign:i(t).assign||m}var s={name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:si,compile:function(i,s){i.addClass(ao).addClass(so);var o=s.name?"name":t&&s.ngForm?"ngForm":!1;return{pre:function(t,i,s,a){var u=a[0];if(!("action"in s)){var l=function(e){t.$apply(function(){u.$commitViewValue(),u.$setSubmitted()}),e.preventDefault()};ar(i[0],"submit",l),i.on("$destroy",function(){e(function(){ur(i[0],"submit",l)},0,!1)})}var c=a[1]||u.$$parentForm;c.$addControl(u);var f=o?r(u.$name):m;o&&(f(t,u),s.$observe(o,function(e){u.$name!==e&&(f(t,n),u.$$parentForm.$$renameControl(u,e),(f=r(u.$name))(t,u))})),i.on("$destroy",function(){u.$$parentForm.$removeControl(u),f(t,n),h(u,ws)})}}}};return s}]},ks=Ts(),As=Ts(!0),Es=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Os=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Is=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Ns=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Ds=/^(\d{4})-(\d{2})-(\d{2})$/,Rs=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,js=/^(\d{4})-W(\d\d)$/,Ms=/^(\d{4})-(\d\d)$/,Ps=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Us={text:ai,date:hi("date",Ds,ci(Ds,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":hi("datetimelocal",Rs,ci(Rs,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:hi("time",Ps,ci(Ps,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:hi("week",js,li,"yyyy-Www"),month:hi("month",Ms,ci(Ms,["yyyy","MM"]),"yyyy-MM"),number:pi,url:di,email:mi,radio:gi,checkbox:bi,hidden:m,button:m,submit:m,reset:m,file:m},Fs=["$browser","$sniffer","$filter","$parse",function(t,e,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,s,o,a){a[0]&&(Us[wi(o.type)]||Us.text)(r,s,o,a[0],e,t,n,i)}}}}],qs=/^(true|false|\d+)$/,Bs=function(){return{restrict:"A",priority:100,compile:function(t,e){return qs.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},Vs=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,i){t.$$addBindingInfo(n,i.ngBind),n=n[0],e.$watch(i.ngBind,function(t){n.textContent=y(t)?"":t})}}}}],Hs=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,i,r){var s=t(i.attr(r.$attr.ngBindTemplate));e.$$addBindingInfo(i,s.expressions),i=i[0],r.$observe("ngBindTemplate",function(t){i.textContent=y(t)?"":t})}}}}],zs=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(i,r){var s=e(r.ngBindHtml),o=e(r.ngBindHtml,function(t){return(t||"").toString()});return n.$$addBindingClass(i),function(e,i,r){n.$$addBindingInfo(i,r.ngBindHtml),e.$watch(o,function(){i.html(t.getTrustedHtml(s(e))||"")})}}}}],Gs=v({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),Ws=yi("",!0),Xs=yi("Odd",0),Ys=yi("Even",1),Ks=ii({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),Qs=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Js={},Zs={blur:!0,focus:!0};s("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=he("ng-"+t);Js[e]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,s){var o=n(s[e],null,!0);return function(e,n){n.on(t,function(n){var r=function(){o(e,{$event:n})};Zs[t]&&i.$$phase?e.$evalAsync(r):e.$apply(r)})}}}}]});var to=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,s,o){var a,u,l;n.$watch(r.ngIf,function(n){n?u||o(function(n,s){u=s,n[n.length++]=e.createComment(" end ngIf: "+r.ngIf+" "),a={clone:n},t.enter(n,i.parent(),i)}):(l&&(l.remove(),l=null),u&&(u.$destroy(),u=null),a&&(l=mt(a.clone),t.leave(l).then(function(){l=null}),a=null))})}}}],eo=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Fi.noop,compile:function(i,r){var s=r.ngInclude||r.src,o=r.onload||"",a=r.autoscroll;return function(i,r,u,l,c){var h,f,p,d=0,m=function(){f&&(f.remove(),f=null),h&&(h.$destroy(),h=null),p&&(n.leave(p).then(function(){f=null}),f=p,p=null)};i.$watch(s,function(s){var u=function(){!_(a)||a&&!i.$eval(a)||e()},f=++d;s?(t(s,!0).then(function(t){if(!i.$$destroyed&&f===d){var e=i.$new();l.template=t;var a=c(e,function(t){m(),n.enter(t,null,r).then(u)});h=e,p=a,h.$emit("$includeContentLoaded",s),i.$eval(o)}},function(){i.$$destroyed||f===d&&(m(),i.$emit("$includeContentError",s))}),i.$emit("$includeContentRequested",s)):(m(),l.template=null)})}}}}],no=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,s){return/SVG/.test(i[0].toString())?(i.empty(),void t(Lt(s.template,e).childNodes)(n,function(t){i.append(t)},{futureParentElement:i})):(i.html(s.template),void t(i.contents())(n))}}}],io=ii({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),ro=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,i,r){var o=e.attr(i.$attr.ngList)||", ",a="false"!==i.ngTrim,u=a?zi(o):o,l=function(t){if(!y(t)){var e=[];return t&&s(t.split(u),function(t){t&&e.push(a?zi(t):t)}),e}};r.$parsers.push(l),r.$formatters.push(function(t){return Vi(t)?t.join(o):n}),r.$isEmpty=function(t){return!t||!t.length}}}},so="ng-valid",oo="ng-invalid",ao="ng-pristine",uo="ng-dirty",lo="ng-untouched",co="ng-touched",ho="ng-pending",fo=i("ngModel"),po=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,i,r,o,a,u,l,c,h){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=h(i.name||"",!1)(t),this.$$parentForm=ws;var f,p=o(i.ngModel),d=p.assign,g=p,v=d,b=null,S=this;this.$$setOptions=function(t){if(S.$options=t,t&&t.getterSetter){var e=o(i.ngModel+"()"),n=o(i.ngModel+"($$$p)");g=function(t){var n=p(t);return L(n)&&(n=e(t)),n},v=function(t,e){L(p(t))?n(t,{$$$p:S.$modelValue}):d(t,S.$modelValue)}}else if(!p.assign)throw fo("nonassign","Expression '{0}' is non-assignable. Element: {1}",i.ngModel,J(r))},this.$render=m,this.$isEmpty=function(t){return y(t)||""===t||null===t||t!==t};var x=0;_i({ctrl:this,$element:r,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},$animate:a}),this.$setPristine=function(){S.$dirty=!1,S.$pristine=!0,a.removeClass(r,uo),a.addClass(r,ao)},this.$setDirty=function(){S.$dirty=!0,S.$pristine=!1,a.removeClass(r,ao),a.addClass(r,uo),S.$$parentForm.$setDirty()},this.$setUntouched=function(){S.$touched=!1,S.$untouched=!0,a.setClass(r,lo,co)},this.$setTouched=function(){S.$touched=!0,S.$untouched=!1,a.setClass(r,co,lo)},this.$rollbackViewValue=function(){u.cancel(b),S.$viewValue=S.$$lastCommittedViewValue,S.$render()},this.$validate=function(){if(!$(S.$modelValue)||!isNaN(S.$modelValue)){var t=S.$$lastCommittedViewValue,e=S.$$rawModelValue,i=S.$valid,r=S.$modelValue,s=S.$options&&S.$options.allowInvalid;S.$$runValidators(e,t,function(t){s||i===t||(S.$modelValue=t?e:n,S.$modelValue!==r&&S.$$writeModelToScope())})}},this.$$runValidators=function(t,e,i){function r(){var t=S.$$parserName||"parse";return y(f)?(u(t,null),!0):(f||(s(S.$validators,function(t,e){u(e,null)}),s(S.$asyncValidators,function(t,e){u(e,null)})),u(t,f),f)}function o(){var n=!0;return s(S.$validators,function(i,r){var s=i(t,e);n=n&&s,u(r,s)}),n?!0:(s(S.$asyncValidators,function(t,e){u(e,null)}),!1)}function a(){var i=[],r=!0;s(S.$asyncValidators,function(s,o){var a=s(t,e);if(!D(a))throw fo("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);u(o,n),i.push(a.then(function(){u(o,!0)},function(t){r=!1,u(o,!1)}))}),i.length?c.all(i).then(function(){l(r)},m):l(!0)}function u(t,e){h===x&&S.$setValidity(t,e)}function l(t){h===x&&i(t)}x++;var h=x;return r()&&o()?void a():void l(!1)},this.$commitViewValue=function(){var t=S.$viewValue;u.cancel(b),(S.$$lastCommittedViewValue!==t||""===t&&S.$$hasNativeValidators)&&(S.$$lastCommittedViewValue=t,S.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function e(){S.$modelValue!==o&&S.$$writeModelToScope()}var i=S.$$lastCommittedViewValue,r=i;if(f=y(r)?n:!0)for(var s=0;s<S.$parsers.length;s++)if(r=S.$parsers[s](r),y(r)){f=!1;break}$(S.$modelValue)&&isNaN(S.$modelValue)&&(S.$modelValue=g(t));var o=S.$modelValue,a=S.$options&&S.$options.allowInvalid;S.$$rawModelValue=r,a&&(S.$modelValue=r,e()),S.$$runValidators(r,S.$$lastCommittedViewValue,function(t){a||(S.$modelValue=t?r:n,e())})},this.$$writeModelToScope=function(){v(t,S.$modelValue),s(S.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}})},this.$setViewValue=function(t,e){S.$viewValue=t,(!S.$options||S.$options.updateOnDefault)&&S.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n,i=0,r=S.$options;r&&_(r.debounce)&&(n=r.debounce,$(n)?i=n:$(n[e])?i=n[e]:$(n["default"])&&(i=n["default"])),u.cancel(b),i?b=u(function(){S.$commitViewValue()},i):l.$$phase?S.$commitViewValue():t.$apply(function(){S.$commitViewValue()})},t.$watch(function(){var e=g(t);if(e!==S.$modelValue&&(S.$modelValue===S.$modelValue||e===e)){S.$modelValue=S.$$rawModelValue=e,f=n;for(var i=S.$formatters,r=i.length,s=e;r--;)s=i[r](s);S.$viewValue!==s&&(S.$viewValue=S.$$lastCommittedViewValue=s,S.$render(),S.$$runValidators(e,s,m))}return e})}],mo=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:po,priority:1,compile:function(e){return e.addClass(ao).addClass(lo).addClass(so),{pre:function(t,e,n,i){var r=i[0],s=i[1]||r.$$parentForm;r.$$setOptions(i[2]&&i[2].$options),s.$addControl(r),n.$observe("name",function(t){r.$name!==t&&r.$$parentForm.$$renameControl(r,t)}),t.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(e,n,i,r){var s=r[0];s.$options&&s.$options.updateOn&&n.on(s.$options.updateOn,function(t){s.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(n){s.$touched||(t.$$phase?e.$evalAsync(s.$setTouched):e.$apply(s.$setTouched))})}}}}}],go=/(\s+|^)default(\s+|$)/,vo=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var n=this;this.$options=F(t.$eval(e.ngModelOptions)),_(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=zi(this.$options.updateOn.replace(go,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},bo=ii({terminal:!0,priority:1e3}),yo=i("ngOptions"),_o=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,So=["$compile","$parse",function(t,n){function i(t,e,i){function s(t,e,n,i,r){this.selectValue=t,this.viewValue=e,this.label=n,this.group=i,this.disabled=r}function o(t){var e;if(!l&&r(t))e=t;else{e=[];for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n)}return e}var a=t.match(_o);if(!a)throw yo("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,J(e));var u=a[5]||a[7],l=a[6],c=/ as /.test(a[0])&&a[1],h=a[9],f=n(a[2]?a[1]:u),p=c&&n(c),d=p||f,m=h&&n(h),g=h?function(t,e){return m(i,e)}:function(t){return Kt(t)},v=function(t,e){return g(t,C(t,e))},b=n(a[2]||a[1]),y=n(a[3]||""),_=n(a[4]||""),S=n(a[8]),x={},C=l?function(t,e){return x[l]=e,x[u]=t,x}:function(t){return x[u]=t,x};return{trackBy:h,getTrackByValue:v,getWatchables:n(S,function(t){var e=[];t=t||[];for(var n=o(t),r=n.length,s=0;r>s;s++){var u=t===n?s:n[s],l=(t[u],C(t[u],u)),c=g(t[u],l);if(e.push(c),a[2]||a[1]){var h=b(i,l);e.push(h)}if(a[4]){var f=_(i,l);e.push(f)}}return e}),getOptions:function(){for(var t=[],e={},n=S(i)||[],r=o(n),a=r.length,u=0;a>u;u++){var l=n===r?u:r[u],c=n[l],f=C(c,l),p=d(i,f),m=g(p,f),x=b(i,f),$=y(i,f),w=_(i,f),L=new s(m,p,x,$,w);t.push(L),e[m]=L}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[v(t)]},getViewValueFromOption:function(t){return h?Fi.copy(t.viewValue):t.viewValue}}}}}function o(e,n,r,o){function l(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),t.value!==e.value&&(e.value=t.selectValue)}function c(t,e,n,i){var r;return e&&wi(e.nodeName)===n?r=e:(r=i.cloneNode(!1),e?t.insertBefore(r,e):t.appendChild(r)),r}function h(t){for(var e;t;)e=t.nextSibling,Bt(t),t=e}function f(t){var e=m&&m[0],n=x&&x[0];if(e||n)for(;t&&(t===e||t===n||t.nodeType===er||"option"===P(t)&&""===t.value);)t=t.nextSibling;return t}function p(){var t=C&&g.readValue();C=$.getOptions();var e={},i=n[0].firstChild;if(S&&n.prepend(m),i=f(i),C.items.forEach(function(t){var r,s,o;t.group?(r=e[t.group],r||(s=c(n[0],i,"optgroup",u),i=s.nextSibling,s.label=t.group,r=e[t.group]={groupElement:s,currentOptionElement:s.firstChild}),o=c(r.groupElement,r.currentOptionElement,"option",a),l(t,o),r.currentOptionElement=o.nextSibling):(o=c(n[0],i,"option",a),l(t,o),i=o.nextSibling)}),Object.keys(e).forEach(function(t){h(e[t].currentOptionElement)}),h(i),d.$render(),!d.$isEmpty(t)){var r=g.readValue(),s=$.trackBy||v;(s?B(t,r):t===r)||(d.$setViewValue(r),d.$render())}}var d=o[1];if(d){for(var m,g=o[0],v=r.multiple,b=0,y=n.children(),_=y.length;_>b;b++)if(""===y[b].value){m=y.eq(b);break}var S=!!m,x=Oi(a.cloneNode(!1));x.val("?");var C,$=i(r.ngOptions,n,e),w=function(){S||n.prepend(m),n.val(""),m.prop("selected",!0),m.attr("selected",!0)},L=function(){S||m.remove()},T=function(){n.prepend(x),n.val("?"),x.prop("selected",!0),x.attr("selected",!0)},k=function(){x.remove()};v?(d.$isEmpty=function(t){return!t||0===t.length},g.writeValue=function(t){C.items.forEach(function(t){t.element.selected=!1}),t&&t.forEach(function(t){var e=C.getOptionFromViewValue(t);e&&!e.disabled&&(e.element.selected=!0)})},g.readValue=function(){var t=n.val()||[],e=[];return s(t,function(t){var n=C.selectValueMap[t];n&&!n.disabled&&e.push(C.getViewValueFromOption(n))}),e},$.trackBy&&e.$watchCollection(function(){return Vi(d.$viewValue)?d.$viewValue.map(function(t){return $.getTrackByValue(t)}):void 0},function(){d.$render()})):(g.writeValue=function(t){var e=C.getOptionFromViewValue(t);e&&!e.disabled?n[0].value!==e.selectValue&&(k(),L(),n[0].value=e.selectValue,e.element.selected=!0,e.element.setAttribute("selected","selected")):null===t||S?(k(),w()):(L(),T())},g.readValue=function(){var t=C.selectValueMap[n.val()];return t&&!t.disabled?(L(),k(),C.getViewValueFromOption(t)):null},$.trackBy&&e.$watch(function(){return $.getTrackByValue(d.$viewValue)},function(){d.$render()})),S?(m.remove(),t(m)(e),m.removeClass("ng-scope")):m=Oi(a.cloneNode(!1)),p(),e.$watchCollection($.getWatchables,p)}}var a=e.createElement("option"),u=e.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:{pre:function(t,e,n,i){i[0].registerOption=m},post:o}}}],xo=["$locale","$interpolate","$log",function(t,e,n){var i=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(o,a,u){function l(t){a.text(t||"")}var c,h=u.count,f=u.$attr.when&&a.attr(u.$attr.when),p=u.offset||0,d=o.$eval(f)||{},g={},v=e.startSymbol(),b=e.endSymbol(),_=v+h+"-"+p+b,S=Fi.noop;s(u,function(t,e){var n=r.exec(e);if(n){var i=(n[1]?"-":"")+wi(n[2]);d[i]=a.attr(u.$attr[e])}}),s(d,function(t,n){g[n]=e(t.replace(i,_))}),o.$watch(h,function(e){var i=parseFloat(e),r=isNaN(i);if(r||i in d||(i=t.pluralCat(i-p)),i!==c&&!(r&&$(c)&&isNaN(c))){S();var s=g[i];y(s)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+f),S=m,l()):S=o.$watch(s,l),c=i}})}}}],Co=["$parse","$animate",function(t,o){var a="$$NG_REMOVED",u=i("ngRepeat"),l=function(t,e,n,i,r,s,o){t[n]=i,r&&(t[r]=s),t.$index=e,t.$first=0===e,t.$last=e===o-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},c=function(t){return t.clone[0]},h=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,f){var p=f.ngRepeat,d=e.createComment(" end ngRepeat: "+p+" "),m=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!m)throw u("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var g=m[1],v=m[2],b=m[3],y=m[4];if(m=g.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!m)throw u("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var _=m[3]||m[1],S=m[2];if(b&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(b)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(b)))throw u("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",b);var x,C,$,w,L={$id:Kt};return y?x=t(y):($=function(t,e){return Kt(e)},w=function(t){return t}),function(t,e,i,f,m){x&&(C=function(e,n,i){return S&&(L[S]=e),L[_]=n,L.$index=i,x(t,L)});var g=gt();t.$watchCollection(v,function(i){var f,v,y,x,L,T,k,A,E,O,I,N,D=e[0],R=gt();if(b&&(t[b]=i),r(i))E=i,A=C||$;else{A=C||w,E=[];for(var j in i)Li.call(i,j)&&"$"!==j.charAt(0)&&E.push(j)}for(x=E.length,I=new Array(x),f=0;x>f;f++)if(L=i===E?f:E[f],T=i[L],k=A(L,T,f),g[k])O=g[k],delete g[k],R[k]=O,I[f]=O;else{if(R[k])throw s(I,function(t){t&&t.scope&&(g[t.id]=t)}),u("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,k,T);I[f]={id:k,scope:n,clone:n},R[k]=!0}for(var M in g){if(O=g[M],N=mt(O.clone),o.leave(N),N[0].parentNode)for(f=0,v=N.length;v>f;f++)N[f][a]=!0;O.scope.$destroy()}for(f=0;x>f;f++)if(L=i===E?f:E[f],T=i[L],O=I[f],O.scope){y=D;do y=y.nextSibling;while(y&&y[a]);c(O)!=y&&o.move(mt(O.clone),null,Oi(D)),D=h(O),l(O.scope,f,_,T,S,L,x)}else m(function(t,e){O.scope=e;var n=d.cloneNode(!1);t[t.length++]=n,o.enter(t,null,Oi(D)),D=n,O.clone=t,R[O.id]=O,l(O.scope,f,_,T,S,L,x)});g=R})}}}}],$o="ng-hide",wo="ng-hide-animate",Lo=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngShow,function(e){t[e?"removeClass":"addClass"](n,$o,{tempClasses:wo})})}}}],To=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngHide,function(e){t[e?"addClass":"removeClass"](n,$o,{tempClasses:wo})})}}}],ko=ii(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&s(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),Ao=["$animate",function(t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,o){var a=r.ngSwitch||r.on,u=[],l=[],c=[],h=[],f=function(t,e){return function(){t.splice(e,1)}};n.$watch(a,function(n){var i,r;for(i=0,r=c.length;r>i;++i)t.cancel(c[i]);for(c.length=0,i=0,r=h.length;r>i;++i){var a=mt(l[i].clone);h[i].$destroy();var p=c[i]=t.leave(a);p.then(f(c,i))}l.length=0,h.length=0,(u=o.cases["!"+n]||o.cases["?"])&&s(u,function(n){n.transclude(function(i,r){h.push(r);var s=n.element;i[i.length++]=e.createComment(" end ngSwitchWhen: ");var o={clone:i};l.push(o),t.enter(i,s.parent(),s)})})})}}}],Eo=ii({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:e})}}),Oo=ii({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),Io=ii({restrict:"EAC",link:function(t,e,n,r,s){if(!s)throw i("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",J(e));s(function(t){e.empty(),e.append(t)})}}),No=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"==n.type){var i=n.id,r=e[0].text;t.put(i,r)}}}}],Do={$setViewValue:m,$render:m},Ro=["$element","$scope","$attrs",function(t,i,r){var s=this,o=new Qt;s.ngModelCtrl=Do,s.unknownOption=Oi(e.createElement("option")),s.renderUnknownOption=function(e){var n="? "+Kt(e)+" ?";s.unknownOption.val(n),t.prepend(s.unknownOption),t.val(n)},i.$on("$destroy",function(){s.renderUnknownOption=m}),s.removeUnknownOption=function(){s.unknownOption.parent()&&s.unknownOption.remove()},s.readValue=function(){return s.removeUnknownOption(),t.val()},s.writeValue=function(e){s.hasOption(e)?(s.removeUnknownOption(),t.val(e),""===e&&s.emptyOption.prop("selected",!0)):null==e&&s.emptyOption?(s.removeUnknownOption(),t.val("")):s.renderUnknownOption(e)},s.addOption=function(t,e){pt(t,'"option value"'),""===t&&(s.emptyOption=e);var n=o.get(t)||0;o.put(t,n+1),s.ngModelCtrl.$render(),xi(e)},s.removeOption=function(t){var e=o.get(t);e&&(1===e?(o.remove(t),""===t&&(s.emptyOption=n)):o.put(t,e-1))},s.hasOption=function(t){return!!o.get(t)},s.registerOption=function(t,e,n,i,r){if(i){var o;n.$observe("value",function(t){_(o)&&s.removeOption(o),o=t,s.addOption(t,e)})}else r?t.$watch(r,function(t,i){n.$set("value",t),i!==t&&s.removeOption(i),s.addOption(t,e)}):s.addOption(n.value,e);e.on("$destroy",function(){s.removeOption(n.value),s.ngModelCtrl.$render()})}}],jo=function(){function t(t,e,n,i){var r=i[1];if(r){var o=i[0];if(o.ngModelCtrl=r,e.on("change",function(){t.$apply(function(){r.$setViewValue(o.readValue())})}),n.multiple){o.readValue=function(){var t=[];return s(e.find("option"),function(e){e.selected&&t.push(e.value)}),t},o.writeValue=function(t){var n=new Qt(t);s(e.find("option"),function(t){t.selected=_(n.get(t.value))})};var a,u=NaN;t.$watch(function(){u!==r.$viewValue||B(a,r.$viewValue)||(a=q(r.$viewValue),r.$render()),u=r.$viewValue}),r.$isEmpty=function(t){return!t||0===t.length}}}}function e(t,e,n,i){var r=i[1];if(r){var s=i[0];r.$render=function(){s.writeValue(r.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Ro,priority:1,link:{pre:t,post:e}}},Mo=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){if(_(n.value))var i=t(n.value,!0);else{var r=t(e.text(),!0);r||n.$set("value",e.text())}return function(t,e,n){var s="$selectController",o=e.parent(),a=o.data(s)||o.parent().data(s);a&&a.registerOption(t,e,n,i,r)}}}}],Po=v({restrict:"E",terminal:!1}),Uo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}},Fo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,r,s){if(s){var o,a=r.ngPattern||r.pattern;r.$observe("pattern",function(t){if(C(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,t,J(e));o=t||n,s.$validate()}),s.$validators.pattern=function(t,e){return s.$isEmpty(e)||y(o)||o.test(e)}}}}},qo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=-1;n.$observe("maxlength",function(t){var e=p(t);r=isNaN(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(t,e){return 0>r||i.$isEmpty(e)||e.length<=r}}}}},Bo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=0;n.$observe("minlength",function(t){r=p(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=r}}}}};return t.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(ct(),_t(Fi),Fi.module("ngLocale",[],["$provide",function(t){function e(t){t+="";var e=t.indexOf(".");return-1==e?0:t.length-e-1}function i(t,i){var r=i;n===r&&(r=Math.min(e(t),3));var s=Math.pow(10,r),o=(t*s|0)%s;return{v:r,f:o}}var r={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",pluralCat:function(t,e){var n=0|t,s=i(t,e);return 1==n&&0==s.v?r.ONE:r.OTHER}})}]),void Oi(e).ready(function(){st(e,ot)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),/**
 * @license AngularJS v1.4.9
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function i(t,e,n){if(!t)throw mt("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function r(t,e){return t||e?t?e?(V(t)&&(t=t.join(" ")),V(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function s(t){var e={};return t&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e}function o(t,e,n){var i="";return t=V(t)?t:t&&H(t)&&t.length?t.split(/\s+/):[],B(t,function(t,r){t&&t.length>0&&(i+=r>0?" ":"",i+=n?e+t:t+e)}),i}function a(t,e){var n=t.indexOf(e);e>=0&&t.splice(n,1)}function u(t){if(t instanceof q)switch(t.length){case 0:return[];case 1:if(t[0].nodeType===K)return t;break;default:return q(l(t))}return t.nodeType===K?q(t):void 0}function l(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType==K)return n}}function c(t,e,n){B(e,function(e){t.addClass(e,n)})}function h(t,e,n){B(e,function(e){t.removeClass(e,n)})}function f(t){return function(e,n){n.addClass&&(c(t,e,n.addClass),n.addClass=null),n.removeClass&&(h(t,e,n.removeClass),n.removeClass=null)}}function p(t){if(t=t||{},!t.$$prepared){var e=t.domOperation||P;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=P},t.$$prepared=!0}return t}function d(t,e){m(t,e),g(t,e)}function m(t,e){e.from&&(t.css(e.from),e.from=null)}function g(t,e){e.to&&(t.css(e.to),e.to=null)}function v(t,e,n){var i=(e.addClass||"")+" "+(n.addClass||""),r=(e.removeClass||"")+" "+(n.removeClass||""),s=b(t.attr("class"),i,r);n.preparationClasses&&(e.preparationClasses=w(n.preparationClasses,e.preparationClasses),delete n.preparationClasses);var o=e.domOperation!==P?e.domOperation:null;return F(e,n),o&&(e.domOperation=o),s.addClass?e.addClass=s.addClass:e.addClass=null,s.removeClass?e.removeClass=s.removeClass:e.removeClass=null,e}function b(t,e,n){function i(t){H(t)&&(t=t.split(" "));var e={};return B(t,function(t){t.length&&(e[t]=!0)}),e}var r=1,s=-1,o={};t=i(t),e=i(e),B(e,function(t,e){o[e]=r}),n=i(n),B(n,function(t,e){o[e]=o[e]===r?null:s});var a={addClass:"",removeClass:""};return B(o,function(e,n){var i,o;e===r?(i="addClass",o=!t[n]):e===s&&(i="removeClass",o=t[n]),o&&(a[i].length&&(a[i]+=" "),a[i]+=n)}),a}function y(t){return t instanceof e.element?t[0]:t}function _(t,e,n){var i="";e&&(i=o(e,Z,!0)),n.addClass&&(i=w(i,o(n.addClass,Q))),n.removeClass&&(i=w(i,o(n.removeClass,J))),i.length&&(n.preparationClasses=i,t.addClass(i))}function S(t,e){e.preparationClasses&&(t.removeClass(e.preparationClasses),e.preparationClasses=null),e.activeClasses&&(t.removeClass(e.activeClasses),e.activeClasses=null)}function x(t,e){var n=e?"-"+e+"s":"";return $(t,[pt,n]),[pt,n]}function C(t,e){var n=e?"paused":"",i=j+lt;return $(t,[i,n]),[i,n]}function $(t,e){var n=e[0],i=e[1];t.style[n]=i}function w(t,e){return t?e?t+" "+e:t:e}function L(t){return[ft,t+"s"]}function T(t,e){var n=e?ht:pt;return[n,t+"s"]}function k(t,e,n){var i=Object.create(null),r=t.getComputedStyle(e)||{};return B(n,function(t,e){var n=r[t];if(n){var s=n.charAt(0);("-"===s||"+"===s||s>=0)&&(n=A(n)),0===n&&(n=null),i[e]=n}}),i}function A(t){var e=0,n=t.split(/\s*,\s*/);return B(n,function(t){"s"==t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,e=e?Math.max(t,e):t}),e}function E(t){return 0===t||null!=t}function O(t,e){var n=D,i=t+"s";return e?n+=rt:i+=" linear all",[n,i]}function I(){var t=Object.create(null);return{flush:function(){t=Object.create(null)},count:function(e){var n=t[e];return n?n.total:0},get:function(e){var n=t[e];return n&&n.value},put:function(e,n){t[e]?t[e].total++:t[e]={total:1,value:n}}}}function N(t,e,n){B(n,function(n){t[n]=W(t[n])?t[n]:e.style.getPropertyValue(n)})}var D,R,j,M,P=e.noop,U=e.copy,F=e.extend,q=e.element,B=e.forEach,V=e.isArray,H=e.isString,z=e.isObject,G=e.isUndefined,W=e.isDefined,X=e.isFunction,Y=e.isElement,K=1,Q="-add",J="-remove",Z="ng-",tt="-active",et="ng-animate",nt="$$ngAnimateChildren",it="";G(t.ontransitionend)&&W(t.onwebkittransitionend)?(it="-webkit-",D="WebkitTransition",R="webkitTransitionEnd transitionend"):(D="transition",R="transitionend"),G(t.onanimationend)&&W(t.onwebkitanimationend)?(it="-webkit-",j="WebkitAnimation",M="webkitAnimationEnd animationend"):(j="animation",M="animationend");var rt="Duration",st="Property",ot="Delay",at="TimingFunction",ut="IterationCount",lt="PlayState",ct=9999,ht=j+ot,ft=j+rt,pt=D+ot,dt=D+rt,mt=e.$$minErr("ng"),gt=["$$rAF",function(t){function e(t){i=i.concat(t),n()}function n(){if(i.length){for(var e=i.shift(),s=0;s<e.length;s++)e[s]();r||t(function(){r||n()})}}var i,r;return i=e.queue=[],e.waitUntilQuiet=function(e){r&&r(),r=t(function(){r=null,e(),n()})},e}],vt=[function(){return function(t,n,i){var r=i.ngAnimateChildren;e.isString(r)&&0===r.length?n.data(nt,!0):i.$observe("ngAnimateChildren",function(t){t="on"===t||"true"===t,n.data(nt,t)})}}],bt="$$animateCss",yt=1e3,_t=3,St=1.5,xt={transitionDuration:dt,transitionDelay:pt,transitionProperty:D+st,animationDuration:ft,animationDelay:ht,animationIterationCount:j+ut},Ct={transitionDuration:dt,transitionDelay:pt,animationDuration:ft,animationDelay:ht},$t=["$animateProvider",function(t){var e=I(),n=I();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(t,i,r,u,l,c,h,v){function b(t,e){var n="$$ngAnimateParentKey",i=t.parentNode,r=i[n]||(i[n]=++F);return r+"-"+t.getAttribute("class")+"-"+e}function _(n,i,r,s){var o=e.get(r);return o||(o=k(t,n,s),"infinite"===o.animationIterationCount&&(o.animationIterationCount=1)),e.put(r,o),o}function S(r,s,a,u){var l;if(e.count(a)>0&&(l=n.get(a),!l)){var c=o(s,"-stagger");i.addClass(r,c),l=k(t,r,u),l.animationDuration=Math.max(l.animationDuration,0),l.transitionDuration=Math.max(l.transitionDuration,0),i.removeClass(r,c),n.put(a,l)}return l||{}}function w(t){q.push(t),h.waitUntilQuiet(function(){e.flush(),n.flush();for(var t=l(),i=0;i<q.length;i++)q[i](t);q.length=0})}function A(t,e,n){var i=_(t,e,n,xt),r=i.animationDelay,s=i.transitionDelay;return i.maxDelay=r&&s?Math.max(r,s):r||s,i.maxDuration=Math.max(i.animationDuration*i.animationIterationCount,i.transitionDuration),i}var I=f(i),F=0,q=[];return function(t,n){function l(){f()}function h(){f(!0)}function f(e){W||Y&&X||(W=!0,X=!1,H.$$skipPreparationClasses||i.removeClass(t,xt),i.removeClass(t,wt),C(G,!1),x(G,!1),B(lt,function(t){G.style[t[0]]=""}),I(t,H),d(t,H),Object.keys(z).length&&B(z,function(t,e){t?G.style.setProperty(e,t):G.style.removeProperty(e)}),H.onDone&&H.onDone(),pt&&pt.length&&t.off(pt.join(" "),F),K&&K.complete(!e))}function _(t){Ut.blockTransition&&x(G,t),Ut.blockKeyframeAnimation&&C(G,!!t)}function k(){return K=new r({end:l,cancel:h}),w(P),f(),{$$willAnimate:!1,start:function(){return K},end:l}}function F(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||Date.now(),i=parseFloat(e.elapsedTime.toFixed(_t));Math.max(n-ut,0)>=it&&i>=rt&&(Y=!0,f())}function q(){function e(){if(!W){if(_(!1),B(lt,function(t){var e=t[0],n=t[1];G.style[e]=n}),I(t,H),i.addClass(t,wt),Ut.recalculateTimingStyles){if($t=G.className+" "+xt,kt=b(G,$t),Mt=A(G,$t,kt),Pt=Mt.maxDelay,nt=Math.max(Pt,0),rt=Mt.maxDuration,0===rt)return void f();Ut.hasTransitions=Mt.transitionDuration>0,Ut.hasAnimations=Mt.animationDuration>0}if(Ut.applyAnimationDelay&&(Pt="boolean"!=typeof H.delay&&E(H.delay)?parseFloat(H.delay):Pt,nt=Math.max(Pt,0),Mt.animationDelay=Pt,Ft=T(Pt,!0),lt.push(Ft),G.style[Ft[0]]=Ft[1]),it=nt*yt,ot=rt*yt,H.easing){var e,r=H.easing;Ut.hasTransitions&&(e=D+at,lt.push([e,r]),G.style[e]=r),Ut.hasAnimations&&(e=j+at,lt.push([e,r]),G.style[e]=r)}Mt.transitionDuration&&pt.push(R),Mt.animationDuration&&pt.push(M),ut=Date.now();var s=it+St*ot,o=ut+s,a=t.data(bt)||[],l=!0;if(a.length){var c=a[0];l=o>c.expectedEndTime,l?u.cancel(c.timer):a.push(f)}if(l){var h=u(n,s,!1);a[0]={timer:h,expectedEndTime:o},a.push(f),t.data(bt,a)}pt.length&&t.on(pt.join(" "),F),H.to&&(H.cleanupStyles&&N(z,G,Object.keys(H.to)),g(t,H))}}function n(){var e=t.data(bt);if(e){for(var n=1;n<e.length;n++)e[n]();t.removeData(bt)}}if(!W){if(!G.parentNode)return void f();var r=function(t){if(Y)X&&t&&(X=!1,f());else if(X=!t,Mt.animationDuration){var e=C(G,X);X?lt.push(e):a(lt,e)}},s=Rt>0&&(Mt.transitionDuration&&0===At.transitionDuration||Mt.animationDuration&&0===At.animationDuration)&&Math.max(At.animationDelay,At.transitionDelay);s?u(e,Math.floor(s*Rt*yt),!1):e(),et.resume=function(){r(!0)},et.pause=function(){r(!1)}}}var H=n||{};H.$$prepared||(H=p(U(H)));var z={},G=y(t);if(!G||!G.parentNode||!v.enabled())return k();var W,X,Y,K,et,nt,it,rt,ot,ut,lt=[],ht=t.attr("class"),ft=s(H),pt=[];if(0===H.duration||!c.animations&&!c.transitions)return k();var dt=H.event&&V(H.event)?H.event.join(" "):H.event,mt=dt&&H.structural,gt="",vt="";mt?gt=o(dt,Z,!0):dt&&(gt=dt),H.addClass&&(vt+=o(H.addClass,Q)),H.removeClass&&(vt.length&&(vt+=" "),vt+=o(H.removeClass,J)),H.applyClassesEarly&&vt.length&&I(t,H);var xt=[gt,vt].join(" ").trim(),$t=ht+" "+xt,wt=o(xt,tt),Lt=ft.to&&Object.keys(ft.to).length>0,Tt=(H.keyframeStyle||"").length>0;if(!Tt&&!Lt&&!xt)return k();var kt,At;if(H.stagger>0){var Et=parseFloat(H.stagger);At={transitionDelay:Et,animationDelay:Et,transitionDuration:0,animationDuration:0}}else kt=b(G,$t),At=S(G,xt,kt,Ct);H.$$skipPreparationClasses||i.addClass(t,xt);var Ot;if(H.transitionStyle){var It=[D,H.transitionStyle];$(G,It),lt.push(It)}if(H.duration>=0){Ot=G.style[D].length>0;var Nt=O(H.duration,Ot);$(G,Nt),lt.push(Nt)}if(H.keyframeStyle){var Dt=[j,H.keyframeStyle];$(G,Dt),lt.push(Dt)}var Rt=At?H.staggerIndex>=0?H.staggerIndex:e.count(kt):0,jt=0===Rt;jt&&!H.skipBlocking&&x(G,ct);var Mt=A(G,$t,kt),Pt=Mt.maxDelay;nt=Math.max(Pt,0),rt=Mt.maxDuration;var Ut={};if(Ut.hasTransitions=Mt.transitionDuration>0,Ut.hasAnimations=Mt.animationDuration>0,Ut.hasTransitionAll=Ut.hasTransitions&&"all"==Mt.transitionProperty,Ut.applyTransitionDuration=Lt&&(Ut.hasTransitions&&!Ut.hasTransitionAll||Ut.hasAnimations&&!Ut.hasTransitions),Ut.applyAnimationDuration=H.duration&&Ut.hasAnimations,Ut.applyTransitionDelay=E(H.delay)&&(Ut.applyTransitionDuration||Ut.hasTransitions),Ut.applyAnimationDelay=E(H.delay)&&Ut.hasAnimations,Ut.recalculateTimingStyles=vt.length>0,(Ut.applyTransitionDuration||Ut.applyAnimationDuration)&&(rt=H.duration?parseFloat(H.duration):rt,Ut.applyTransitionDuration&&(Ut.hasTransitions=!0,Mt.transitionDuration=rt,Ot=G.style[D+st].length>0,lt.push(O(rt,Ot))),Ut.applyAnimationDuration&&(Ut.hasAnimations=!0,Mt.animationDuration=rt,lt.push(L(rt)))),0===rt&&!Ut.recalculateTimingStyles)return k();if(null!=H.delay){var Ft;"boolean"!=typeof H.delay&&(Ft=parseFloat(H.delay),nt=Math.max(Ft,0)),Ut.applyTransitionDelay&&lt.push(T(Ft)),Ut.applyAnimationDelay&&lt.push(T(Ft,!0))}return null==H.duration&&Mt.transitionDuration>0&&(Ut.recalculateTimingStyles=Ut.recalculateTimingStyles||jt),it=nt*yt,ot=rt*yt,H.skipBlocking||(Ut.blockTransition=Mt.transitionDuration>0,Ut.blockKeyframeAnimation=Mt.animationDuration>0&&At.animationDelay>0&&0===At.animationDuration),H.from&&(H.cleanupStyles&&N(z,G,Object.keys(H.from)),m(t,H)),Ut.blockTransition||Ut.blockKeyframeAnimation?_(rt):H.skipBlocking||x(G,!1),{$$willAnimate:!0,end:l,start:function(){return W?void 0:(et={end:l,cancel:h,resume:null,pause:null},K=new r(et),w(q),K)}}}}]}],wt=["$$animationProvider",function(t){function e(t){return t.parentNode&&11===t.parentNode.nodeType}t.drivers.push("$$animateCssDriver");var n="ng-animate-shim",i="ng-anchor",r="ng-anchor-out",s="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(t,o,a,u,l,c,h){function p(t){return t.replace(/\bng-\S+\b/g,"")}function d(t,e){return H(t)&&(t=t.split(" ")),H(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function m(e,o,u){function l(t){var e={},n=y(t).getBoundingClientRect();return B(["width","height","top","left"],function(t){var i=n[t];switch(t){case"top":i+=b.scrollTop;break;case"left":i+=b.scrollLeft}e[t]=Math.floor(i)+"px"}),e}function c(){var e=t(g,{addClass:r,delay:!0,from:l(o)});return e.$$willAnimate?e:null}function h(t){return t.attr("class")||""}function f(){var e=p(h(u)),n=d(e,v),i=d(v,e),o=t(g,{to:l(u),addClass:s+" "+n,removeClass:r+" "+i,delay:!0});return o.$$willAnimate?o:null}function m(){g.remove(),o.removeClass(n),u.removeClass(n)}var g=q(y(o).cloneNode(!0)),v=p(h(g));o.addClass(n),u.addClass(n),g.addClass(i),S.append(g);var _,x=c();if(!x&&(_=f(),!_))return m();var C=x||_;return{start:function(){function t(){n&&n.end()}var e,n=C.start();return n.done(function(){return n=null,!_&&(_=f())?(n=_.start(),n.done(function(){n=null,m(),e.complete()}),n):(m(),void e.complete())}),e=new a({end:t,cancel:t})}}}function g(t,e,n,i){var r=v(t,P),s=v(e,P),o=[];return B(i,function(t){var e=t.out,i=t["in"],r=m(n,e,i);r&&o.push(r)}),r||s||0!==o.length?{start:function(){function t(){B(e,function(t){t.end()})}var e=[];r&&e.push(r.start()),s&&e.push(s.start()),B(o,function(t){e.push(t.start())});var n=new a({end:t,cancel:t});return a.all(e,function(t){n.complete(t)}),n}}:void 0}function v(e){var n=e.element,i=e.options||{};e.structural&&(i.event=e.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===e.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=w(i.event,i.preparationClasses));var r=t(n,i);return r.$$willAnimate?r:null}if(!l.animations&&!l.transitions)return P;var b=h[0].body,_=y(u),S=q(e(_)||b.contains(_)?_:b);f(c);return function(t){return t.from&&t.to?g(t.from,t.to,t.classes,t.anchors):v(t)}}]}],Lt=["$animateProvider",function(t){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(e,n,i){function r(n){n=V(n)?n:n.split(" ");for(var i=[],r={},s=0;s<n.length;s++){var o=n[s],a=t.$$registeredAnimations[o];a&&!r[o]&&(i.push(e.get(a)),r[o]=!0)}return i}var s=f(i);return function(t,e,i,o){function a(){o.domOperation(),s(t,o)}function u(){f=!0,a(),d(t,o)}function l(t,e,i,r,s){var o;switch(i){case"animate":o=[e,r.from,r.to,s];break;case"setClass":o=[e,v,b,s];break;case"addClass":o=[e,v,s];break;case"removeClass":o=[e,b,s];break;default:o=[e,s]}o.push(r);var a=t.apply(t,o);if(a)if(X(a.start)&&(a=a.start()),a instanceof n)a.done(s);else if(X(a))return a;return P}function c(t,e,i,r,s){var o=[];return B(r,function(r){var a=r[s];a&&o.push(function(){var r,s,o=!1,u=function(t){o||(o=!0,(s||P)(t),r.complete(!t))};return r=new n({end:function(){u()},cancel:function(){u(!0)}}),s=l(a,t,e,i,function(t){var e=t===!1;u(e)}),r})}),o}function h(t,e,i,r,s){var o=c(t,e,i,r,s);if(0===o.length){var a,u;"beforeSetClass"===s?(a=c(t,"removeClass",i,r,"beforeRemoveClass"),u=c(t,"addClass",i,r,"beforeAddClass")):"setClass"===s&&(a=c(t,"removeClass",i,r,"removeClass"),u=c(t,"addClass",i,r,"addClass")),a&&(o=o.concat(a)),u&&(o=o.concat(u))}if(0!==o.length)return function(t){var e=[];return o.length&&B(o,function(t){e.push(t())}),e.length?n.all(e,t):t(),function(t){B(e,function(e){t?e.cancel():e.end()})}}}var f=!1;3===arguments.length&&z(i)&&(o=i,i=null),o=p(o),i||(i=t.attr("class")||"",o.addClass&&(i+=" "+o.addClass),o.removeClass&&(i+=" "+o.removeClass));var m,g,v=o.addClass,b=o.removeClass,y=r(i);if(y.length){var _,S;"leave"==e?(S="leave",_="afterLeave"):(S="before"+e.charAt(0).toUpperCase()+e.substr(1),_=e),"enter"!==e&&"move"!==e&&(m=h(t,e,o,y,S)),g=h(t,e,o,y,_)}if(m||g){var x;return{$$willAnimate:!0,end:function(){return x?x.end():(u(),x=new n,x.complete(!0)),x},start:function(){function t(t){u(t),x.complete(t)}function e(e){f||((i||P)(e),t(e))}if(x)return x;x=new n;var i,r=[];return m&&r.push(function(t){i=m(t)}),r.length?r.push(function(t){a(),t(!0)}):a(),g&&r.push(function(t){i=g(t)}),x.setHost({end:function(){e()},cancel:function(){e(!0)}}),n.chain(r,t),x}}}}}]}],Tt=["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,e){function n(e){var n=e.element,i=e.event,r=e.options,s=e.classes;return t(n,i,s,r)}return function(t){if(t.from&&t.to){var i=n(t.from),r=n(t.to);if(!i&&!r)return;return{start:function(){function t(){return function(){B(s,function(t){t.end()})}}function n(t){o.complete(t)}var s=[];i&&s.push(i.start()),r&&s.push(r.start()),e.all(s,n);var o=new e({end:t(),cancel:t()});return o}}}return n(t)}}]}],kt="data-ng-animate",At="$ngAnimatePin",Et=["$animateProvider",function(t){function e(t){if(!t)return null;var e=t.split(c),n=Object.create(null);return B(e,function(t){n[t]=!0}),n}function n(t,n){if(t&&n){var i=e(n);return t.split(c).some(function(t){return i[t]})}}function r(t,e,n,i){return h[t].some(function(t){return t(e,n,i)})}function s(t,e){t=t||{};var n=(t.addClass||"").length>0,i=(t.removeClass||"").length>0;return e?n&&i:n||i}var o=1,a=2,c=" ",h=this.rules={skip:[],cancel:[],join:[]};h.join.push(function(t,e,n){return!e.structural&&s(e.options)}),h.skip.push(function(t,e,n){return!e.structural&&!s(e.options)}),h.skip.push(function(t,e,n){return"leave"==n.event&&e.structural}),h.skip.push(function(t,e,n){return n.structural&&n.state===a&&!e.structural}),h.cancel.push(function(t,e,n){return n.structural&&e.structural}),h.cancel.push(function(t,e,n){return n.state===a&&e.structural}),h.cancel.push(function(t,e,i){var r=e.options.addClass,s=e.options.removeClass,o=i.options.addClass,a=i.options.removeClass;return G(r)&&G(s)||G(o)&&G(a)?!1:n(r,a)||n(s,o)}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(e,n,c,h,m,g,b,x,C,$){function w(){var t=!1;return function(e){t?e():n.$$postDigest(function(){t=!0,e()})}}function L(t,e){return v(t,e,{})}function T(t,e,n){var i=y(e),r=y(t),s=[],o=P[n];return o&&B(o,function(t){Z.call(t.node,i)?s.push(t.callback):"leave"===n&&Z.call(t.node,r)&&s.push(t.callback)}),s}function k(t,i,l){function c(n,i,r,s){k(function(){var n=T(x,t,i);n.length&&e(function(){B(n,function(e){e(t,r,s)})})}),n.progress(i,r,s)}function f(e){S(t,C),J(t,C),d(t,C),C.domOperation(),$.complete(!e)}var m,x,C=U(l);t=u(t),t&&(m=y(t),x=t.parent()),C=p(C);var $=new b,k=w();if(V(C.addClass)&&(C.addClass=C.addClass.join(" ")),C.addClass&&!H(C.addClass)&&(C.addClass=null),V(C.removeClass)&&(C.removeClass=C.removeClass.join(" ")),C.removeClass&&!H(C.removeClass)&&(C.removeClass=null),C.from&&!z(C.from)&&(C.from=null),C.to&&!z(C.to)&&(C.to=null),!m)return f(),$;var O=[m.className,C.addClass,C.removeClass].join(" ");if(!Q(O))return f(),$;var M=["enter","move","leave"].indexOf(i)>=0,P=!j||h[0].hidden||R.get(m),F=!P&&D.get(m)||{},q=!!F.state;if(P||q&&F.state==o||(P=!I(t,x,i)),P)return f(),$;M&&A(t);var G={structural:M,element:t,event:i,close:f,options:C,runner:$};if(q){var W=r("skip",t,G,F);if(W)return F.state===a?(f(),$):(v(t,F.options,C),F.runner);var X=r("cancel",t,G,F);if(X)if(F.state===a)F.runner.end();else{if(!F.structural)return v(t,F.options,G.options),F.runner;F.close()}else{var Y=r("join",t,G,F);if(Y){if(F.state!==a)return _(t,M?i:null,C),i=G.event=F.event,C=v(t,F.options,G.options),F.runner;L(t,C)}}}else L(t,C);var K=G.structural;if(K||(K="animate"===G.event&&Object.keys(G.options.to||{}).length>0||s(G.options)),!K)return f(),E(t),$;var Z=(F.counter||0)+1;return G.counter=Z,N(t,o,G),n.$$postDigest(function(){var e=D.get(m),n=!e;e=e||{};var r=t.parent()||[],o=r.length>0&&("animate"===e.event||e.structural||s(e.options));if(n||e.counter!==Z||!o)return n&&(J(t,C),d(t,C)),(n||M&&e.event!==i)&&(C.domOperation(),$.end()),void(o||E(t));i=!e.structural&&s(e.options,!0)?"setClass":e.event,N(t,a);var u=g(t,i,e.options);u.done(function(e){f(!e);var n=D.get(m);n&&n.counter===Z&&E(y(t)),c($,i,"close",{})}),$.setHost(u),c($,i,"start",{})}),$}function A(t){var e=y(t),n=e.querySelectorAll("["+kt+"]");B(n,function(t){var e=parseInt(t.getAttribute(kt)),n=D.get(t);if(n)switch(e){case a:n.runner.end();case o:D.remove(t)}})}function E(t){var e=y(t);e.removeAttribute(kt),D.remove(e)}function O(t,e){return y(t)===y(e)}function I(t,e,n){var i,r=q(h[0].body),s=O(t,r)||"HTML"===t[0].nodeName,o=O(t,c),a=!1,u=R.get(y(t)),l=t.data(At);for(l&&(e=l);e&&e.length;){o||(o=O(e,c));var f=e[0];if(f.nodeType!==K)break;var p=D.get(f)||{};if(!a){var d=R.get(f);if(d===!0&&u!==!1){u=!0;break}d===!1&&(u=!1),a=p.structural}if(G(i)||i===!0){var m=e.data(nt);W(m)&&(i=m)}if(a&&i===!1)break;if(s||(s=O(e,r)),s&&o)break;e=o||!(l=e.data(At))?e.parent():l}var g=(!a||i)&&u!==!0;return g&&o&&s}function N(t,e,n){n=n||{},n.state=e;var i=y(t);i.setAttribute(kt,e);var r=D.get(i),s=r?F(r,n):n;D.put(i,s)}var D=new m,R=new m,j=null,M=n.$watch(function(){return 0===x.totalPendingRequests},function(t){t&&(M(),n.$$postDigest(function(){n.$$postDigest(function(){null===j&&(j=!0)})}))}),P={},X=t.classNameFilter(),Q=X?function(t){return X.test(t)}:function(){return!0},J=f(C),Z=Node.prototype.contains||function(t){return this===t||!!(16&this.compareDocumentPosition(t))};return{on:function(t,e,n){var i=l(e);P[t]=P[t]||[],P[t].push({node:i,callback:n})},off:function(t,e,n){function i(t,e,n){var i=l(e);return t.filter(function(t){var e=t.node===i&&(!n||t.callback===n);return!e})}var r=P[t];r&&(P[t]=1===arguments.length?null:i(r,e,n))},pin:function(t,e){i(Y(t),"element","not an element"),i(Y(e),"parentElement","not an element"),t.data(At,e)},push:function(t,e,n,i){return n=n||{},n.domOperation=i,k(t,e,n)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!j;else{var i=Y(t);if(i){var r=y(t),s=R.get(r);1===n?e=!s:R.put(r,!e)}else e=j=!!t}return e}}}]}],Ot=["$animateProvider",function(t){function e(t,e){t.data(a,e)}function n(t){t.removeData(a)}function i(t){return t.data(a)}var s="ng-animate-ref",o=this.drivers=[],a="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(t,a,u,l,c,h){function m(t){function e(t){if(t.processed)return t;t.processed=!0;var n=t.domNode,i=n.parentNode;s.put(n,t);for(var o;i;){if(o=s.get(i)){o.processed||(o=e(o));break}i=i.parentNode}return(o||r).children.push(t),t}function n(t){var e,n=[],i=[];for(e=0;e<t.children.length;e++)i.push(t.children[e]);var r=i.length,s=0,o=[];for(e=0;e<i.length;e++){var a=i[e];0>=r&&(r=s,s=0,n.push(o),o=[]),o.push(a.fn),a.children.forEach(function(t){s++,i.push(t)}),r--}return o.length&&n.push(o),n}var i,r={children:[]},s=new c;for(i=0;i<t.length;i++){var o=t[i];s.put(o.domNode,t[i]={domNode:o.domNode,fn:o.fn,children:[]})}for(i=0;i<t.length;i++)e(t[i]);return n(r)}var g=[],v=f(t);return function(c,f,b){function _(t){var e="["+s+"]",n=t.hasAttribute(s)?[t]:t.querySelectorAll(e),i=[];return B(n,function(t){var e=t.getAttribute(s);e&&e.length&&i.push(t)}),i}function S(t){var e=[],n={};B(t,function(t,i){var r=t.element,o=y(r),a=t.event,u=["enter","move"].indexOf(a)>=0,l=t.structural?_(o):[];if(l.length){var c=u?"to":"from";B(l,function(t){var e=t.getAttribute(s);n[e]=n[e]||{},n[e][c]={animationID:i,element:q(t)}})}else e.push(t)});var i={},r={};return B(n,function(n,s){var o=n.from,a=n.to;if(!o||!a){var u=o?o.animationID:a.animationID,l=u.toString();return void(i[l]||(i[l]=!0,e.push(t[u])))}var c=t[o.animationID],h=t[a.animationID],f=o.animationID.toString();if(!r[f]){var p=r[f]={structural:!0,beforeStart:function(){c.beforeStart(),h.beforeStart()},close:function(){c.close(),h.close()},classes:x(c.classes,h.classes),from:c,to:h,anchors:[]};p.classes.length?e.push(p):(e.push(c),e.push(h))}r[f].anchors.push({out:o.element,"in":a.element})}),e}function x(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],i=0;i<t.length;i++){var r=t[i];if("ng-"!==r.substring(0,3))for(var s=0;s<e.length;s++)if(r===e[s]){n.push(r);break}}return n.join(" ")}function C(t){for(var e=o.length-1;e>=0;e--){var n=o[e];if(u.has(n)){var i=u.get(n),r=i(t);if(r)return r}}}function $(){c.addClass(et),O&&t.addClass(c,O)}function w(t,e){function n(t){i(t).setHost(e)}t.from&&t.to?(n(t.from.element),n(t.to.element)):n(t.element)}function L(){var t=i(c);!t||"leave"===f&&b.$$domOperationFired||t.end()}function T(e){c.off("$destroy",L),n(c),v(c,b),d(c,b),b.domOperation(),O&&t.removeClass(c,O),c.removeClass(et),A.complete(!e)}b=p(b);var k=["enter","move","leave"].indexOf(f)>=0,A=new l({end:function(){T()},cancel:function(){T(!0)}});if(!o.length)return T(),A;e(c,A);var E=r(c.attr("class"),r(b.addClass,b.removeClass)),O=b.tempClasses;return O&&(E+=" "+O,b.tempClasses=null),g.push({element:c,classes:E,event:f,structural:k,options:b,beforeStart:$,close:T}),c.on("$destroy",L),g.length>1?A:(a.$$postDigest(function(){var t=[];B(g,function(e){i(e.element)?t.push(e):e.close()}),g.length=0;var e=S(t),n=[];B(e,function(t){n.push({domNode:y(t.from?t.from.element:t.element),fn:function(){t.beforeStart();var e,n=t.close,r=t.anchors?t.from.element||t.to.element:t.element;if(i(r)){var s=C(t);s&&(e=s.start)}if(e){var o=e();o.done(function(t){n(!t)}),w(t,o)}else n()}})}),h(m(n))}),A)}}]}];e.module("ngAnimate",[]).directive("ngAnimateChildren",vt).factory("$$rAFScheduler",gt).provider("$$animateQueue",Et).provider("$$animation",Ot).provider("$animateCss",$t).provider("$$animateCssDriver",wt).provider("$$animateJs",Lt).provider("$$animateJsDriver",Tt)}(window,window.angular),/**
 * @license AngularJS v1.4.9
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function i(){function t(t,e,i,r){return function(s,a,u){var l=u.$normalize(e);!n[l]||o(a,i)||u[l]||s.$watch(u[t],function(t){t=r?!t:!!t,a.attr(e,t)})}}var n={ariaHidden:!0,ariaChecked:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaMultiline:!0,ariaValue:!0,tabindex:!0,bindKeypress:!0,bindRoleForClick:!0};this.config=function(t){n=e.extend(n,t)},this.$get=function(){return{config:function(t){return n[t]},$$watchExpr:t}}}var r=e.module("ngAria",["ng"]).provider("$aria",i),s=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"],o=function(t,e){return-1!==e.indexOf(t[0].nodeName)?!0:void 0};r.directive("ngShow",["$aria",function(t){return t.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(t){return t.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngModel",["$aria",function(t){function e(e,n,i){return t.config(n)&&!i.attr(e)}function n(t,e){return!e.attr("role")&&e.attr("type")===t&&"INPUT"!==e[0].nodeName}function i(t,e){var n=t.type,i=t.role;return"checkbox"===(n||i)||"menuitemcheckbox"===i?"checkbox":"radio"===(n||i)||"menuitemradio"===i?"radio":"range"===n||"progressbar"===i||"slider"===i?"range":"textbox"===(n||i)||"TEXTAREA"===e[0].nodeName?"multiline":""}return{restrict:"A",require:"?ngModel",priority:200,compile:function(r,a){var u=i(a,r);return{pre:function(t,e,n,i){"checkbox"===u&&"checkbox"!==n.type&&(i.$isEmpty=function(t){return t===!1})},post:function(i,r,a,l){function c(){return l.$modelValue}function h(){return p?(p=!1,function(t){var e=a.value==l.$viewValue;r.attr("aria-checked",e),r.attr("tabindex",0-!e)}):function(t){r.attr("aria-checked",a.value==l.$viewValue)}}function f(){r.attr("aria-checked",!l.$isEmpty(l.$viewValue))}var p=e("tabindex","tabindex",r)&&!o(r,s);switch(u){case"radio":case"checkbox":n(u,r)&&r.attr("role",u),e("aria-checked","ariaChecked",r)&&i.$watch(c,"radio"===u?h():f),p&&r.attr("tabindex",0);break;case"range":if(n(u,r)&&r.attr("role","slider"),t.config("ariaValue")){var d=!r.attr("aria-valuemin")&&(a.hasOwnProperty("min")||a.hasOwnProperty("ngMin")),m=!r.attr("aria-valuemax")&&(a.hasOwnProperty("max")||a.hasOwnProperty("ngMax")),g=!r.attr("aria-valuenow");d&&a.$observe("min",function(t){r.attr("aria-valuemin",t)}),m&&a.$observe("max",function(t){r.attr("aria-valuemax",t)}),g&&i.$watch(c,function(t){r.attr("aria-valuenow",t)})}p&&r.attr("tabindex",0);break;case"multiline":e("aria-multiline","ariaMultiline",r)&&r.attr("aria-multiline",!0)}l.$validators.required&&e("aria-required","ariaRequired",r)&&i.$watch(function(){return l.$error.required},function(t){r.attr("aria-required",!!t)}),e("aria-invalid","ariaInvalid",r)&&i.$watch(function(){return l.$invalid},function(t){r.attr("aria-invalid",!!t)})}}}}}]).directive("ngDisabled",["$aria",function(t){return t.$$watchExpr("ngDisabled","aria-disabled",[])}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(t,e,n,i){e.attr("aria-live")||e.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(t,e){return{restrict:"A",compile:function(n,i){var r=e(i.ngClick,null,!0);return function(e,n,i){o(n,s)||(t.config("bindRoleForClick")&&!n.attr("role")&&n.attr("role","button"),t.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0),t.config("bindKeypress")&&!i.ngKeypress&&n.on("keypress",function(t){function n(){r(e,{$event:t})}var i=t.which||t.keyCode;(32===i||13===i)&&e.$apply(n)}))}}}}]).directive("ngDblclick",["$aria",function(t){return function(e,n,i){!t.config("tabindex")||n.attr("tabindex")||o(n,s)||n.attr("tabindex",0)}}])}(window,window.angular),/**
 * @license AngularJS v1.4.9
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function i(t,n,i){function r(t,i,r){var o,a;r=r||{},a=r.expires,o=e.isDefined(r.path)?r.path:s,e.isUndefined(i)&&(a="Thu, 01 Jan 1970 00:00:00 GMT",i=""),e.isString(a)&&(a=new Date(a));var u=encodeURIComponent(t)+"="+encodeURIComponent(i);u+=o?";path="+o:"",u+=r.domain?";domain="+r.domain:"",u+=a?";expires="+a.toUTCString():"",u+=r.secure?";secure":"";var l=u.length+1;return l>4096&&n.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+l+" > 4096 bytes)!"),u}var s=i.baseHref(),o=t[0];return function(t,e,n){o.cookie=r(t,e,n)}}e.module("ngCookies",["ng"]).provider("$cookies",[function(){function t(t){return t?e.extend({},i,t):i}var i=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(i,r){return{get:function(t){return i()[t]},getObject:function(t){var n=this.get(t);return n?e.fromJson(n):n},getAll:function(){return i()},put:function(e,n,i){r(e,n,t(i))},putObject:function(t,n,i){this.put(t,e.toJson(n),i)},remove:function(e,i){r(e,n,t(i))}}}]}]),e.module("ngCookies").factory("$cookieStore",["$cookies",function(t){return{get:function(e){return t.getObject(e)},put:function(e,n){t.putObject(e,n)},remove:function(e){t.remove(e)}}}]),i.$inject=["$document","$log","$browser"],e.module("ngCookies").provider("$$cookieWriter",function(){this.$get=i})}(window,window.angular),angular.module("rt.debounce",[]).factory("debounce",["$timeout",function(t){return function(e,n){function i(){l=n.apply(u||this,a||[]),u=a=null}function r(){c&&(t.cancel(c),c=null)}function s(){u=this,a=arguments,r(),c=t(i,e)}function o(){var t=!!u;return t&&(r(),i()),t}var a,u,l,c;return s.flush=function(){return o()||c||i(),l},s.flushPending=function(){return o(),l},s.cancel=r,s}}]),/**
 * @license AngularJS v1.4.9
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function i(t){function e(t,e){return t?r(t)?t.indexOf(e)>=0:t.hasOwnProperty(e):void 0}return["$animate",function(t){return{restrict:"AE",transclude:"element",terminal:!0,require:"^^ngMessages",link:function(n,i,s,o,a){var u,l=i[0],c=s.ngMessage||s.when,h=s.ngMessageExp||s.whenExp,f=function(t){u=t?r(t)?t:t.split(/[\s,]+/):null,o.reRender()};h?(f(n.$eval(h)),n.$watchCollection(h,f)):f(c);var p,d;o.register(l,d={test:function(t){return e(u,t)},attach:function(){p||a(n,function(e){t.enter(e,null,i),p=e;var n=p.$$attachId=o.getAttachId();p.on("$destroy",function(){p&&p.$$attachId===n&&(o.deregister(l),d.detach())})})},detach:function(){if(p){var e=p;p=null,t.leave(e)}}})}}}]}var r=e.isArray,s=e.forEach,o=e.isString,a=e.element;e.module("ngMessages",[]).directive("ngMessages",["$animate",function(t){function e(t,e){return o(e)&&0===e.length||n(t.$eval(e))}function n(t){return o(t)?t.length:!!t}var i="ng-active",r="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(o,a,u){function l(t,e){for(var n=e,i=[];n&&n!==t;){var r=n.$$ngMessageNode;if(r&&r.length)return v[r];n.childNodes.length&&-1==i.indexOf(n)?(i.push(n),n=n.childNodes[n.childNodes.length-1]):n=n.previousSibling||n.parentNode}}function c(t,e,n){var i=v[n];if(f.head){var r=l(t,e);r?(i.next=r.next,r.next=i):(i.next=f.head,f.head=i)}else f.head=i}function h(t,e,n){var i=v[n],r=l(t,e);r?r.next=i.next:f.head=i.next}var f=this,p=0,d=0;this.getAttachId=function(){return d++};var m,g,v=this.messages={};this.render=function(l){l=l||{},m=!1,g=l;for(var c=e(a,u.ngMessagesMultiple)||e(a,u.multiple),h=[],p={},d=f.head,v=!1,b=0;null!=d;){b++;var y=d.message,_=!1;v||s(l,function(t,e){if(!_&&n(t)&&y.test(e)){if(p[e])return;p[e]=!0,_=!0,y.attach()}}),_?v=!c:h.push(y),d=d.next}s(h,function(t){t.detach()}),h.length!==b?t.setClass(o,i,r):t.setClass(o,r,i)},a.$watchCollection(u.ngMessages||u["for"],f.render),this.reRender=function(){m||(m=!0,a.$evalAsync(function(){m&&g&&f.render(g)}))},this.register=function(t,e){var n=p.toString();v[n]={message:e},c(o[0],t,n),t.$$ngMessageNode=n,p++,f.reRender()},this.deregister=function(t){var e=t.$$ngMessageNode;delete t.$$ngMessageNode,h(o[0],t,e),delete v[e],f.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(t,e,n){return{restrict:"AE",require:"^^ngMessages",link:function(i,r,s){var o=s.ngMessagesInclude||s.src;t(o).then(function(t){n(t)(i,function(t){r.after(t);var n=a(e[0].createComment(" ngMessagesInclude: "+o+" "));r.after(n),r.remove()})})}}}]).directive("ngMessage",i("AE")).directive("ngMessageExp",i("A"))}(window,window.angular),/**
 * @license AngularJS v1.4.9
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function i(t){return null!=t&&""!==t&&"hasOwnProperty"!==t&&a.test("."+t)}function r(t,r){if(!i(r))throw o("badmember",'Dotted member path "@{0}" is invalid.',r);for(var s=r.split("."),a=0,u=s.length;u>a&&e.isDefined(t);a++){var l=s[a];t=null!==t?t[l]:n}return t}function s(t,n){n=n||{},e.forEach(n,function(t,e){delete n[e]});for(var i in t)!t.hasOwnProperty(i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(n[i]=t[i]);return n}var o=e.$$minErr("$resource"),a=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;e.module("ngResource",["ng"]).provider("$resource",function(){var t=/^https?:\/\/[^\/]*/,i=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$log","$q",function(a,u,l){function c(t){return h(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function h(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}function f(t,e){this.template=t,this.defaults=g({},i.defaults,e),this.urlParams={}}function p(t,c,h,y){function _(t,e){var n={};return e=g({},c,e),m(e,function(e,i){b(e)&&(e=e()),n[i]=e&&e.charAt&&"@"==e.charAt(0)?r(t,e.substr(1)):e}),n}function S(t){return t.resource}function x(t){s(t||{},this)}var C=new f(t,y);return h=g({},i.defaults.actions,h),x.prototype.toJSON=function(){var t=g({},this);return delete t.$promise,delete t.$resolved,t},m(h,function(t,i){var r=/^(POST|PUT|PATCH)$/i.test(t.method);x[i]=function(c,h,f,p){var y,$,w,L={};switch(arguments.length){case 4:w=p,$=f;case 3:case 2:if(!b(h)){L=c,y=h,$=f;break}if(b(c)){$=c,w=h;break}$=h,w=f;case 1:b(c)?$=c:r?y=c:L=c;break;case 0:break;default:throw o("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var T=this instanceof x,k=T?y:t.isArray?[]:new x(y),A={},E=t.interceptor&&t.interceptor.response||S,O=t.interceptor&&t.interceptor.responseError||n;m(t,function(t,n){switch(n){default:A[n]=v(t);break;case"params":case"isArray":case"interceptor":break;case"timeout":t&&!e.isNumber(t)&&u.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests.\n  If you need support for cancellable $resource actions, you should upgrade to version 1.5 or higher.")}}),r&&(A.data=y),C.setUrlParams(A,g({},_(y,t.params||{}),L),t.url);var I=a(A).then(function(n){var r=n.data,a=k.$promise;if(r){if(e.isArray(r)!==!!t.isArray)throw o("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",i,t.isArray?"array":"object",e.isArray(r)?"array":"object",A.method,A.url);t.isArray?(k.length=0,m(r,function(t){"object"==typeof t?k.push(new x(t)):k.push(t)})):(s(r,k),k.$promise=a)}return k.$resolved=!0,n.resource=k,n},function(t){return k.$resolved=!0,(w||d)(t),l.reject(t)});return I=I.then(function(t){var e=E(t);return($||d)(e,t.headers),e},O),T?I:(k.$promise=I,k.$resolved=!1,k)},x.prototype["$"+i]=function(t,e,n){b(t)&&(n=e,e=t,t={});var r=x[i].call(this,t,this,e,n);return r.$promise||r}}),x.bind=function(e){return p(t,g({},c,e),h)},x}var d=e.noop,m=e.forEach,g=e.extend,v=e.copy,b=e.isFunction;return f.prototype={setUrlParams:function(n,i,r){var s,a,u=this,l=r||u.template,h="",f=u.urlParams={};m(l.split(/\W/),function(t){if("hasOwnProperty"===t)throw o("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(t)&&t&&new RegExp("(^|[^\\\\]):"+t+"(\\W|$)").test(l)&&(f[t]=!0)}),l=l.replace(/\\:/g,":"),l=l.replace(t,function(t){return h=t,""}),i=i||{},m(u.urlParams,function(t,n){s=i.hasOwnProperty(n)?i[n]:u.defaults[n],e.isDefined(s)&&null!==s?(a=c(s),l=l.replace(new RegExp(":"+n+"(\\W|$)","g"),function(t,e){return a+e})):l=l.replace(new RegExp("(/?):"+n+"(\\W|$)","g"),function(t,e,n){return"/"==n.charAt(0)?n:e+n})}),u.defaults.stripTrailingSlashes&&(l=l.replace(/\/+$/,"")||"/"),l=l.replace(/\/\.(?=\w+($|\?))/,"."),n.url=h+l.replace(/\/\\\./,"/."),m(i,function(t,e){u.urlParams[e]||(n.params=n.params||{},n.params[e]=t)})}},p}]})}(window,window.angular),/**
 * @license AngularJS v1.4.9
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";/*
 * HTML Parser By Misko Hevery (misko@hevery.com)
 * based on:  HTML Parser By John Resig (ejohn.org)
 * Original code by Erik Arvidsson, Mozilla Public License
 * http://erik.eae.net/simplehtmlparser/simplehtmlparser.js
 *
 * // Use like so:
 * htmlParser(htmlString, {
 *     start: function(tag, attrs, unary) {},
 *     end: function(tag) {},
 *     chars: function(text) {},
 *     comment: function(text) {}
 * });
 *
 */
function i(){this.$get=["$$sanitizeUri",function(t){return function(e){var n=[];return o(e,l(n,function(e,n){return!/^unsafe/.test(t(e,n))})),n.join("")}}]}function r(t){var n=[],i=l(n,e.noop);return i.chars(t),n.join("")}function s(t,n){var i,r={},s=t.split(",");for(i=0;i<s.length;i++)r[n?e.lowercase(s[i]):s[i]]=!0;return r}function o(t,n){function i(t,i,s,o){if(i=e.lowercase(i),w[i])for(;y.last()&&L[y.last()];)r("",y.last());$[i]&&y.last()==i&&r("",i),o=S[i]||!!o,o||y.push(i);var u={};s.replace(p,function(t,e,n,i,r){var s=n||i||r||"";u[e]=a(s)}),n.start&&n.start(i,u,o)}function r(t,i){var r,s=0;if(i=e.lowercase(i))for(s=y.length-1;s>=0&&y[s]!=i;s--);if(s>=0){for(r=y.length-1;r>=s;r--)n.end&&n.end(y[r]);y.length=s}}"string"!=typeof t&&(t=null===t||"undefined"==typeof t?"":""+t);var s,o,u,l,y=[],_=t;for(y.last=function(){return y[y.length-1]};t;){if(l="",o=!0,y.last()&&k[y.last()]?(t=t.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+y.last()+"[^>]*>","i"),function(t,e){return e=e.replace(g,"$1").replace(b,"$1"),n.chars&&n.chars(a(e)),""}),r("",y.last())):(0===t.indexOf("<!--")?(s=t.indexOf("--",4),s>=0&&t.lastIndexOf("-->",s)===s&&(n.comment&&n.comment(t.substring(4,s)),t=t.substring(s+3),o=!1)):v.test(t)?(u=t.match(v),u&&(t=t.replace(u[0],""),o=!1)):m.test(t)?(u=t.match(f),u&&(t=t.substring(u[0].length),u[0].replace(f,r),o=!1)):d.test(t)&&(u=t.match(h),u?(u[4]&&(t=t.substring(u[0].length),u[0].replace(h,i)),o=!1):(l+="<",t=t.substring(1))),o&&(s=t.indexOf("<"),l+=0>s?t:t.substring(0,s),t=0>s?"":t.substring(s),n.chars&&n.chars(a(l)))),t==_)throw c("badparse","The sanitizer was unable to parse the following block of html: {0}",t);_=t}r()}function a(t){return t?(D.innerHTML=t.replace(/</g,"&lt;"),D.textContent):""}function u(t){return t.replace(/&/g,"&amp;").replace(y,function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return"&#"+(1024*(e-55296)+(n-56320)+65536)+";"}).replace(_,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(t,n){var i=!1,r=e.bind(t,t.push);return{start:function(t,s,o){t=e.lowercase(t),!i&&k[t]&&(i=t),i||A[t]!==!0||(r("<"),r(t),e.forEach(s,function(i,s){var o=e.lowercase(s),a="img"===t&&"src"===o||"background"===o;N[o]!==!0||E[o]===!0&&!n(i,a)||(r(" "),r(s),r('="'),r(u(i)),r('"'))}),r(o?"/>":">"))},end:function(t){t=e.lowercase(t),i||A[t]!==!0||(r("</"),r(t),r(">")),t==i&&(i=!1)},chars:function(t){i||r(u(t))}}}var c=e.$$minErr("$sanitize"),h=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,f=/^<\/\s*([\w:-]+)[^>]*>/,p=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,d=/^</,m=/^<\//,g=/<!--(.*?)-->/g,v=/<!DOCTYPE([^>]*?)>/i,b=/<!\[CDATA\[(.*?)]]>/g,y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_=/([^\#-~| |!])/g,S=s("area,br,col,hr,img,wbr"),x=s("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),C=s("rp,rt"),$=e.extend({},C,x),w=e.extend({},x,s("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),L=e.extend({},C,s("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),T=s("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use"),k=s("script,style"),A=e.extend({},S,w,L,$,T),E=s("background,cite,href,longdesc,src,usemap,xlink:href"),O=s("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),I=s("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),N=e.extend({},E,I,O),D=document.createElement("pre");e.module("ngSanitize",[]).provider("$sanitize",i),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i;return function(s,o){function a(t){t&&p.push(r(t))}function u(t,n){p.push("<a "),e.isDefined(o)&&p.push('target="',o,'" '),p.push('href="',t.replace(/"/g,"&quot;"),'">'),a(n),p.push("</a>")}if(!s)return s;for(var l,c,h,f=s,p=[];l=f.match(n);)c=l[0],l[2]||l[4]||(c=(l[3]?"http://":"mailto:")+c),h=l.index,a(f.substr(0,h)),u(c,l[0].replace(i,"")),f=f.substring(h+l[0].length);return a(f),t(p.join(""))}}])}(window,window.angular),/**
 * @license AngularJS v1.4.9
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function i(t){return e.lowercase(t.nodeName||t[0]&&t[0].nodeName)}function r(t,n,i){s.directive(t,["$parse","$swipe",function(r,s){var o=75,a=.3,u=30;return function(l,c,h){function f(t){if(!p)return!1;var e=Math.abs(t.y-p.y),i=(t.x-p.x)*n;return d&&o>e&&i>0&&i>u&&a>e/i}var p,d,m=r(h[t]),g=["touch"];e.isDefined(h.ngSwipeDisableMouse)||g.push("mouse"),s.bind(c,{start:function(t,e){p=t,d=!0},cancel:function(t){d=!1},end:function(t,e){f(t)&&l.$apply(function(){c.triggerHandler(i),m(l,{$event:e})})}},g)}}])}var s=e.module("ngTouch",[]);s.factory("$swipe",[function(){function t(t){var e=t.originalEvent||t,n=e.touches&&e.touches.length?e.touches:[e],i=e.changedTouches&&e.changedTouches[0]||n[0];return{x:i.clientX,y:i.clientY}}function n(t,n){var i=[];return e.forEach(t,function(t){var e=r[t][n];e&&i.push(e)}),i.join(" ")}var i=10,r={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(e,r,s){var o,a,u,l,c=!1;s=s||["mouse","touch"],e.on(n(s,"start"),function(e){u=t(e),c=!0,o=0,a=0,l=u,r.start&&r.start(u,e)});var h=n(s,"cancel");h&&e.on(h,function(t){c=!1,r.cancel&&r.cancel(t)}),e.on(n(s,"move"),function(e){if(c&&u){var n=t(e);if(o+=Math.abs(n.x-l.x),a+=Math.abs(n.y-l.y),l=n,!(i>o&&i>a))return a>o?(c=!1,void(r.cancel&&r.cancel(e))):(e.preventDefault(),void(r.move&&r.move(n,e)))}}),e.on(n(s,"end"),function(e){c&&(c=!1,r.end&&r.end(t(e),e))})}}}]),s.config(["$provide",function(t){t.decorator("ngClickDirective",["$delegate",function(t){return t.shift(),t}])}]),s.directive("ngClick",["$parse","$timeout","$rootElement",function(t,n,r){function s(t,e,n,i){return Math.abs(t-n)<g&&Math.abs(e-i)<g}function o(t,e,n){for(var i=0;i<t.length;i+=2)if(s(t[i],t[i+1],e,n))return t.splice(i,i+2),!0;return!1}function a(t){if(!(Date.now()-c>m)){var e=t.touches&&t.touches.length?t.touches:[t],n=e[0].clientX,r=e[0].clientY;1>n&&1>r||f&&f[0]===n&&f[1]===r||(f&&(f=null),"label"===i(t.target)&&(f=[n,r]),o(h,n,r)||(t.stopPropagation(),t.preventDefault(),t.target&&t.target.blur&&t.target.blur()))}}function u(t){var e=t.touches&&t.touches.length?t.touches:[t],i=e[0].clientX,r=e[0].clientY;h.push(i,r),n(function(){for(var t=0;t<h.length;t+=2)if(h[t]==i&&h[t+1]==r)return void h.splice(t,t+2)},m,!1)}function l(t,e){h||(r[0].addEventListener("click",a,!0),r[0].addEventListener("touchstart",u,!0),h=[]),c=Date.now(),o(h,t,e)}var c,h,f,p=750,d=12,m=2500,g=25,v="ng-click-active";return function(n,i,r){function s(){f=!1,i.removeClass(v)}var o,a,u,c,h=t(r.ngClick),f=!1;i.on("touchstart",function(t){f=!0,o=t.target?t.target:t.srcElement,3==o.nodeType&&(o=o.parentNode),i.addClass(v),a=Date.now();var e=t.originalEvent||t,n=e.touches&&e.touches.length?e.touches:[e],r=n[0];u=r.clientX,c=r.clientY}),i.on("touchcancel",function(t){s()}),i.on("touchend",function(t){var n=Date.now()-a,h=t.originalEvent||t,m=h.changedTouches&&h.changedTouches.length?h.changedTouches:h.touches&&h.touches.length?h.touches:[h],g=m[0],v=g.clientX,b=g.clientY,y=Math.sqrt(Math.pow(v-u,2)+Math.pow(b-c,2));f&&p>n&&d>y&&(l(v,b),o&&o.blur(),e.isDefined(r.disabled)&&r.disabled!==!1||i.triggerHandler("click",[t])),s()}),i.onclick=function(t){},i.on("click",function(t,e){n.$apply(function(){h(n,{$event:e||t})})}),i.on("mousedown",function(t){i.addClass(v)}),i.on("mousemove mouseup",function(t){i.removeClass(v)})}}]),r("ngSwipeLeft",-1,"swipeleft"),r("ngSwipeRight",1,"swiperight")}(window,window.angular),/**
 * State-based routing for AngularJS
 * @version v0.2.18
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(t,e,n){"use strict";function i(t,e){return V(new(V(function(){},{prototype:t})),e)}function r(t){return B(arguments,function(e){e!==t&&B(e,function(e,n){t.hasOwnProperty(n)||(t[n]=e)})}),t}function s(t,e){var n=[];for(var i in t.path){if(t.path[i]!==e.path[i])break;n.push(t.path[i])}return n}function o(t){if(Object.keys)return Object.keys(t);var e=[];return B(t,function(t,n){e.push(n)}),e}function a(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var n=t.length>>>0,i=Number(arguments[2])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=n);n>i;i++)if(i in t&&t[i]===e)return i;return-1}function u(t,e,n,i){var r,u=s(n,i),l={},c=[];for(var h in u)if(u[h]&&u[h].params&&(r=o(u[h].params),r.length))for(var f in r)a(c,r[f])>=0||(c.push(r[f]),l[r[f]]=t[r[f]]);return V({},l,e)}function l(t,e,n){if(!n){n=[];for(var i in t)n.push(i)}for(var r=0;r<n.length;r++){var s=n[r];if(t[s]!=e[s])return!1}return!0}function c(t,e){var n={};return B(t,function(t){n[t]=e[t]}),n}function h(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return B(n,function(n){n in t&&(e[n]=t[n])}),e}function f(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in t)-1==a(n,i)&&(e[i]=t[i]);return e}function p(t,e){var n=q(t),i=n?[]:{};return B(t,function(t,r){e(t,r)&&(i[n?i.length:r]=t)}),i}function d(t,e){var n=q(t)?[]:{};return B(t,function(t,i){n[i]=e(t,i)}),n}function m(t,e){var i=1,s=2,u={},l=[],c=u,h=V(t.when(u),{$$promises:u,$$values:u});this.study=function(u){function p(t,n){if(b[n]!==s){if(v.push(n),b[n]===i)throw v.splice(0,a(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(b[n]=i,U(t))g.push(n,[function(){return e.get(t)}],l);else{var r=e.annotate(t);B(r,function(t){t!==n&&u.hasOwnProperty(t)&&p(u[t],t)}),g.push(n,t,r)}v.pop(),b[n]=s}}function d(t){return F(t)&&t.then&&t.$$promises}if(!F(u))throw new Error("'invocables' must be an object");var m=o(u||{}),g=[],v=[],b={};return B(u,p),u=v=b=null,function(i,s,o){function a(){--_||(S||r(y,s.$$values),v.$$values=y,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,p.resolve(y))}function u(t){v.$$failure=t,p.reject(t)}function l(n,r,s){function l(t){h.reject(t),u(t)}function c(){if(!M(v.$$failure))try{h.resolve(e.invoke(r,o,y)),h.promise.then(function(t){y[n]=t,a()},l)}catch(t){l(t)}}var h=t.defer(),f=0;B(s,function(t){b.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(f++,b[t].then(function(e){y[t]=e,--f||c()},l))}),f||c(),b[n]=h.promise}if(d(i)&&o===n&&(o=s,s=i,i=null),i){if(!F(i))throw new Error("'locals' must be an object")}else i=c;if(s){if(!d(s))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else s=h;var p=t.defer(),v=p.promise,b=v.$$promises={},y=V({},i),_=1+g.length/3,S=!1;if(M(s.$$failure))return u(s.$$failure),v;s.$$inheritedValues&&r(y,f(s.$$inheritedValues,m)),V(b,s.$$promises),s.$$values?(S=r(y,f(s.$$values,m)),v.$$inheritedValues=f(s.$$values,m),a()):(s.$$inheritedValues&&(v.$$inheritedValues=f(s.$$inheritedValues,m)),s.then(a,u));for(var x=0,C=g.length;C>x;x+=3)i.hasOwnProperty(g[x])?a():l(g[x],g[x+1],g[x+2]);return v}},this.resolve=function(t,e,n,i){return this.study(t)(e,n,i)}}function g(t,e,n){this.fromConfig=function(t,e,n){return M(t.template)?this.fromString(t.template,e):M(t.templateUrl)?this.fromUrl(t.templateUrl,e):M(t.templateProvider)?this.fromProvider(t.templateProvider,e,n):null},this.fromString=function(t,e){return P(t)?t(e):t},this.fromUrl=function(n,i){return P(n)&&(n=n(i)),null==n?null:t.get(n,{cache:e,headers:{Accept:"text/html"}}).then(function(t){return t.data})},this.fromProvider=function(t,e,i){return n.invoke(t,null,i||{params:e})}}function v(t,e,r){function s(e,n,i,r){if(g.push(e),d[e])return d[e];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+t+"'");if(m[e])throw new Error("Duplicate parameter name '"+e+"' in pattern '"+t+"'");return m[e]=new G.Param(e,n,i,r),m[e]}function o(t,e,n,i){var r=["",""],s=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return s;switch(n){case!1:r=["(",")"+(i?"?":"")];break;case!0:s=s.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+n+"|",")?"]}return s+r[0]+e+r[1]}function a(r,s){var o,a,u,l,c;return o=r[2]||r[3],c=e.params[o],u=t.substring(f,r.index),a=s?r[4]:r[4]||("*"==r[1]?".*":null),a&&(l=G.type(a)||i(G.type("string"),{pattern:new RegExp(a,e.caseInsensitive?"i":n)})),{id:o,regexp:a,segment:u,type:l,cfg:c}}e=V({params:{}},F(e)?e:{});var u,l=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h="^",f=0,p=this.segments=[],d=r?r.params:{},m=this.params=r?r.params.$$new():new G.ParamSet,g=[];this.source=t;for(var v,b,y;(u=l.exec(t))&&(v=a(u,!1),!(v.segment.indexOf("?")>=0));)b=s(v.id,v.type,v.cfg,"path"),h+=o(v.segment,b.type.pattern.source,b.squash,b.isOptional),p.push(v.segment),f=l.lastIndex;y=t.substring(f);var _=y.indexOf("?");if(_>=0){var S=this.sourceSearch=y.substring(_);if(y=y.substring(0,_),this.sourcePath=t.substring(0,f+_),S.length>0)for(f=0;u=c.exec(S);)v=a(u,!0),b=s(v.id,v.type,v.cfg,"search"),f=l.lastIndex}else this.sourcePath=t,this.sourceSearch="";h+=o(y)+(e.strict===!1?"/?":"")+"$",p.push(y),this.regexp=new RegExp(h,e.caseInsensitive?"i":n),this.prefix=p[0],this.$$paramNames=g}function b(t){V(this,t)}function y(){function t(t){return null!=t?t.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):t}function r(t){return null!=t?t.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):t}function s(){return{strict:m,caseInsensitive:f}}function u(t){return P(t)||q(t)&&P(t[t.length-1])}function l(){for(;x.length;){var t=x.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");e.extend(_[t.name],h.invoke(t.def))}}function c(t){V(this,t||{})}G=this;var h,f=!1,m=!0,g=!1,_={},S=!0,x=[],C={string:{encode:t,decode:r,is:function(t){return null==t||!M(t)||"string"==typeof t},pattern:/[^\/]*/},"int":{encode:t,decode:function(t){return parseInt(t,10)},is:function(t){return M(t)&&this.decode(t.toString())===t},pattern:/\d+/},bool:{encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:function(t){return t===!0||t===!1},pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):n},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):n},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return this.is(t)&&this.is(e)&&t.toISOString()===e.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:e.toJson,decode:e.fromJson,is:e.isObject,equals:e.equals,pattern:/[^\/]*/},any:{encode:e.identity,decode:e.identity,equals:e.equals,pattern:/.*/}};y.$$getDefaultValue=function(t){if(!u(t.value))return t.value;if(!h)throw new Error("Injectable functions cannot be called at configuration time");return h.invoke(t.value)},this.caseInsensitive=function(t){return M(t)&&(f=t),f},this.strictMode=function(t){return M(t)&&(m=t),m},this.defaultSquashPolicy=function(t){if(!M(t))return g;if(t!==!0&&t!==!1&&!U(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return g=t,t},this.compile=function(t,e){return new v(t,V(s(),e))},this.isMatcher=function(t){if(!F(t))return!1;var e=!0;return B(v.prototype,function(n,i){P(n)&&(e=e&&M(t[i])&&P(t[i]))}),e},this.type=function(t,e,n){if(!M(e))return _[t];if(_.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return _[t]=new b(V({name:t},e)),n&&(x.push({name:t,def:n}),S||l()),this},B(C,function(t,e){_[e]=new b(V({name:e},t))}),_=i(_,{}),this.$get=["$injector",function(t){return h=t,S=!1,l(),B(C,function(t,e){_[e]||(_[e]=new b(t))}),this}],this.Param=function(t,i,r,s){function l(t){var e=F(t)?o(t):[],n=-1===a(e,"value")&&-1===a(e,"type")&&-1===a(e,"squash")&&-1===a(e,"array");return n&&(t={value:t}),t.$$fn=u(t.value)?t.value:function(){return t.value},t}function c(n,i,r){if(n.type&&i)throw new Error("Param '"+t+"' has two type configurations.");return i?i:n.type?e.isString(n.type)?_[n.type]:n.type instanceof b?n.type:new b(n.type):"config"===r?_.any:_.string}function f(){var e={array:"search"===s?"auto":!1},n=t.match(/\[\]$/)?{array:!0}:{};return V(e,n,r).array}function m(t,e){var n=t.squash;if(!e||n===!1)return!1;if(!M(n)||null==n)return g;if(n===!0||U(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function v(t,e,i,r){var s,o,u=[{from:"",to:i||e?n:""},{from:null,to:i||e?n:""}];return s=q(t.replace)?t.replace:[],U(r)&&s.push({from:r,to:n}),o=d(s,function(t){return t.from}),p(u,function(t){return-1===a(o,t.from)}).concat(s)}function y(){if(!h)throw new Error("Injectable functions cannot be called at configuration time");var t=h.invoke(r.$$fn);if(null!==t&&t!==n&&!C.type.is(t))throw new Error("Default value ("+t+") for parameter '"+C.id+"' is not an instance of Type ("+C.type.name+")");return t}function S(t){function e(t){return function(e){return e.from===t}}function n(t){var n=d(p(C.replace,e(t)),function(t){return t.to});return n.length?n[0]:t}return t=n(t),M(t)?C.type.$normalize(t):y()}function x(){return"{Param:"+t+" "+i+" squash: '"+L+"' optional: "+w+"}"}var C=this;r=l(r),i=c(r,i,s);var $=f();i=$?i.$asArray($,"search"===s):i,"string"!==i.name||$||"path"!==s||r.value!==n||(r.value="");var w=r.value!==n,L=m(r,w),T=v(r,$,w,L);V(this,{id:t,type:i,location:s,array:$,squash:L,replace:T,isOptional:w,value:S,dynamic:n,config:r,toString:x})},c.prototype={$$new:function(){return i(this,V(new c,{$$parent:this}))},$$keys:function(){for(var t=[],e=[],n=this,i=o(c.prototype);n;)e.push(n),n=n.$$parent;return e.reverse(),B(e,function(e){B(o(e),function(e){-1===a(t,e)&&-1===a(i,e)&&t.push(e)})}),t},$$values:function(t){var e={},n=this;return B(n.$$keys(),function(i){e[i]=n[i].value(t&&t[i])}),e},$$equals:function(t,e){var n=!0,i=this;return B(i.$$keys(),function(r){var s=t&&t[r],o=e&&e[r];i[r].type.equals(s,o)||(n=!1)}),n},$$validates:function(t){var i,r,s,o,a,u=this.$$keys();for(i=0;i<u.length&&(r=this[u[i]],s=t[u[i]],s!==n&&null!==s||!r.isOptional);i++){if(o=r.type.$normalize(s),!r.type.is(o))return!1;if(a=r.type.encode(o),e.isString(a)&&!r.type.pattern.exec(a))return!1}return!0},$$parent:n},this.ParamSet=c}function _(t,i){function r(t){var e=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(t.source);return null!=e?e[1].replace(/\\(.)/g,"$1"):""}function s(t,e){return t.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]})}function o(t,e,n){if(!n)return!1;var i=t.invoke(e,e,{$match:n});return M(i)?i:!0}function a(i,r,s,o,a){function f(t,e,n){return"/"===g?t:e?g.slice(0,-1)+t:n?g.slice(1)+t:t}function p(t){function e(t){var e=t(s,i);return e?(U(e)&&i.replace().url(e),!0):!1}if(!t||!t.defaultPrevented){m&&i.url()===m;m=n;var r,o=l.length;for(r=0;o>r;r++)if(e(l[r]))return;c&&e(c)}}function d(){return u=u||r.$on("$locationChangeSuccess",p)}var m,g=o.baseHref(),v=i.url();return h||d(),{sync:function(){p()},listen:function(){return d()},update:function(t){return t?void(v=i.url()):void(i.url()!==v&&(i.url(v),i.replace()))},push:function(t,e,r){var s=t.format(e||{});null!==s&&e&&e["#"]&&(s+="#"+e["#"]),i.url(s),m=r&&r.$$avoidResync?i.url():n,r&&r.replace&&i.replace()},href:function(n,r,s){if(!n.validates(r))return null;var o=t.html5Mode();e.isObject(o)&&(o=o.enabled),o=o&&a.history;var u=n.format(r);if(s=s||{},o||null===u||(u="#"+t.hashPrefix()+u),null!==u&&r&&r["#"]&&(u+="#"+r["#"]),u=f(u,o,s.absolute),!s.absolute||!u)return u;var l=!o&&u?"/":"",c=i.port();return c=80===c||443===c?"":":"+c,[i.protocol(),"://",i.host(),c,l,u].join("")}}}var u,l=[],c=null,h=!1;this.rule=function(t){if(!P(t))throw new Error("'rule' must be a function");return l.push(t),this},this.otherwise=function(t){if(U(t)){var e=t;t=function(){return e}}else if(!P(t))throw new Error("'rule' must be a function");return c=t,this},this.when=function(t,e){var n,a=U(e);if(U(t)&&(t=i.compile(t)),!a&&!P(e)&&!q(e))throw new Error("invalid 'handler' in when()");var u={matcher:function(t,e){return a&&(n=i.compile(e),e=["$match",function(t){return n.format(t)}]),V(function(n,i){return o(n,e,t.exec(i.path(),i.search()))},{prefix:U(t.prefix)?t.prefix:""})},regex:function(t,e){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");return a&&(n=e,e=["$match",function(t){return s(n,t)}]),V(function(n,i){return o(n,e,t.exec(i.path()))},{prefix:r(t)})}},l={matcher:i.isMatcher(t),regex:t instanceof RegExp};for(var c in l)if(l[c])return this.rule(u[c](t,e));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(t){t===n&&(t=!0),h=t},this.$get=a,a.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function S(t,r){function s(t){return 0===t.indexOf(".")||0===t.indexOf("^")}function f(t,e){if(!t)return n;var i=U(t),r=i?t:t.name,o=s(r);if(o){if(!e)throw new Error("No reference point given for path '"+r+"'");e=f(e);for(var a=r.split("."),u=0,l=a.length,c=e;l>u;u++)if(""!==a[u]||0!==u){if("^"!==a[u])break;if(!c.parent)throw new Error("Path '"+r+"' not valid for state '"+e.name+"'");c=c.parent}else c=e;a=a.slice(u).join("."),r=c.name+(c.name&&a?".":"")+a}var h=w[r];return!h||!i&&(i||h!==t&&h.self!==t)?n:h}function p(t,e){L[t]||(L[t]=[]),L[t].push(e)}function m(t){for(var e=L[t]||[];e.length;)g(e.shift())}function g(e){e=i(e,{self:e,resolve:e.resolve||{},toString:function(){return this.name}});var n=e.name;if(!U(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(w.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var r=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):U(e.parent)?e.parent:F(e.parent)&&U(e.parent.name)?e.parent.name:"";if(r&&!w[r])return p(r,e.self);for(var s in k)P(k[s])&&(e[s]=k[s](e,k.$delegates[s]));return w[n]=e,!e[T]&&e.url&&t.when(e.url,["$match","$stateParams",function(t,n){$.$current.navigable==e&&l(t,n)||$.transitionTo(e,t,{inherit:!0,location:!1})}]),m(n),e}function v(t){return t.indexOf("*")>-1}function b(t){for(var e=t.split("."),n=$.$current.name.split("."),i=0,r=e.length;r>i;i++)"*"===e[i]&&(n[i]="*");return"**"===e[0]&&(n=n.slice(a(n,e[1])),n.unshift("**")),"**"===e[e.length-1]&&(n.splice(a(n,e[e.length-2])+1,Number.MAX_VALUE),n.push("**")),e.length!=n.length?!1:n.join("")===e.join("")}function y(t,e){return U(t)&&!M(e)?k[t]:P(e)&&U(t)?(k[t]&&!k.$delegates[t]&&(k.$delegates[t]=k[t]),k[t]=e,this):this}function _(t,e){return F(t)?e=t:e.name=t,g(e),this}function S(t,r,s,a,h,p,m,g,y){function _(e,n,i,s){var o=t.$broadcast("$stateNotFound",e,n,i);if(o.defaultPrevented)return m.update(),A;if(!o.retry)return null;if(s.$retry)return m.update(),E;var a=$.transition=r.when(o.retry);return a.then(function(){return a!==$.transition?L:(e.options.$retry=!0,$.transitionTo(e.to,e.toParams,e.options))},function(){return A}),m.update(),a}function S(t,n,i,o,u,l){function f(){var n=[];return B(t.views,function(i,r){var o=i.resolve&&i.resolve!==t.resolve?i.resolve:{};o.$template=[function(){return s.load(r,{view:i,locals:u.globals,params:p,notify:l.notify})||""}],n.push(h.resolve(o,u.globals,u.resolve,t).then(function(n){if(P(i.controllerProvider)||q(i.controllerProvider)){var s=e.extend({},o,u.globals);n.$$controller=a.invoke(i.controllerProvider,null,s)}else n.$$controller=i.controller;n.$$state=t,n.$$controllerAs=i.controllerAs,u[r]=n}))}),r.all(n).then(function(){return u.globals})}var p=i?n:c(t.params.$$keys(),n),d={$stateParams:p};u.resolve=h.resolve(t.resolve,d,u.resolve,t);var m=[u.resolve.then(function(t){u.globals=t})];return o&&m.push(o),r.all(m).then(f).then(function(t){return u})}var L=r.reject(new Error("transition superseded")),k=r.reject(new Error("transition prevented")),A=r.reject(new Error("transition aborted")),E=r.reject(new Error("transition failed"));return C.locals={resolve:null,globals:{$stateParams:{}}},$={params:{},current:C.self,$current:C,transition:null},$.reload=function(t){return $.transitionTo($.current,p,{reload:t||!0,inherit:!1,notify:!0})},$.go=function(t,e,n){return $.transitionTo(t,e,V({inherit:!0,relative:$.$current},n))},$.transitionTo=function(e,n,s){n=n||{},s=V({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},s||{});var o,l=$.$current,h=$.params,d=l.path,g=f(e,s.relative),v=n["#"];if(!M(g)){var b={to:e,toParams:n,options:s},y=_(b,l.self,h,s);if(y)return y;if(e=b.to,n=b.toParams,s=b.options,g=f(e,s.relative),!M(g)){if(!s.relative)throw new Error("No such state '"+e+"'");throw new Error("Could not resolve '"+e+"' from state '"+s.relative+"'")}}if(g[T])throw new Error("Cannot transition to abstract state '"+e+"'");if(s.inherit&&(n=u(p,n||{},$.$current,g)),!g.params.$$validates(n))return E;n=g.params.$$values(n),e=g;var w=e.path,A=0,O=w[A],I=C.locals,N=[];if(s.reload){if(U(s.reload)||F(s.reload)){if(F(s.reload)&&!s.reload.name)throw new Error("Invalid reload state object");var D=s.reload===!0?d[0]:f(s.reload);if(s.reload&&!D)throw new Error("No such reload state '"+(U(s.reload)?s.reload:s.reload.name)+"'");for(;O&&O===d[A]&&O!==D;)I=N[A]=O.locals,A++,O=w[A]}}else for(;O&&O===d[A]&&O.ownParams.$$equals(n,h);)I=N[A]=O.locals,A++,O=w[A];if(x(e,n,l,h,I,s))return v&&(n["#"]=v),$.params=n,H($.params,p),H(c(e.params.$$keys(),p),e.locals.globals.$stateParams),s.location&&e.navigable&&e.navigable.url&&(m.push(e.navigable.url,n,{$$avoidResync:!0,replace:"replace"===s.location}),m.update(!0)),$.transition=null,r.when($.current);if(n=c(e.params.$$keys(),n||{}),v&&(n["#"]=v),s.notify&&t.$broadcast("$stateChangeStart",e.self,n,l.self,h,s).defaultPrevented)return t.$broadcast("$stateChangeCancel",e.self,n,l.self,h),null==$.transition&&m.update(),k;for(var R=r.when(I),j=A;j<w.length;j++,O=w[j])I=N[j]=i(I),R=S(O,n,O===e,R,I,s);var P=$.transition=R.then(function(){var i,r,o;if($.transition!==P)return L;for(i=d.length-1;i>=A;i--)o=d[i],o.self.onExit&&a.invoke(o.self.onExit,o.self,o.locals.globals),o.locals=null;for(i=A;i<w.length;i++)r=w[i],r.locals=N[i],r.self.onEnter&&a.invoke(r.self.onEnter,r.self,r.locals.globals);return $.transition!==P?L:($.$current=e,$.current=e.self,$.params=n,H($.params,p),$.transition=null,s.location&&e.navigable&&m.push(e.navigable.url,e.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===s.location}),s.notify&&t.$broadcast("$stateChangeSuccess",e.self,n,l.self,h),m.update(!0),$.current)},function(i){return $.transition!==P?L:($.transition=null,o=t.$broadcast("$stateChangeError",e.self,n,l.self,h,i),o.defaultPrevented||m.update(),r.reject(i))});return P},$.is=function(t,e,i){i=V({relative:$.$current},i||{});var r=f(t,i.relative);return M(r)?$.$current!==r?!1:e?l(r.params.$$values(e),p):!0:n},$.includes=function(t,e,i){if(i=V({relative:$.$current},i||{}),U(t)&&v(t)){if(!b(t))return!1;t=$.$current.name}var r=f(t,i.relative);return M(r)?M($.$current.includes[r.name])?e?l(r.params.$$values(e),p,o(e)):!0:!1:n},$.href=function(t,e,i){i=V({lossy:!0,inherit:!0,absolute:!1,relative:$.$current},i||{});var r=f(t,i.relative);if(!M(r))return null;i.inherit&&(e=u(p,e||{},$.$current,r));var s=r&&i.lossy?r.navigable:r;return s&&s.url!==n&&null!==s.url?m.href(s.url,c(r.params.$$keys().concat("#"),e||{}),{absolute:i.absolute}):null},$.get=function(t,e){if(0===arguments.length)return d(o(w),function(t){return w[t].self});var n=f(t,e||$.$current);return n&&n.self?n.self:null},$}function x(t,e,n,i,r,s){function o(t,e,n){function i(e){return"search"!=t.params[e].location}var r=t.params.$$keys().filter(i),s=h.apply({},[t.params].concat(r)),o=new G.ParamSet(s);return o.$$equals(e,n)}return!s.reload&&t===n&&(r===n.locals||t.self.reloadOnSearch===!1&&o(n,i,e))?!0:void 0}var C,$,w={},L={},T="abstract",k={parent:function(t){if(M(t.parent)&&t.parent)return f(t.parent);var e=/^(.+)\.[^.]+$/.exec(t.name);return e?f(e[1]):C},data:function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=i(t.parent.data,t.data)),t.data},url:function(t){var e=t.url,n={params:t.params||{}};if(U(e))return"^"==e.charAt(0)?r.compile(e.substring(1),n):(t.parent.navigable||C).url.concat(e,n);if(!e||r.isMatcher(e))return e;throw new Error("Invalid url '"+e+"' in state '"+t+"'")},navigable:function(t){return t.url?t:t.parent?t.parent.navigable:null},ownParams:function(t){var e=t.url&&t.url.params||new G.ParamSet;return B(t.params||{},function(t,n){e[n]||(e[n]=new G.Param(n,null,t,"config"))}),e},params:function(t){var e=h(t.ownParams,t.ownParams.$$keys());return t.parent&&t.parent.params?V(t.parent.params.$$new(),e):new G.ParamSet},views:function(t){var e={};return B(M(t.views)?t.views:{"":t},function(n,i){i.indexOf("@")<0&&(i+="@"+t.parent.name),e[i]=n}),e},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(t){var e=t.parent?V({},t.parent.includes):{};return e[t.name]=!0,e},$delegates:{}};C=g({name:"",url:"^",views:null,"abstract":!0}),C.navigable=null,this.decorator=y,this.state=_,this.$get=S,S.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function x(){function t(t,e){return{load:function(t,n){var i,r={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return n=V(r,n),n.view&&(i=e.fromConfig(n.view,n.params,n.locals)),i}}}this.$get=t,t.$inject=["$rootScope","$templateFactory"]}function C(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){return n(function(){t[0].scrollIntoView()},0,!1)}}]}function $(t,n,i,r){function s(){return n.has?function(t){return n.has(t)?n.get(t):null}:function(t){try{return n.get(t)}catch(e){return null}}}function o(t,n){function i(t){return 1===W&&X>=4?!!l.enabled(t):1===W&&X>=2?!!l.enabled():!!u}var r={enter:function(t,e,n){e.after(t),n()},leave:function(t,e){t.remove(),e()}};if(t.noanimation)return r;if(l)return{enter:function(t,n,s){i(t)?e.version.minor>2?l.enter(t,null,n).then(s):l.enter(t,null,n,s):r.enter(t,n,s)},leave:function(t,n){i(t)?e.version.minor>2?l.leave(t).then(n):l.leave(t,n):r.leave(t,n)}};if(u){var s=u&&u(n,t);return{enter:function(t,e,n){s.enter(t,null,e),n()},leave:function(t,e){s.leave(t),e()}}}return r}var a=s(),u=a("$animator"),l=a("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,s,a){return function(n,s,u){function l(){function t(){e&&e.remove(),n&&n.$destroy()}var e=h,n=p;n&&(n._willBeDestroyed=!0),f?(v.leave(f,function(){t(),h=null}),h=f):(t(),h=null),f=null,p=null}function c(o){var c,h=L(n,u,s,r),b=h&&t.$current&&t.$current.locals[h];if((o||b!==d)&&!n._willBeDestroyed){c=n.$new(),d=t.$current.locals[h],c.$emit("$viewContentLoading",h);var y=a(c,function(t){v.enter(t,s,function(){p&&p.$emit("$viewContentAnimationEnded"),(e.isDefined(g)&&!g||n.$eval(g))&&i(t)}),l()});f=y,p=c,p.$emit("$viewContentLoaded",h),p.$eval(m)}}var h,f,p,d,m=u.onload||"",g=u.autoscroll,v=o(u,n);n.$on("$stateChangeSuccess",function(){c(!1)}),c(!0)}}};return c}function w(t,e,n,i){return{restrict:"ECA",priority:-400,compile:function(r){var s=r.html();return function(r,o,a){var u=n.$current,l=L(r,a,o,i),c=u&&u.locals[l];if(c){o.data("$uiView",{name:l,state:c.$$state}),o.html(c.$template?c.$template:s);var h=t(o.contents());if(c.$$controller){c.$scope=r,c.$element=o;var f=e(c.$$controller,c);c.$$controllerAs&&(r[c.$$controllerAs]=f),o.data("$ngControllerController",f),o.children().data("$ngControllerController",f)}h(r)}}}}}function L(t,e,n,i){var r=i(e.uiView||e.name||"")(t),s=n.inheritedData("$uiView");return r.indexOf("@")>=0?r:r+"@"+(s?s.state.name:"")}function T(t,e){var n,i=t.match(/^\s*({[^}]*})\s*$/);if(i&&(t=e+"("+i[1]+")"),n=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+t+"'");return{state:n[1],paramExpr:n[3]||null}}function k(t){var e=t.parent().inheritedData("$uiView");return e&&e.state&&e.state.name?e.state:void 0}function A(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),n="FORM"===t[0].nodeName;return{attr:n?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!n}}function E(t,e,n,i,r){return function(s){var o=s.which||s.button,a=r();if(!(o>1||s.ctrlKey||s.metaKey||s.shiftKey||t.attr("target"))){var u=n(function(){e.go(a.state,a.params,a.options)});s.preventDefault();var l=i.isAnchor&&!a.href?1:0;s.preventDefault=function(){l--<=0&&n.cancel(u)}}}}function O(t,e){return{relative:k(t)||e.$current,inherit:!0}}function I(t,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,s,o){var a=T(s.uiSref,t.current.name),u={state:a.state,href:null,params:null},l=A(r),c=o[1]||o[0];u.options=V(O(r,t),s.uiSrefOpts?i.$eval(s.uiSrefOpts):{});var h=function(n){n&&(u.params=e.copy(n)),u.href=t.href(a.state,u.params,u.options),c&&c.$$addStateInfo(a.state,u.params),null!==u.href&&s.$set(l.attr,u.href)};a.paramExpr&&(i.$watch(a.paramExpr,function(t){t!==u.params&&h(t)},!0),u.params=e.copy(i.$eval(a.paramExpr))),h(),l.clickable&&r.bind("click",E(r,t,n,l,function(){return u}))}}}function N(t,e){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,r,s){function o(e){h.state=e[0],h.params=e[1],h.options=e[2],h.href=t.href(h.state,h.params,h.options),u&&u.$$addStateInfo(h.state,h.params),h.href&&r.$set(a.attr,h.href)}var a=A(i),u=s[1]||s[0],l=[r.uiState,r.uiStateParams||null,r.uiStateOpts||null],c="["+l.map(function(t){return t||"null"}).join(", ")+"]",h={state:null,params:null,options:null,href:null};n.$watch(c,o,!0),o(n.$eval(c)),a.clickable&&i.bind("click",E(i,t,e,a,function(){return h}))}}}function D(t,e,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(e,i,r,s){function o(e,n,r){var s=t.get(e,k(i)),o=a(e,n);m.push({state:s||{name:e},params:n,hash:o}),g[o]=r}function a(t,n){if(!U(t))throw new Error("state should be a string");return F(n)?t+z(n):(n=e.$eval(n),F(n)?t+z(n):t)}function u(){for(var t=0;t<m.length;t++)h(m[t].state,m[t].params)?l(i,g[m[t].hash]):c(i,g[m[t].hash]),f(m[t].state,m[t].params)?l(i,p):c(i,p)}function l(t,e){s(function(){t.addClass(e)})}function c(t,e){t.removeClass(e)}function h(e,n){return t.includes(e.name,n)}function f(e,n){return t.is(e.name,n)}var p,d,m=[],g={};p=n(r.uiSrefActiveEq||"",!1)(e);try{d=e.$eval(r.uiSrefActive)}catch(v){}d=d||n(r.uiSrefActive||"",!1)(e),F(d)&&B(d,function(n,i){if(U(n)){var r=T(n,t.current.name);o(r.state,e.$eval(r.paramExpr),i)}}),this.$$addStateInfo=function(t,e){F(d)&&m.length>0||(o(t,e,d),u())},e.$on("$stateChangeSuccess",u),u()}]}}function R(t){var e=function(e,n){return t.is(e,n)};return e.$stateful=!0,e}function j(t){var e=function(e,n,i){return t.includes(e,n,i)};return e.$stateful=!0,e}var M=e.isDefined,P=e.isFunction,U=e.isString,F=e.isObject,q=e.isArray,B=e.forEach,V=e.extend,H=e.copy,z=e.toJson;e.module("ui.router.util",["ng"]),e.module("ui.router.router",["ui.router.util"]),e.module("ui.router.state",["ui.router.router","ui.router.util"]),e.module("ui.router",["ui.router.state"]),e.module("ui.router.compat",["ui.router"]),m.$inject=["$q","$injector"],e.module("ui.router.util").service("$resolve",m),g.$inject=["$http","$templateCache","$injector"],e.module("ui.router.util").service("$templateFactory",g);var G;v.prototype.concat=function(t,e){var n={caseInsensitive:G.caseInsensitive(),strict:G.strictMode(),squash:G.defaultSquashPolicy()};return new v(this.sourcePath+t+this.sourceSearch,V(n,e),this)},v.prototype.toString=function(){return this.source},v.prototype.exec=function(t,e){function n(t){function e(t){return t.split("").reverse().join("")}function n(t){return t.replace(/\\-/g,"-")}var i=e(t).split(/-(?!\\)/),r=d(i,e);return d(r,n).reverse()}var i=this.regexp.exec(t);if(!i)return null;e=e||{};var r,s,o,a=this.parameters(),u=a.length,l=this.segments.length-1,c={};if(l!==i.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var h,f;for(r=0;l>r;r++){for(o=a[r],h=this.params[o],f=i[r+1],s=0;s<h.replace.length;s++)h.replace[s].from===f&&(f=h.replace[s].to);f&&h.array===!0&&(f=n(f)),M(f)&&(f=h.type.decode(f)),c[o]=h.value(f)}for(;u>r;r++){for(o=a[r],c[o]=this.params[o].value(e[o]),h=this.params[o],f=e[o],s=0;s<h.replace.length;s++)h.replace[s].from===f&&(f=h.replace[s].to);M(f)&&(f=h.type.decode(f)),c[o]=h.value(f)}return c},v.prototype.parameters=function(t){return M(t)?this.params[t]||null:this.$$paramNames},v.prototype.validates=function(t){return this.params.$$validates(t)},v.prototype.format=function(t){function e(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})}t=t||{};var n=this.segments,i=this.parameters(),r=this.params;if(!this.validates(t))return null;var s,o=!1,a=n.length-1,u=i.length,l=n[0];for(s=0;u>s;s++){var c=a>s,h=i[s],f=r[h],p=f.value(t[h]),m=f.isOptional&&f.type.equals(f.value(),p),g=m?f.squash:!1,v=f.type.encode(p);if(c){var b=n[s+1],y=s+1===a;if(g===!1)null!=v&&(l+=q(v)?d(v,e).join("-"):encodeURIComponent(v)),l+=b;else if(g===!0){var _=l.match(/\/$/)?/\/?(.*)/:/(.*)/;l+=b.match(_)[1]}else U(g)&&(l+=g+b);y&&f.squash===!0&&"/"===l.slice(-1)&&(l=l.slice(0,-1))}else{if(null==v||m&&g!==!1)continue;if(q(v)||(v=[v]),0===v.length)continue;v=d(v,encodeURIComponent).join("&"+h+"="),l+=(o?"&":"?")+(h+"="+v),o=!0}}return l},b.prototype.is=function(t,e){return!0},b.prototype.encode=function(t,e){return t},b.prototype.decode=function(t,e){return t},b.prototype.equals=function(t,e){return t==e},b.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},b.prototype.pattern=/.*/,b.prototype.toString=function(){return"{Type:"+this.name+"}"},b.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},b.prototype.$asArray=function(t,e){function i(t,e){function i(t,e){return function(){return t[e].apply(t,arguments)}}function r(t){return q(t)?t:M(t)?[t]:[]}function s(t){switch(t.length){case 0:return n;case 1:return"auto"===e?t[0]:t;default:return t}}function o(t){return!t}function a(t,e){return function(n){if(q(n)&&0===n.length)return n;n=r(n);var i=d(n,t);return e===!0?0===p(i,o).length:s(i)}}function u(t){return function(e,n){var i=r(e),s=r(n);if(i.length!==s.length)return!1;for(var o=0;o<i.length;o++)if(!t(i[o],s[o]))return!1;return!0}}this.encode=a(i(t,"encode")),this.decode=a(i(t,"decode")),this.is=a(i(t,"is"),!0),this.equals=u(i(t,"equals")),this.pattern=t.pattern,this.$normalize=a(i(t,"$normalize")),this.name=t.name,this.$arrayMode=e}if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new i(this,t)},e.module("ui.router.util").provider("$urlMatcherFactory",y),e.module("ui.router.util").run(["$urlMatcherFactory",function(t){}]),_.$inject=["$locationProvider","$urlMatcherFactoryProvider"],e.module("ui.router.router").provider("$urlRouter",_),S.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],e.module("ui.router.state").factory("$stateParams",function(){return{}}).provider("$state",S),x.$inject=[],e.module("ui.router.state").provider("$view",x),e.module("ui.router.state").provider("$uiViewScroll",C);var W=e.version.major,X=e.version.minor;$.$inject=["$state","$injector","$uiViewScroll","$interpolate"],w.$inject=["$compile","$controller","$state","$interpolate"],e.module("ui.router.state").directive("uiView",$),e.module("ui.router.state").directive("uiView",w),I.$inject=["$state","$timeout"],N.$inject=["$state","$timeout"],D.$inject=["$state","$stateParams","$interpolate"],e.module("ui.router.state").directive("uiSref",I).directive("uiSrefActive",D).directive("uiSrefActiveEq",D).directive("uiState",N),
R.$inject=["$state"],j.$inject=["$state"],e.module("ui.router.state").filter("isState",R).filter("includedByState",j)}(window,window.angular),function(){"use strict";function t(t,e,n,i,r,s,o){function a(){return _.length}function u(t){if(1!==arguments.length||t)if(t)p(t.toastId);else for(var e=0;e<_.length;e++)p(_[e].toastId)}function l(t,e,n){var i=m().iconClasses.error;return d(i,t,e,n)}function c(t,e,n){var i=m().iconClasses.info;return d(i,t,e,n)}function h(t,e,n){var i=m().iconClasses.success;return d(i,t,e,n)}function f(t,e,n){var i=m().iconClasses.warning;return d(i,t,e,n)}function p(e,n){function i(t){for(var e=0;e<_.length;e++)if(_[e].toastId===t)return _[e]}function r(){return!_.length}var a=i(e);a&&!a.deleting&&(a.deleting=!0,a.isOpened=!1,t.leave(a.el).then(function(){a.scope.options.onHidden&&a.scope.options.onHidden(!!n,a),a.scope.$destroy();var t=_.indexOf(a);delete x[a.scope.message],_.splice(t,1);var e=s.maxOpened;e&&_.length>=e&&_[e-1].open.resolve(),r()&&(b.remove(),b=null,C=o.defer())}))}function d(t,e,n,i){return angular.isObject(n)&&(i=n,n=null),v({iconClass:t,message:e,optionsOverride:i,title:n})}function m(){return angular.extend({},s)}function g(e){if(b)return C.promise;b=angular.element("<div></div>"),b.attr("id",e.containerId),b.addClass(e.positionClass),b.css({"pointer-events":"auto"});var n=angular.element(document.querySelector(e.target));if(!n||!n.length)throw"Target for toasts doesn't exist";return t.enter(b,n).then(function(){C.resolve()}),C.promise}function v(n){function s(){return f.autoDismiss&&f.maxOpened&&_.length>f.maxOpened}function a(t,e,n){function i(e){return n[e]?function(){n[e](t)}:void 0}n.allowHtml?(t.scope.allowHtml=!0,t.scope.title=r.trustAsHtml(e.title),t.scope.message=r.trustAsHtml(e.message)):(t.scope.title=e.title,t.scope.message=e.message),t.scope.toastType=t.iconClass,t.scope.toastId=t.toastId,t.scope.extraData=n.extraData,t.scope.options={extendedTimeOut:n.extendedTimeOut,messageClass:n.messageClass,onHidden:n.onHidden,onShown:i("onShown"),onTap:i("onTap"),progressBar:n.progressBar,tapToDismiss:n.tapToDismiss,timeOut:n.timeOut,titleClass:n.titleClass,toastClass:n.toastClass},n.closeButton&&(t.scope.options.closeHtml=n.closeHtml)}function u(){function t(t){for(var e=["containerId","iconClasses","maxOpened","newestOnTop","positionClass","preventDuplicates","preventOpenDuplicates","templates"],n=0,i=e.length;i>n;n++)delete t[e[n]];return t}var e={toastId:y++,isOpened:!1,scope:i.$new(),open:o.defer()};return e.iconClass=n.iconClass,n.optionsOverride&&(angular.extend(f,t(n.optionsOverride)),e.iconClass=n.optionsOverride.iconClass||e.iconClass),a(e,n,f),e.el=l(e.scope),e}function l(t){var n=angular.element("<div toast></div>"),i=e.get("$compile");return i(n)(t)}function c(){return f.maxOpened&&_.length<=f.maxOpened||!f.maxOpened}function h(){var t=f.preventDuplicates&&n.message===S,e=f.preventOpenDuplicates&&x[n.message];return t||e?!0:(S=n.message,x[n.message]=!0,!1)}var f=m();if(!h()){var d=u();if(_.push(d),s())for(var v=_.slice(0,_.length-f.maxOpened),C=0,$=v.length;$>C;C++)p(v[C].toastId);return c()&&d.open.resolve(),d.open.promise.then(function(){g(f).then(function(){if(d.isOpened=!0,f.newestOnTop)t.enter(d.el,b).then(function(){d.scope.init()});else{var e=b[0].lastChild?angular.element(b[0].lastChild):null;t.enter(d.el,b,e).then(function(){d.scope.init()})}})}),d}}var b,y=0,_=[],S="",x={},C=o.defer(),$={active:a,clear:u,error:l,info:c,remove:p,success:h,warning:f};return $}angular.module("toastr",[]).factory("toastr",t),t.$inject=["$animate","$injector","$document","$rootScope","$sce","toastrConfig","$q"]}(),function(){"use strict";angular.module("toastr").constant("toastrConfig",{allowHtml:!1,autoDismiss:!1,closeButton:!1,closeHtml:"<button>&times;</button>",containerId:"toast-container",extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},maxOpened:0,messageClass:"toast-message",newestOnTop:!0,onHidden:null,onShown:null,onTap:null,positionClass:"toast-top-right",preventDuplicates:!1,preventOpenDuplicates:!1,progressBar:!1,tapToDismiss:!0,target:"body",templates:{toast:"directives/toast/toast.html",progressbar:"directives/progressbar/progressbar.html"},timeOut:5e3,titleClass:"toast-title",toastClass:"toast"})}(),function(){"use strict";function t(t){function e(t,e,n,i){function r(){var t=(a-(new Date).getTime())/o*100;e.css("width",t+"%")}var s,o,a;i.progressBar=t,t.start=function(t){s&&clearInterval(s),o=parseFloat(t),a=(new Date).getTime()+o,s=setInterval(r,10)},t.stop=function(){s&&clearInterval(s)},t.$on("$destroy",function(){clearInterval(s)})}return{replace:!0,require:"^toast",templateUrl:function(){return t.templates.progressbar},link:e}}angular.module("toastr").directive("progressBar",t),t.$inject=["toastrConfig"]}(),function(){"use strict";function t(){this.progressBar=null,this.startProgressBar=function(t){this.progressBar&&this.progressBar.start(t)},this.stopProgressBar=function(){this.progressBar&&this.progressBar.stop()}}angular.module("toastr").controller("ToastController",t)}(),function(){"use strict";function t(t,e,n,i){function r(n,r,s,o){function a(t){return o.startProgressBar(t),e(function(){o.stopProgressBar(),i.remove(n.toastId)},t,1)}function u(){n.progressBar=!1,o.stopProgressBar()}function l(){return n.options.closeHtml}var c;if(n.toastClass=n.options.toastClass,n.titleClass=n.options.titleClass,n.messageClass=n.options.messageClass,n.progressBar=n.options.progressBar,l()){var h=angular.element(n.options.closeHtml),f=t.get("$compile");h.addClass("toast-close-button"),h.attr("ng-click","close(true, $event)"),f(h)(n),r.prepend(h)}n.init=function(){n.options.timeOut&&(c=a(n.options.timeOut)),n.options.onShown&&n.options.onShown()},r.on("mouseenter",function(){u(),c&&e.cancel(c)}),n.tapToast=function(){angular.isFunction(n.options.onTap)&&n.options.onTap(),n.options.tapToDismiss&&n.close(!0)},n.close=function(t,e){e&&angular.isFunction(e.stopPropagation)&&e.stopPropagation(),i.remove(n.toastId,t)},r.on("mouseleave",function(){(0!==n.options.timeOut||0!==n.options.extendedTimeOut)&&(n.$apply(function(){n.progressBar=n.options.progressBar}),c=a(n.options.extendedTimeOut))})}return{replace:!0,templateUrl:function(){return n.templates.toast},controller:"ToastController",link:r}}angular.module("toastr").directive("toast",t),t.$inject=["$injector","$interval","toastrConfig","toastr"]}(),angular.module("toastr").run(["$templateCache",function(t){t.put("directives/progressbar/progressbar.html",'<div class="toast-progress"></div>\n'),t.put("directives/toast/toast.html",'<div class="{{toastClass}} {{toastType}}" ng-click="tapToast()">\n  <div ng-switch on="allowHtml">\n    <div ng-switch-default ng-if="title" class="{{titleClass}}" aria-label="{{title}}">{{title}}</div>\n    <div ng-switch-default class="{{messageClass}}" aria-label="{{message}}">{{message}}</div>\n    <div ng-switch-when="true" ng-if="title" class="{{titleClass}}" ng-bind-html="title"></div>\n    <div ng-switch-when="true" class="{{messageClass}}" ng-bind-html="message"></div>\n  </div>\n  <progress-bar ng-if="progressBar"></progress-bar>\n</div>\n')}]),/*!
 * fullPage 2.7.7
 * https://github.com/alvarotrigo/fullPage.js
 * @license MIT licensed
 *
 * Copyright (C) 2015 alvarotrigo.com - A project by Alvaro Trigo
 */
function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(n){return e(n,t,t.document,t.Math)}):"undefined"!=typeof exports?module.exports=e(require("jquery"),t,t.document,t.Math):e(jQuery,t,t.document,t.Math)}("undefined"!=typeof window?window:this,function(t,e,n,i,r){"use strict";var s,o="fullpage-wrapper",a="."+o,u="fp-scrollable",l="."+u,c=".slimScrollBar",h=".slimScrollRail",f="fp-responsive",p="fp-notransition",d="fp-destroyed",m="fp-enabled",g="fp-viewing",v="active",b="."+v,y=".section",_="fp-section",S="."+_,x=S+b,C=S+":first",$=S+":last",w="fp-tableCell",L="."+w,T="fp-auto-height",k="fp-normal-scroll",A="fp-nav",E="#"+A,O="fp-tooltip",I="."+O,N="fp-show-active",D=".slide",R="fp-slide",j="."+R,M=j+b,P="fp-slides",U="."+P,F="fp-slidesContainer",q="."+F,B="fp-table",V="fp-slidesNav",H="."+V,z=H+" a",G="fp-controlArrow",W="."+G,X="fp-prev",Y="."+X,K=G+" "+X,Q=W+Y,J="fp-next",Z="."+J,tt=G+" "+J,et=W+Z,nt=t(e),it=t(n);t.fn.fullpage=function(u){function l(){u.css3&&(u.css3=me()),u.scrollBar=u.scrollBar||u.hybrid,h(),G(),Ie.setAllowScrolling(!0),Fe=nt.height(),Ie.setAutoScrolling(u.autoScrolling,"internal");var e=t(x).find(M);e.length&&(0!==t(x).index(S)||0===t(x).index(S)&&0!==e.index())&&xe(e),Wt(),de(),nt.on("load",function(){It()})}function c(){nt.on("scroll",lt).on("hashchange",Nt).blur(Ft).resize(Gt),Ue.mousedown(Mt).mouseup(Pt),it.keydown(Dt).keyup(jt).on("click touchstart",E+" a",qt).on("click touchstart",z,Bt).on("click",I,Rt),t(S).on("click touchstart",W,Ut),u.normalScrollElements&&(it.on("mouseenter",u.normalScrollElements,function(){Ie.setMouseWheelScrolling(!1)}),it.on("mouseleave",u.normalScrollElements,function(){Ie.setMouseWheelScrolling(!0)}))}function h(){u.anchors.length||(u.anchors=t(u.sectionSelector+"[data-anchor]").map(function(){return t(this).data("anchor").toString()}).get()),u.navigationTooltips.length||(u.navigationTooltips=t(u.sectionSelector+"[data-tooltip]").map(function(){return t(this).data("tooltip").toString()}).get())}function G(){Ue.css({height:"100%",position:"relative"}),Ue.addClass(o),t("html").addClass(m),Ue.removeClass(d),rt(),t(S).each(function(e){var n=t(this),i=n.find(j),r=i.length;J(n,e),Z(n,e),r>0?Y(n,i,r):u.verticalCentered&&ie(n)}),u.fixedElements&&u.css3&&t(u.fixedElements).appendTo(Oe),u.navigation&&ot(),u.scrollOverflow?("complete"===n.readyState&&at(),nt.on("load",at)):ut()}function Y(e,n,i){var r=100*i,s=100/i;n.wrapAll('<div class="'+F+'" />'),n.parent().wrap('<div class="'+P+'" />'),e.find(q).css("width",r+"%"),i>1&&(u.controlArrows&&st(e),u.slidesNavigation&&ce(e,i)),n.each(function(e){t(this).css("width",s+"%"),u.verticalCentered&&ie(t(this))});var o=e.find(M);o.length&&(0!==t(x).index(S)||0===t(x).index(S)&&0!==o.index())?xe(o):n.eq(0).addClass(v)}function J(e,n){n||0!==t(x).length||e.addClass(v),e.css("height",Fe+"px"),u.paddingTop&&e.css("padding-top",u.paddingTop),u.paddingBottom&&e.css("padding-bottom",u.paddingBottom),"undefined"!=typeof u.sectionsColor[n]&&e.css("background-color",u.sectionsColor[n]),"undefined"!=typeof u.anchors[n]&&e.attr("data-anchor",u.anchors[n])}function Z(e,n){"undefined"!=typeof u.anchors[n]&&e.hasClass(v)&&Zt(u.anchors[n],n),u.menu&&u.css3&&t(u.menu).closest(a).length&&t(u.menu).appendTo(Oe)}function rt(){t(u.sectionSelector).each(function(){t(this).addClass(_)}),t(u.slideSelector).each(function(){t(this).addClass(R)})}function st(t){t.find(U).after('<div class="'+K+'"></div><div class="'+tt+'"></div>'),"#fff"!=u.controlArrowColor&&(t.find(et).css("border-color","transparent transparent transparent "+u.controlArrowColor),t.find(Q).css("border-color","transparent "+u.controlArrowColor+" transparent transparent")),u.loopHorizontal||t.find(Q).hide()}function ot(){Oe.append('<div id="'+A+'"><ul></ul></div>');var e=t(E);e.addClass(function(){return u.showActiveTooltip?N+" "+u.navigationPosition:u.navigationPosition});for(var n=0;n<t(S).length;n++){var i="";u.anchors.length&&(i=u.anchors[n]);var r='<li><a href="#'+i+'"><span></span></a>',s=u.navigationTooltips[n];"undefined"!=typeof s&&""!==s&&(r+='<div class="'+O+" "+u.navigationPosition+'">'+s+"</div>"),r+="</li>",e.find("ul").append(r)}t(E).css("margin-top","-"+t(E).height()/2+"px"),t(E).find("li").eq(t(x).index(S)).find("a").addClass(v)}function at(){t(S).each(function(){var e=t(this).find(j);e.length?e.each(function(){ne(t(this))}):ne(t(this))}),ut()}function ut(){var e=t(x);e.addClass("completely"),u.scrollOverflowHandler.afterRender&&u.scrollOverflowHandler.afterRender(e),kt(e),At(e),t.isFunction(u.afterLoad)&&u.afterLoad.call(e,e.data("anchor"),e.index(S)+1),t.isFunction(u.afterRender)&&u.afterRender.call(Ue)}function lt(){var e;if(!u.autoScrolling||u.scrollBar){for(var i=nt.scrollTop(),r=ht(i),s=0,o=i+nt.height()/2,a=n.querySelectorAll(S),l=0;l<a.length;++l){var c=a[l];c.offsetTop<=o&&(s=l)}if(ct(r)&&(t(x).hasClass("completely")||t(x).addClass("completely").siblings().removeClass("completely")),e=t(a).eq(s),!e.hasClass(v)){Ze=!0;var h=t(x),f=h.index(S)+1,p=te(e),d=e.data("anchor"),m=e.index(S)+1,g=e.find(M);if(g.length)var b=g.data("anchor"),y=g.index();Ve&&(e.addClass(v).siblings().removeClass(v),t.isFunction(u.onLeave)&&u.onLeave.call(h,f,m,p),t.isFunction(u.afterLoad)&&u.afterLoad.call(e,d,m),kt(e),Zt(d,m-1),u.anchors.length&&(Ne=d,he(y,b,d,m))),clearTimeout(Ye),Ye=setTimeout(function(){Ze=!1},100)}u.fitToSection&&(clearTimeout(Ke),Ke=setTimeout(function(){Ve&&u.fitToSection&&(t(x).is(e)&&requestAnimFrame(function(){qe=!0}),xt(e),requestAnimFrame(function(){qe=!1}))},u.fitToSectionDelay))}}function ct(e){var n=t(x).position().top,i=n+nt.height();return"up"==e?i>=nt.scrollTop()+nt.height():n<=nt.scrollTop()}function ht(t){var e=t>tn?"down":"up";return tn=t,e}function ft(t,e){if(ze.m[t]){var n,i;if("down"==t?(n="bottom",i=Ie.moveSectionDown):(n="top",i=Ie.moveSectionUp),e.length>0){if(!u.scrollOverflowHandler.isScrolled(n,e))return!0;i()}else i()}}function pt(e){var n=e.originalEvent;if(!dt(e.target)&&mt(n)){u.autoScrolling&&e.preventDefault();var r=t(x),s=u.scrollOverflowHandler.scrollable(r);if(Ve&&!je){var o=Se(n);rn=o.y,sn=o.x,r.find(U).length&&i.abs(nn-sn)>i.abs(en-rn)?i.abs(nn-sn)>nt.outerWidth()/100*u.touchSensitivity&&(nn>sn?ze.m.right&&Ie.moveSlideRight():ze.m.left&&Ie.moveSlideLeft()):u.autoScrolling&&i.abs(en-rn)>nt.height()/100*u.touchSensitivity&&(en>rn?ft("down",s):rn>en&&ft("up",s))}}}function dt(e,n){n=n||0;var i=t(e).parent();return n<u.normalScrollElementTouchThreshold&&i.is(u.normalScrollElements)?!0:n==u.normalScrollElementTouchThreshold?!1:dt(i,++n)}function mt(t){return"undefined"==typeof t.pointerType||"mouse"!=t.pointerType}function gt(t){var e=t.originalEvent;if(u.fitToSection&&Ee.stop(),mt(e)){var n=Se(e);en=n.y,nn=n.x}}function vt(t,e){for(var n=0,r=t.slice(i.max(t.length-e,1)),s=0;s<r.length;s++)n+=r[s];return i.ceil(n/e)}function bt(n){var r=(new Date).getTime(),s=t(".completely").hasClass(k);if(u.autoScrolling&&!Re&&!s){n=n||e.event;var o=n.wheelDelta||-n.deltaY||-n.detail,a=i.max(-1,i.min(1,o)),l="undefined"!=typeof n.wheelDeltaX||"undefined"!=typeof n.deltaX,c=i.abs(n.wheelDeltaX)<i.abs(n.wheelDelta)||i.abs(n.deltaX)<i.abs(n.deltaY)||!l;He.length>149&&He.shift(),He.push(i.abs(o)),u.scrollBar&&(n.preventDefault?n.preventDefault():n.returnValue=!1);var h=t(x),f=u.scrollOverflowHandler.scrollable(h),p=r-on;if(on=r,p>200&&(He=[]),Ve){var d=vt(He,10),m=vt(He,70),g=d>=m;g&&c&&(0>a?ft("down",f):ft("up",f))}return!1}u.fitToSection&&Ee.stop()}function yt(e,n){var i="undefined"==typeof n?t(x):n,r=i.find(U),s=r.find(j).length;if(!(!r.length||je||2>s)){var o=r.find(M),a=null;if(a="prev"===e?o.prev(j):o.next(j),!a.length){if(!u.loopHorizontal)return;a="prev"===e?o.siblings(":last"):o.siblings(":first")}je=!0,zt(r,a)}}function _t(){t(M).each(function(){xe(t(this),"internal")})}function St(t,e){var n=t.top;return t.top>an&&(n=n-Fe+e.outerHeight()),an=n,n}function xt(e,n,i){requestAnimFrame(function(){var r=e.position();if("undefined"!=typeof r){var s=St(r,e),o={element:e,callback:n,isMovementUp:i,dest:r,dtop:s,yMovement:te(e),anchorLink:e.data("anchor"),sectionIndex:e.index(S),activeSlide:e.find(M),activeSection:t(x),leavingSection:t(x).index(S)+1,localIsResizing:qe};if(!(o.activeSection.is(e)&&!qe||u.scrollBar&&nt.scrollTop()===o.dtop&&!e.hasClass(T))){if(o.activeSlide.length)var a=o.activeSlide.data("anchor"),l=o.activeSlide.index();u.autoScrolling&&u.continuousVertical&&"undefined"!=typeof o.isMovementUp&&(!o.isMovementUp&&"up"==o.yMovement||o.isMovementUp&&"down"==o.yMovement)&&(o=wt(o)),(!t.isFunction(u.onLeave)||o.localIsResizing||u.onLeave.call(o.activeSection,o.leavingSection,o.sectionIndex+1,o.yMovement)!==!1)&&(Et(o.activeSection),e.addClass(v).siblings().removeClass(v),kt(e),Ve=!1,he(l,a,o.anchorLink,o.sectionIndex),Ct(o),Ne=o.anchorLink,Zt(o.anchorLink,o.sectionIndex))}}})}function Ct(e){if(u.css3&&u.autoScrolling&&!u.scrollBar){var n="translate3d(0px, -"+e.dtop+"px, 0px)";se(n,!0),u.scrollingSpeed?We=setTimeout(function(){Tt(e)},u.scrollingSpeed):Tt(e)}else{var i=$t(e);t(i.element).animate(i.options,u.scrollingSpeed,u.easing).promise().done(function(){u.scrollBar?setTimeout(function(){Tt(e)},30):Tt(e)})}}function $t(t){var e={};return u.autoScrolling&&!u.scrollBar?(e.options={top:-t.dtop},e.element=a):(e.options={scrollTop:t.dtop},e.element="html, body"),e}function wt(e){return e.isMovementUp?t(x).before(e.activeSection.nextAll(S)):t(x).after(e.activeSection.prevAll(S).get().reverse()),Ce(t(x).position().top),_t(),e.wrapAroundElements=e.activeSection,e.dest=e.element.position(),e.dtop=e.dest.top,e.yMovement=te(e.element),e}function Lt(e){e.wrapAroundElements&&e.wrapAroundElements.length&&(e.isMovementUp?t(C).before(e.wrapAroundElements):t($).after(e.wrapAroundElements),Ce(t(x).position().top),_t())}function Tt(e){Lt(e),e.element.find(".fp-scrollable").mouseover(),t.isFunction(u.afterLoad)&&!e.localIsResizing&&u.afterLoad.call(e.element,e.anchorLink,e.sectionIndex+1),At(e.element),e.element.addClass("completely").siblings().removeClass("completely"),Ve=!0,t.isFunction(e.callback)&&e.callback.call(this)}function kt(e){var e=Ot(e);e.find("img[data-src], source[data-src], audio[data-src]").each(function(){t(this).attr("src",t(this).data("src")),t(this).removeAttr("data-src"),t(this).is("source")&&t(this).closest("video").get(0).load()})}function At(e){var e=Ot(e);e.find("video, audio").each(function(){var e=t(this).get(0);e.hasAttribute("autoplay")&&"function"==typeof e.play&&e.play()})}function Et(e){var e=Ot(e);e.find("video, audio").each(function(){var e=t(this).get(0);e.hasAttribute("data-ignore")||"function"!=typeof e.pause||e.pause()})}function Ot(e){var n=e.find(M);return n.length&&(e=t(n)),e}function It(){var t=e.location.hash.replace("#","").split("/"),n=t[0],i=t[1];n&&(u.animateAnchor?ue(n,i):Ie.silentMoveTo(n,i))}function Nt(){if(!Ze&&!u.lockAnchors){var t=e.location.hash.replace("#","").split("/"),n=t[0],i=t[1],r="undefined"==typeof Ne,s="undefined"==typeof Ne&&"undefined"==typeof i&&!je;n.length&&(n&&n!==Ne&&!r||s||!je&&De!=i)&&ue(n,i)}}function Dt(e){clearTimeout(Qe);var n=t(":focus");if(!n.is("textarea")&&!n.is("input")&&!n.is("select")&&u.keyboardScrolling&&u.autoScrolling){var i=e.which,r=[40,38,32,33,34];t.inArray(i,r)>-1&&e.preventDefault(),Re=e.ctrlKey,Qe=setTimeout(function(){Vt(e)},150)}}function Rt(){t(this).prev().trigger("click")}function jt(t){Be&&(Re=t.ctrlKey)}function Mt(t){2==t.which&&(un=t.pageY,Ue.on("mousemove",Ht))}function Pt(t){2==t.which&&Ue.off("mousemove")}function Ut(){var e=t(this).closest(S);t(this).hasClass(X)?ze.m.left&&Ie.moveSlideLeft(e):ze.m.right&&Ie.moveSlideRight(e)}function Ft(){Be=!1,Re=!1}function qt(e){e.preventDefault();var n=t(this).parent().index();xt(t(S).eq(n))}function Bt(e){e.preventDefault();var n=t(this).closest(S).find(U),i=n.find(j).eq(t(this).closest("li").index());zt(n,i)}function Vt(e){var n=e.shiftKey;switch(e.which){case 38:case 33:ze.k.up&&Ie.moveSectionUp();break;case 32:if(n&&ze.k.up){Ie.moveSectionUp();break}case 40:case 34:ze.k.down&&Ie.moveSectionDown();break;case 36:ze.k.up&&Ie.moveTo(1);break;case 35:ze.k.down&&Ie.moveTo(t(S).length);break;case 37:ze.k.left&&Ie.moveSlideLeft();break;case 39:ze.k.right&&Ie.moveSlideRight();break;default:return}}function Ht(t){Ve&&(t.pageY<un?Ie.moveSectionUp():t.pageY>un&&Ie.moveSectionDown()),un=t.pageY}function zt(e,n){var r=n.position(),s=n.index(),o=e.closest(S),a=o.index(S),l=o.data("anchor"),c=o.find(H),h=pe(n),f=o.find(M),p=qe;if(u.onSlideLeave){var d=f.index(),m=ee(d,s);if(!p&&"none"!==m&&t.isFunction(u.onSlideLeave)&&u.onSlideLeave.call(f,l,a+1,d,m,s)===!1)return void(je=!1)}Et(f),n.addClass(v).siblings().removeClass(v),p||kt(n),!u.loopHorizontal&&u.controlArrows&&(o.find(Q).toggle(0!==s),o.find(et).toggle(!n.is(":last-child"))),o.hasClass(v)&&he(s,h,l,a);var g=function(){p||t.isFunction(u.afterSlideLoad)&&u.afterSlideLoad.call(n,l,a+1,h,s),At(n),je=!1};if(u.css3){var y="translate3d(-"+i.round(r.left)+"px, 0px, 0px)";Xt(e.find(q),u.scrollingSpeed>0).css($e(y)),Xe=setTimeout(function(){g()},u.scrollingSpeed,u.easing)}else e.animate({scrollLeft:i.round(r.left)},u.scrollingSpeed,u.easing,function(){g()});c.find(b).removeClass(v),c.find("li").eq(s).find("a").addClass(v)}function Gt(){if(Wt(),Me){var e=t(n.activeElement);if(!e.is("textarea")&&!e.is("input")&&!e.is("select")){var r=nt.height();i.abs(r-ln)>20*i.max(ln,r)/100&&(Ie.reBuild(!0),ln=r)}}else clearTimeout(Ge),Ge=setTimeout(function(){Ie.reBuild(!0)},350)}function Wt(){var t=u.responsive||u.responsiveWidth,e=u.responsiveHeight,n=t&&nt.outerWidth()<t,i=e&&nt.height()<e;t&&e?Ie.setResponsive(n||i):t?Ie.setResponsive(n):e&&Ie.setResponsive(i)}function Xt(t){var e="all "+u.scrollingSpeed+"ms "+u.easingcss3;return t.removeClass(p),t.css({"-webkit-transition":e,transition:e})}function Yt(t){return t.addClass(p)}function Kt(t,e){var n=825,r=900;if(n>t||r>e){var s=100*t/n,o=100*e/r,a=i.min(s,o),u=a.toFixed(2);Oe.css("font-size",u+"%")}else Oe.css("font-size","100%")}function Qt(e,n){u.navigation&&(t(E).find(b).removeClass(v),e?t(E).find('a[href="#'+e+'"]').addClass(v):t(E).find("li").eq(n).find("a").addClass(v))}function Jt(e){u.menu&&(t(u.menu).find(b).removeClass(v),t(u.menu).find('[data-menuanchor="'+e+'"]').addClass(v))}function Zt(t,e){Jt(t),Qt(t,e)}function te(e){var n=t(x).index(S),i=e.index(S);return n==i?"none":n>i?"up":"down"}function ee(t,e){return t==e?"none":t>e?"left":"right"}function ne(t){t.css("overflow","hidden");var e,n=u.scrollOverflowHandler,i=n.wrapContent(),r=t.closest(S),s=n.scrollable(t);s.length?e=n.scrollHeight(t):(e=t.get(0).scrollHeight,u.verticalCentered&&(e=t.find(L).get(0).scrollHeight));var o=Fe-parseInt(r.css("padding-bottom"))-parseInt(r.css("padding-top"));e>o?s.length?n.update(t,o):(u.verticalCentered?t.find(L).wrapInner(i):t.wrapInner(i),n.create(t,o)):n.remove(t),t.css("overflow","")}function ie(t){t.addClass(B).wrapInner('<div class="'+w+'" style="height:'+re(t)+'px;" />')}function re(t){var e=Fe;if(u.paddingTop||u.paddingBottom){var n=t;n.hasClass(_)||(n=t.closest(S));var i=parseInt(n.css("padding-top"))+parseInt(n.css("padding-bottom"));e=Fe-i}return e}function se(t,e){e?Xt(Ue):Yt(Ue),Ue.css($e(t)),setTimeout(function(){Ue.removeClass(p)},10)}function oe(e){var n=Ue.find(S+'[data-anchor="'+e+'"]');return n.length||(n=t(S).eq(e-1)),n}function ae(t,e){var n=e.find(U),i=n.find(j+'[data-anchor="'+t+'"]');return i.length||(i=n.find(j).eq(t)),i}function ue(t,e){var n=oe(t);"undefined"==typeof e&&(e=0),t===Ne||n.hasClass(v)?le(n,e):xt(n,function(){le(n,e)})}function le(t,e){if("undefined"!=typeof e){var n=t.find(U),i=ae(e,t);i.length&&zt(n,i)}}function ce(t,e){t.append('<div class="'+V+'"><ul></ul></div>');var n=t.find(H);n.addClass(u.slidesNavPosition);for(var i=0;e>i;i++)n.find("ul").append('<li><a href="#"><span></span></a></li>');n.css("margin-left","-"+n.width()/2+"px"),n.find("li").first().find("a").addClass(v)}function he(t,e,n,i){var r="";u.anchors.length&&!u.lockAnchors&&(t?("undefined"!=typeof n&&(r=n),"undefined"==typeof e&&(e=t),De=e,fe(r+"/"+e)):"undefined"!=typeof t?(De=e,fe(n)):fe(n)),de()}function fe(t){if(u.recordHistory)location.hash=t;else if(Me||Pe)e.history.replaceState(r,r,"#"+t);else{var n=e.location.href.split("#")[0];e.location.replace(n+"#"+t)}}function pe(t){var e=t.data("anchor"),n=t.index();return"undefined"==typeof e&&(e=n),e}function de(){var e=t(x),n=e.find(M),i=pe(e),r=pe(n),s=(e.index(S),String(i));n.length&&(s=s+"-"+r),s=s.replace("/","-").replace("#","");var o=new RegExp("\\b\\s?"+g+"-[^\\s]+\\b","g");Oe[0].className=Oe[0].className.replace(o,""),Oe.addClass(g+"-"+s)}function me(){var t,i=n.createElement("p"),s={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};n.body.insertBefore(i,null);for(var o in s)i.style[o]!==r&&(i.style[o]="translate3d(1px,1px,1px)",t=e.getComputedStyle(i).getPropertyValue(s[o]));return n.body.removeChild(i),t!==r&&t.length>0&&"none"!==t}function ge(){n.addEventListener?(n.removeEventListener("mousewheel",bt,!1),n.removeEventListener("wheel",bt,!1),n.removeEventListener("MozMousePixelScroll",bt,!1)):n.detachEvent("onmousewheel",bt)}function ve(){var t,i="";e.addEventListener?t="addEventListener":(t="attachEvent",i="on");var s="onwheel"in n.createElement("div")?"wheel":n.onmousewheel!==r?"mousewheel":"DOMMouseScroll";"DOMMouseScroll"==s?n[t](i+"MozMousePixelScroll",bt,!1):n[t](i+s,bt,!1)}function be(){if(Me||Pe){var e=_e();t(a).off("touchstart "+e.down).on("touchstart "+e.down,gt),t(a).off("touchmove "+e.move).on("touchmove "+e.move,pt)}}function ye(){if(Me||Pe){var e=_e();t(a).off("touchstart "+e.down),t(a).off("touchmove "+e.move)}}function _e(){var t;return t=e.PointerEvent?{down:"pointerdown",move:"pointermove"}:{down:"MSPointerDown",move:"MSPointerMove"}}function Se(t){var e=[];return e.y="undefined"!=typeof t.pageY&&(t.pageY||t.pageX)?t.pageY:t.touches[0].pageY,e.x="undefined"!=typeof t.pageX&&(t.pageY||t.pageX)?t.pageX:t.touches[0].pageX,Pe&&mt(t)&&u.scrollBar&&(e.y=t.touches[0].pageY,e.x=t.touches[0].pageX),e}function xe(t,e){Ie.setScrollingSpeed(0,"internal"),"undefined"!=typeof e&&(qe=!0),zt(t.closest(U),t),"undefined"!=typeof e&&(qe=!1),Ie.setScrollingSpeed(Je.scrollingSpeed,"internal")}function Ce(t){if(u.scrollBar)Ue.scrollTop(t);else if(u.css3){var e="translate3d(0px, -"+t+"px, 0px)";se(e,!1)}else Ue.css("top",-t)}function $e(t){return{"-webkit-transform":t,"-moz-transform":t,"-ms-transform":t,transform:t}}function we(t,e,n){switch(e){case"up":ze[n].up=t;break;case"down":ze[n].down=t;break;case"left":ze[n].left=t;break;case"right":ze[n].right=t;break;case"all":"m"==n?Ie.setAllowScrolling(t):Ie.setKeyboardScrolling(t)}}function Le(){Ce(0),t(E+", "+H+", "+W).remove(),t(S).css({height:"","background-color":"",padding:""}),t(j).css({width:""}),Ue.css({height:"",position:"","-ms-touch-action":"","touch-action":""}),Ee.css({overflow:"",height:""}),t("html").removeClass(m),t.each(Oe.get(0).className.split(/\s+/),function(t,e){0===e.indexOf(g)&&Oe.removeClass(e)}),t(S+", "+j).each(function(){u.scrollOverflowHandler.remove(t(this)),t(this).removeClass(B+" "+v)}),Yt(Ue),Ue.find(L+", "+q+", "+U).each(function(){t(this).replaceWith(this.childNodes)}),Ee.scrollTop(0);var e=[_,R,F];t.each(e,function(e,n){t("."+n).removeClass(n)})}function Te(t,e,n){u[t]=e,"internal"!==n&&(Je[t]=e)}function ke(){u.continuousVertical&&(u.loopTop||u.loopBottom)&&(u.continuousVertical=!1,Ae("warn","Option `loopTop/loopBottom` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled")),u.scrollBar&&u.scrollOverflow&&Ae("warn","Option `scrollBar` is mutually exclusive with `scrollOverflow`. Sections with scrollOverflow might not work well in Firefox"),u.continuousVertical&&u.scrollBar&&(u.continuousVertical=!1,Ae("warn","Option `scrollBar` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled")),t.each(u.anchors,function(e,n){(t("#"+n).length||t('[name="'+n+'"]').length)&&Ae("error","data-anchor tags can not have the same value as any `id` element on the site (or `name` element for IE).")})}function Ae(t,e){console&&console[t]&&console[t]("fullPage: "+e)}var Ee=t("html, body"),Oe=t("body"),Ie=t.fn.fullpage;u=t.extend({menu:!1,anchors:[],lockAnchors:!1,navigation:!1,navigationPosition:"right",navigationTooltips:[],showActiveTooltip:!1,slidesNavigation:!1,slidesNavPosition:"bottom",scrollBar:!1,hybrid:!1,css3:!0,scrollingSpeed:700,autoScrolling:!0,fitToSection:!0,fitToSectionDelay:1e3,easing:"easeInOutCubic",easingcss3:"ease",loopBottom:!1,loopTop:!1,loopHorizontal:!0,continuousVertical:!1,normalScrollElements:null,scrollOverflow:!1,scrollOverflowHandler:s,touchSensitivity:5,normalScrollElementTouchThreshold:5,keyboardScrolling:!0,animateAnchor:!0,recordHistory:!0,controlArrows:!0,controlArrowColor:"#fff",verticalCentered:!0,resize:!1,sectionsColor:[],paddingTop:0,paddingBottom:0,fixedElements:null,responsive:0,responsiveWidth:0,responsiveHeight:0,sectionSelector:y,slideSelector:D,afterLoad:null,onLeave:null,afterRender:null,afterResize:null,afterReBuild:null,afterSlideLoad:null,onSlideLeave:null},u),ke(),t.extend(t.easing,{easeInOutCubic:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e*e+n:i/2*((e-=2)*e*e+2)+n}}),t.extend(t.easing,{easeInQuart:function(t,e,n,i,r){return i*(e/=r)*e*e*e+n}}),Ie.setAutoScrolling=function(e,n){Te("autoScrolling",e,n);var i=t(x);u.autoScrolling&&!u.scrollBar?(Ee.css({overflow:"hidden",height:"100%"}),Ie.setRecordHistory(Je.recordHistory,"internal"),Ue.css({"-ms-touch-action":"none","touch-action":"none"}),i.length&&Ce(i.position().top)):(Ee.css({overflow:"visible",height:"initial"}),Ie.setRecordHistory(!1,"internal"),Ue.css({"-ms-touch-action":"","touch-action":""}),Ce(0),i.length&&Ee.scrollTop(i.position().top))},Ie.setRecordHistory=function(t,e){Te("recordHistory",t,e)},Ie.setScrollingSpeed=function(t,e){Te("scrollingSpeed",t,e)},Ie.setFitToSection=function(t,e){Te("fitToSection",t,e)},Ie.setLockAnchors=function(t){u.lockAnchors=t},Ie.setMouseWheelScrolling=function(t){t?ve():ge()},Ie.setAllowScrolling=function(e,n){"undefined"!=typeof n?(n=n.replace(/ /g,"").split(","),t.each(n,function(t,n){we(e,n,"m")})):e?(Ie.setMouseWheelScrolling(!0),be()):(Ie.setMouseWheelScrolling(!1),ye())},Ie.setKeyboardScrolling=function(e,n){"undefined"!=typeof n?(n=n.replace(/ /g,"").split(","),t.each(n,function(t,n){we(e,n,"k")})):u.keyboardScrolling=e},Ie.moveSectionUp=function(){var e=t(x).prev(S);e.length||!u.loopTop&&!u.continuousVertical||(e=t(S).last()),e.length&&xt(e,null,!0)},Ie.moveSectionDown=function(){var e=t(x).next(S);e.length||!u.loopBottom&&!u.continuousVertical||(e=t(S).first()),e.length&&xt(e,null,!1)},Ie.silentMoveTo=function(t,e){requestAnimFrame(function(){Ie.setScrollingSpeed(0,"internal")}),Ie.moveTo(t,e),requestAnimFrame(function(){Ie.setScrollingSpeed(Je.scrollingSpeed,"internal")})},Ie.moveTo=function(t,e){var n=oe(t);"undefined"!=typeof e?ue(t,e):n.length>0&&xt(n)},Ie.moveSlideRight=function(t){yt("next",t)},Ie.moveSlideLeft=function(t){yt("prev",t)},Ie.reBuild=function(e){if(!Ue.hasClass(d)){qe=!0,requestAnimFrame(function(){qe=!0});var n=nt.outerWidth();Fe=nt.height(),u.resize&&Kt(Fe,n),t(S).each(function(){var e=t(this).find(U),n=t(this).find(j);u.verticalCentered&&t(this).find(L).css("height",re(t(this))+"px"),t(this).css("height",Fe+"px"),u.scrollOverflow&&(n.length?n.each(function(){ne(t(this))}):ne(t(this))),n.length>1&&zt(e,e.find(M))});var i=t(x),r=i.index(S);r&&Ie.silentMoveTo(r+1),qe=!1,requestAnimFrame(function(){qe=!1}),t.isFunction(u.afterResize)&&e&&u.afterResize.call(Ue),t.isFunction(u.afterReBuild)&&!e&&u.afterReBuild.call(Ue)}},Ie.setResponsive=function(e){var n=Oe.hasClass(f);e?n||(Ie.setAutoScrolling(!1,"internal"),Ie.setFitToSection(!1,"internal"),t(E).hide(),Oe.addClass(f)):n&&(Ie.setAutoScrolling(Je.autoScrolling,"internal"),Ie.setFitToSection(Je.autoScrolling,"internal"),t(E).show(),Oe.removeClass(f))};var Ne,De,Re,je=!1,Me=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),Pe="ontouchstart"in e||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints,Ue=t(this),Fe=nt.height(),qe=!1,Be=!0,Ve=!0,He=[],ze={};ze.m={up:!0,down:!0,left:!0,right:!0},ze.k=t.extend(!0,{},ze.m);var Ge,We,Xe,Ye,Ke,Qe,Je=t.extend(!0,{},u);t(this).length&&(l(),c());var Ze=!1,tn=0,en=0,nn=0,rn=0,sn=0,on=(new Date).getTime();e.requestAnimFrame=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){t()}}();var an=0,un=0,ln=Fe;Ie.destroy=function(e){Ie.setAutoScrolling(!1,"internal"),Ie.setAllowScrolling(!1),Ie.setKeyboardScrolling(!1),Ue.addClass(d),clearTimeout(Xe),clearTimeout(We),clearTimeout(Ge),clearTimeout(Ye),clearTimeout(Ke),nt.off("scroll",lt).off("hashchange",Nt).off("resize",Gt),it.off("click",E+" a").off("mouseenter",E+" li").off("mouseleave",E+" li").off("click",z).off("mouseover",u.normalScrollElements).off("mouseout",u.normalScrollElements),t(S).off("click",W),clearTimeout(Xe),clearTimeout(We),e&&Le()}};var rt={afterRender:function(t){var e=t.find(P),n=t.find(l);e.length&&(n=e.find(M)),n.mouseover()},create:function(t,e){t.find(l).slimScroll({allowPageScroll:!0,height:e+"px",size:"10px",alwaysVisible:!0})},isScrolled:function(t,e){return"top"===t?!e.scrollTop():"bottom"===t?e.scrollTop()+1+e.innerHeight()>=e[0].scrollHeight:void 0},scrollable:function(t){return t.find(U).length?t.find(M).find(l):t.find(l)},scrollHeight:function(t){return t.find(l).get(0).scrollHeight},remove:function(t){t.find(l).children().first().unwrap().unwrap(),t.find(c).remove(),t.find(h).remove()},update:function(t,e){t.find(l).css("height",e+"px").parent().css("height",e+"px")},wrapContent:function(){return'<div class="'+u+'"></div>'}};s=rt}),/*! jQuery UI - v1.9.2 - 2014-03-21
* http://jqueryui.com
* Includes: jquery.ui.effect.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
jQuery.effects||function(t,e){var n=t.uiBackCompat!==!1,i="ui-effects-";t.effects={effect:{}},function(e,n){function i(t,e,n){var i=f[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:t>i.max?i.max:t)}function r(t){var i=c(),r=i._rgba=[];return t=t.toLowerCase(),m(l,function(e,s){var o,a=s.re.exec(t),u=a&&s.parse(a),l=s.space||"rgba";return u?(o=i[l](u),i[h[l].cache]=o[h[l].cache],r=i._rgba=o._rgba,!1):n}),r.length?("0,0,0,0"===r.join()&&e.extend(r,o.transparent),i):o[t]}function s(t,e,n){return n=(n+1)%1,1>6*n?t+6*(e-t)*n:1>2*n?e:2>3*n?t+6*(e-t)*(2/3-n):t}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),u=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],c=e.Color=function(t,n,i,r){return new e.Color.fn.parse(t,n,i,r)},h={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},f={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},p=c.support={},d=e("<p>")[0],m=e.each;d.style.cssText="background-color:rgba(1,1,1,.5)",p.rgba=d.style.backgroundColor.indexOf("rgba")>-1,m(h,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),c.fn=e.extend(c.prototype,{parse:function(s,a,u,l){if(s===n)return this._rgba=[null,null,null,null],this;(s.jquery||s.nodeType)&&(s=e(s).css(a),a=n);var f=this,p=e.type(s),d=this._rgba=[];return a!==n&&(s=[s,a,u,l],p="array"),"string"===p?this.parse(r(s)||o._default):"array"===p?(m(h.rgba.props,function(t,e){d[e.idx]=i(s[e.idx],e)}),this):"object"===p?(s instanceof c?m(h,function(t,e){s[e.cache]&&(f[e.cache]=s[e.cache].slice())}):m(h,function(e,n){var r=n.cache;m(n.props,function(t,e){if(!f[r]&&n.to){if("alpha"===t||null==s[t])return;f[r]=n.to(f._rgba)}f[r][e.idx]=i(s[t],e,!0)}),f[r]&&0>t.inArray(null,f[r].slice(0,3))&&(f[r][3]=1,n.from&&(f._rgba=n.from(f[r])))}),this):n},is:function(t){var e=c(t),i=!0,r=this;return m(h,function(t,s){var o,a=e[s.cache];return a&&(o=r[s.cache]||s.to&&s.to(r._rgba)||[],m(s.props,function(t,e){return null!=a[e.idx]?i=a[e.idx]===o[e.idx]:n})),i}),i},_space:function(){var t=[],e=this;return m(h,function(n,i){e[i.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var n=c(t),r=n._space(),s=h[r],o=0===this.alpha()?c("transparent"):this,a=o[s.cache]||s.to(o._rgba),u=a.slice();return n=n[s.cache],m(s.props,function(t,r){var s=r.idx,o=a[s],l=n[s],c=f[r.type]||{};null!==l&&(null===o?u[s]=l:(c.mod&&(l-o>c.mod/2?o+=c.mod:o-l>c.mod/2&&(o-=c.mod)),u[s]=i((l-o)*e+o,r)))}),this[r](u)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=c(t)._rgba;return c(e.map(n,function(t,e){return(1-i)*r[e]+i*t}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),i=n.pop();return t&&n.push(~~(255*i)),"#"+e.map(n,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,h.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,s=t[2]/255,o=t[3],a=Math.max(i,r,s),u=Math.min(i,r,s),l=a-u,c=a+u,h=.5*c;return e=u===a?0:i===a?60*(r-s)/l+360:r===a?60*(s-i)/l+120:60*(i-r)/l+240,n=0===h||1===h?h:.5>=h?l/c:l/(2-c),[Math.round(e)%360,n,h,null==o?1:o]},h.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],r=t[3],o=.5>=i?i*(1+n):i+n-i*n,a=2*i-o;return[Math.round(255*s(a,o,e+1/3)),Math.round(255*s(a,o,e)),Math.round(255*s(a,o,e-1/3)),r]},m(h,function(t,r){var s=r.props,o=r.cache,a=r.to,l=r.from;c.fn[t]=function(t){if(a&&!this[o]&&(this[o]=a(this._rgba)),t===n)return this[o].slice();var r,u=e.type(t),h="array"===u||"object"===u?t:arguments,f=this[o].slice();return m(s,function(t,e){var n=h["object"===u?t:e.idx];null==n&&(n=f[e.idx]),f[e.idx]=i(n,e)}),l?(r=c(l(f)),r[o]=f,r):c(f)},m(s,function(n,i){c.fn[n]||(c.fn[n]=function(r){var s,o=e.type(r),a="alpha"===n?this._hsla?"hsla":"rgba":t,l=this[a](),c=l[i.idx];return"undefined"===o?c:("function"===o&&(r=r.call(this,c),o=e.type(r)),null==r&&i.empty?this:("string"===o&&(s=u.exec(r),s&&(r=c+parseFloat(s[2])*("+"===s[1]?1:-1))),l[i.idx]=r,this[a](l)))})})}),m(a,function(t,n){e.cssHooks[n]={set:function(t,i){var s,o,a="";if("string"!==e.type(i)||(s=r(i))){if(i=c(s||i),!p.rgba&&1!==i._rgba[3]){for(o="backgroundColor"===n?t.parentNode:t;(""===a||"transparent"===a)&&o&&o.style;)try{a=e.css(o,"backgroundColor"),o=o.parentNode}catch(u){}i=i.blend(a&&"transparent"!==a?a:"_default")}i=i.toRgbaString()}try{t.style[n]=i}catch(l){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=c(t.elem,n),t.end=c(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}}),e.cssHooks.borderColor={expand:function(t){var e={};return m(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t}),e}},o=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function n(){var e,n,i=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,r={};if(i&&i.length&&i[0]&&i[i[0]])for(n=i.length;n--;)e=i[n],"string"==typeof i[e]&&(r[t.camelCase(e)]=i[e]);else for(e in i)"string"==typeof i[e]&&(r[e]=i[e]);return r}function i(e,n){var i,r,o={};for(i in n)r=n[i],e[i]!==r&&(s[i]||(t.fx.step[i]||!isNaN(parseFloat(r)))&&(o[i]=r));return o}var r=["add","remove","toggle"],s={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,n,t.end),t.setAttr=!0)}}),t.effects.animateClass=function(e,s,o,a){var u=t.speed(s,o,a);return this.queue(function(){var s,o=t(this),a=o.attr("class")||"",l=u.children?o.find("*").andSelf():o;l=l.map(function(){var e=t(this);return{el:e,start:n.call(this)}}),s=function(){t.each(r,function(t,n){e[n]&&o[n+"Class"](e[n])})},s(),l=l.map(function(){return this.end=n.call(this.el[0]),this.diff=i(this.start,this.end),this}),o.attr("class",a),l=l.map(function(){var e=this,n=t.Deferred(),i=jQuery.extend({},u,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()}),t.when.apply(t,l.get()).done(function(){s(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),u.complete.call(o[0])})})},t.fn.extend({_addClass:t.fn.addClass,addClass:function(e,n,i,r){return n?t.effects.animateClass.call(this,{add:e},n,i,r):this._addClass(e)},_removeClass:t.fn.removeClass,removeClass:function(e,n,i,r){return n?t.effects.animateClass.call(this,{remove:e},n,i,r):this._removeClass(e)},_toggleClass:t.fn.toggleClass,toggleClass:function(n,i,r,s,o){return"boolean"==typeof i||i===e?r?t.effects.animateClass.call(this,i?{add:n}:{remove:n},r,s,o):this._toggleClass(n,i):t.effects.animateClass.call(this,{toggle:n},i,r,s)},switchClass:function(e,n,i,r,s){return t.effects.animateClass.call(this,{add:n,remove:e},i,r,s)}})}(),function(){function r(e,n,i,r){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(r=i,i=n,n={}),t.isFunction(i)&&(r=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=r||n.complete,e}function s(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?!1:n&&t.effects[e]?!1:!0}t.extend(t.effects,{version:"1.9.2",save:function(t,e){for(var n=0;e.length>n;n++)null!==e[n]&&t.data(i+e[n],t[0].style[e[n]])},restore:function(t,n){var r,s;for(s=0;n.length>s;s++)null!==n[s]&&(r=t.data(i+n[s]),r===e&&(r=""),t.css(n[s],r))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},s=document.activeElement;try{s.id}catch(o){s=document.body}return e.wrap(i),(e[0]===s||t.contains(e[0],s))&&t(s).focus(),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).focus()),e},setTransition:function(e,n,i,r){return r=r||{},t.each(n,function(t,n){var s=e.cssUnit(n);s[0]>0&&(r[n]=s[0]*i+s[1])}),r}}),t.fn.extend({effect:function(){function e(e){function n(){t.isFunction(s)&&s.call(r[0]),t.isFunction(e)&&e()}var r=t(this),s=i.complete,o=i.mode;(r.is(":hidden")?"hide"===o:"show"===o)?n():a.call(r[0],i,n)}var i=r.apply(this,arguments),s=i.mode,o=i.queue,a=t.effects.effect[i.effect],u=!a&&n&&t.effects[i.effect];return t.fx.off||!a&&!u?s?this[s](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):a?o===!1?this.each(e):this.queue(o||"fx",e):u.call(this,{options:i,duration:i.duration,callback:i.complete,mode:i.mode})},_show:t.fn.show,show:function(t){if(s(t))return this._show.apply(this,arguments);var e=r.apply(this,arguments);return e.mode="show",this.effect.call(this,e)},_hide:t.fn.hide,hide:function(t){if(s(t))return this._hide.apply(this,arguments);var e=r.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)},__toggle:t.fn.toggle,toggle:function(e){if(s(e)||"boolean"==typeof e||t.isFunction(e))return this.__toggle.apply(this,arguments);var n=r.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)},cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,n){e[n]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;((e=Math.pow(2,--n))-1)/11>t;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?n(2*t)/2:1-n(-2*t+2)/2}})}()}(jQuery),/*! Copyright (c) 2011 Piotr Rochala (http://rocha.la)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Version: 1.3.2 (modified for fullpage.js ) (v 1.1)
 *
 */
function(e){jQuery.fn.extend({slimScroll:function(n){var i=e.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},n);return this.each(function(){function r(t){if(h){t=t||window.event;var n=0;t.wheelDelta&&(n=-t.wheelDelta/120),t.detail&&(n=t.detail/3),e(t.target||t.srcTarget||t.srcElement).closest("."+i.wrapperClass).is(_.parent())&&s(n,!0),t.preventDefault&&!y&&t.preventDefault(),y||(t.returnValue=!1)}}function s(t,e,n){y=!1;var r=t,s=_.outerHeight()-x.outerHeight();e&&(r=parseInt(x.css("top"))+t*parseInt(i.wheelStep)/100*x.outerHeight(),r=Math.min(Math.max(r,0),s),r=t>0?Math.ceil(r):Math.floor(r),x.css({top:r+"px"})),v=parseInt(x.css("top"))/(_.outerHeight()-x.outerHeight()),r=v*(_[0].scrollHeight-_.outerHeight()),n&&(r=t,t=r/_[0].scrollHeight*_.outerHeight(),t=Math.min(Math.max(t,0),s),x.css({top:t+"px"})),_.scrollTop(r),_.trigger("slimscrolling",~~r),l(),c()}function o(){window.addEventListener?(this.addEventListener("DOMMouseScroll",r,!1),this.addEventListener("mousewheel",r,!1)):document.attachEvent("onmousewheel",r)}function a(){window.removeEventListener?(this.removeEventListener("DOMMouseScroll",r),this.removeEventListener("mousewheel",r)):document.detachEvent("onmousewheel",r)}function u(){g=Math.max(_.outerHeight()/_[0].scrollHeight*_.outerHeight(),30),x.css({height:g+"px"});var t=g==_.outerHeight()?"none":"block";x.css({display:t})}function l(){u(),clearTimeout(d),v==~~v?(y=i.allowPageScroll,b!=v&&_.trigger("slimscroll",0==~~v?"top":"bottom")):y=!1,b=v,g>=_.outerHeight()?y=!0:(x.stop(!0,!0).fadeIn("fast"),i.railVisible&&C.stop(!0,!0).fadeIn("fast"))}function c(){i.alwaysVisible||(d=setTimeout(function(){i.disableFadeOut&&h||f||p||(x.fadeOut("slow"),C.fadeOut("slow"))},1e3))}var h,f,p,d,m,g,v,b,y=!1,_=e(this);if(_.parent().hasClass(i.wrapperClass)){var S=_.scrollTop(),x=_.parent().find("."+i.barClass),C=_.parent().find("."+i.railClass);if(u(),e.isPlainObject(n)){if("height"in n&&"auto"==n.height){_.parent().css("height","auto"),_.css("height","auto");var $=_.parent().parent().height();_.parent().css("height",$),_.css("height",$)}if("scrollTo"in n)S=parseInt(i.scrollTo);else if("scrollBy"in n)S+=parseInt(i.scrollBy);else if("destroy"in n)return a(),x.remove(),C.remove(),void _.unwrap();s(S,!1,!0)}}else{i.height="auto"==n.height?_.parent().height():n.height,S=e("<div></div>").addClass(i.wrapperClass).css({position:"relative",overflow:"hidden",width:i.width,height:i.height}),_.css({overflow:"hidden",width:i.width,height:i.height});var C=e("<div></div>").addClass(i.railClass).css({width:i.size,height:"100%",position:"absolute",top:0,display:i.alwaysVisible&&i.railVisible?"block":"none","border-radius":i.railBorderRadius,background:i.railColor,opacity:i.railOpacity,zIndex:90}),x=e("<div></div>").addClass(i.barClass).css({background:i.color,width:i.size,position:"absolute",top:0,opacity:i.opacity,display:i.alwaysVisible?"block":"none","border-radius":i.borderRadius,BorderRadius:i.borderRadius,MozBorderRadius:i.borderRadius,WebkitBorderRadius:i.borderRadius,zIndex:99}),$="right"==i.position?{right:i.distance}:{left:i.distance};C.css($),x.css($),_.wrap(S),_.parent().append(x),_.parent().append(C),i.railDraggable&&x.bind("mousedown",function(n){var i=e(document);return p=!0,t=parseFloat(x.css("top")),pageY=n.pageY,i.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,x.css("top",currTop),s(0,x.position().top,!1)}),i.bind("mouseup.slimscroll",function(t){p=!1,c(),i.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(t){return t.stopPropagation(),t.preventDefault(),!1}),C.hover(function(){l()},function(){c()}),x.hover(function(){f=!0},function(){f=!1}),_.hover(function(){h=!0,l(),c()},function(){h=!1,c()}),_.bind("touchstart",function(t,e){t.originalEvent.touches.length&&(m=t.originalEvent.touches[0].pageY)}),_.bind("touchmove",function(t){y||t.originalEvent.preventDefault(),t.originalEvent.touches.length&&(s((m-t.originalEvent.touches[0].pageY)/i.touchScrollStep,!0),m=t.originalEvent.touches[0].pageY)}),u(),"bottom"===i.start?(x.css({top:_.outerHeight()-x.outerHeight()}),s(0,!0)):"top"!==i.start&&(s(e(i.start).position().top,null,!0),i.alwaysVisible||x.hide()),o()}}),this}}),jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})}(jQuery),function(){function t(t,e){return t.set(e[0],e[1]),t}function e(t,e){return t.add(e),t}function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function i(t,e,n,i){for(var r=-1,s=t?t.length:0;++r<s;){var o=t[r];e(i,o,n(o),t)}return i}function r(t,e){for(var n=-1,i=t?t.length:0;++n<i&&e(t[n],n,t)!==!1;);return t}function s(t,e){for(var n=t?t.length:0;n--&&e(t[n],n,t)!==!1;);return t}function o(t,e){for(var n=-1,i=t?t.length:0;++n<i;)if(!e(t[n],n,t))return!1;return!0}function a(t,e){for(var n=-1,i=t?t.length:0,r=0,s=[];++n<i;){var o=t[n];e(o,n,t)&&(s[r++]=o)}return s}function u(t,e){var n=t?t.length:0;return!!n&&y(t,e,0)>-1}function l(t,e,n){for(var i=-1,r=t?t.length:0;++i<r;)if(n(e,t[i]))return!0;return!1}function c(t,e){for(var n=-1,i=t?t.length:0,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function h(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function f(t,e,n,i){var r=-1,s=t?t.length:0;for(i&&s&&(n=t[++r]);++r<s;)n=e(n,t[r],r,t);return n}function p(t,e,n,i){var r=t?t.length:0;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function d(t,e){for(var n=-1,i=t?t.length:0;++n<i;)if(e(t[n],n,t))return!0;return!1}function m(t){return t.split("")}function g(t){return t.match(Oe)||[]}function v(t,e,n){var i;return n(t,function(t,n,r){return e(t,n,r)?(i=n,!1):void 0}),i}function b(t,e,n,i){for(var r=t.length,s=n+(i?1:-1);i?s--:++s<r;)if(e(t[s],s,t))return s;return-1}function y(t,e,n){return e===e?G(t,e,n):b(t,S,n)}function _(t,e,n,i){for(var r=n-1,s=t.length;++r<s;)if(i(t[r],e))return r;return-1}function S(t){return t!==t}function x(t,e){var n=t?t.length:0;return n?T(t,e)/n:At}function C(t){return function(e){return null==e?Z:e[t]}}function $(t){return function(e){return null==t?Z:t[e]}}function w(t,e,n,i,r){return r(t,function(t,r,s){n=i?(i=!1,t):e(n,t,r,s)}),n}function L(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function T(t,e){for(var n,i=-1,r=t.length;++i<r;){var s=e(t[i]);s!==Z&&(n=n===Z?s:n+s)}return n}function k(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function A(t,e){return c(e,function(e){return[e,t[e]]})}function E(t){return function(e){return t(e)}}function O(t,e){return c(e,function(e){return t[e]})}function I(t,e){return t.has(e)}function N(t,e){for(var n=-1,i=t.length;++n<i&&y(e,t[n],0)>-1;);return n}function D(t,e){for(var n=t.length;n--&&y(e,t[n],0)>-1;);return n}function R(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}function j(t){return"\\"+Fn[t]}function M(t,e){return null==t?Z:t[e]}function P(t){return On.test(t)}function U(t){return In.test(t)}function F(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function q(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function B(t,e){return function(n){return t(e(n))}}function V(t,e){for(var n=-1,i=t.length,r=0,s=[];++n<i;){var o=t[n];(o===e||o===ot)&&(t[n]=ot,s[r++]=n)}return s}function H(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function z(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function G(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function W(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}function X(t){return P(t)?K(t):ii(t)}function Y(t){return P(t)?Q(t):m(t)}function K(t){for(var e=An.lastIndex=0;An.test(t);)++e;return e}function Q(t){return t.match(An)||[]}function J(t){return t.match(En)||[]}var Z,tt="4.16.3",et=200,nt="Unsupported core-js use. Try https://github.com/es-shims.",it="Expected a function",rt="__lodash_hash_undefined__",st=500,ot="__lodash_placeholder__",at=1,ut=2,lt=4,ct=8,ht=16,ft=32,pt=64,dt=128,mt=256,gt=512,vt=1,bt=2,yt=30,_t="...",St=500,xt=16,Ct=1,$t=2,wt=3,Lt=1/0,Tt=9007199254740991,kt=1.7976931348623157e308,At=NaN,Et=4294967295,Ot=Et-1,It=Et>>>1,Nt=[["ary",dt],["bind",at],["bindKey",ut],["curry",ct],["curryRight",ht],["flip",gt],["partial",ft],["partialRight",pt],["rearg",mt]],Dt="[object Arguments]",Rt="[object Array]",jt="[object Boolean]",Mt="[object Date]",Pt="[object Error]",Ut="[object Function]",Ft="[object GeneratorFunction]",qt="[object Map]",Bt="[object Number]",Vt="[object Object]",Ht="[object Promise]",zt="[object Proxy]",Gt="[object RegExp]",Wt="[object Set]",Xt="[object String]",Yt="[object Symbol]",Kt="[object WeakMap]",Qt="[object WeakSet]",Jt="[object ArrayBuffer]",Zt="[object DataView]",te="[object Float32Array]",ee="[object Float64Array]",ne="[object Int8Array]",ie="[object Int16Array]",re="[object Int32Array]",se="[object Uint8Array]",oe="[object Uint8ClampedArray]",ae="[object Uint16Array]",ue="[object Uint32Array]",le=/\b__p \+= '';/g,ce=/\b(__p \+=) '' \+/g,he=/(__e\(.*?\)|\b__t\)) \+\n'';/g,fe=/&(?:amp|lt|gt|quot|#39);/g,pe=/[&<>"']/g,de=RegExp(fe.source),me=RegExp(pe.source),ge=/<%-([\s\S]+?)%>/g,ve=/<%([\s\S]+?)%>/g,be=/<%=([\s\S]+?)%>/g,ye=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_e=/^\w*$/,Se=/^\./,xe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ce=/[\\^$.*+?()[\]{}|]/g,$e=RegExp(Ce.source),we=/^\s+|\s+$/g,Le=/^\s+/,Te=/\s+$/,ke=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ae=/\{\n\/\* \[wrapped with (.+)\] \*/,Ee=/,? & /,Oe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ie=/\\(\\)?/g,Ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,De=/\w*$/,Re=/^[-+]0x[0-9a-f]+$/i,je=/^0b[01]+$/i,Me=/^\[object .+?Constructor\]$/,Pe=/^0o[0-7]+$/i,Ue=/^(?:0|[1-9]\d*)$/,Fe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qe=/($^)/,Be=/['\n\r\u2028\u2029\\]/g,Ve="\\ud800-\\udfff",He="\\u0300-\\u036f\\ufe20-\\ufe23",ze="\\u20d0-\\u20f0",Ge="\\u2700-\\u27bf",We="a-z\\xdf-\\xf6\\xf8-\\xff",Xe="\\xac\\xb1\\xd7\\xf7",Ye="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ke="\\u2000-\\u206f",Qe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Je="A-Z\\xc0-\\xd6\\xd8-\\xde",Ze="\\ufe0e\\ufe0f",tn=Xe+Ye+Ke+Qe,en="[']",nn="["+Ve+"]",rn="["+tn+"]",sn="["+He+ze+"]",on="\\d+",an="["+Ge+"]",un="["+We+"]",ln="[^"+Ve+tn+on+Ge+We+Je+"]",cn="\\ud83c[\\udffb-\\udfff]",hn="(?:"+sn+"|"+cn+")",fn="[^"+Ve+"]",pn="(?:\\ud83c[\\udde6-\\uddff]){2}",dn="[\\ud800-\\udbff][\\udc00-\\udfff]",mn="["+Je+"]",gn="\\u200d",vn="(?:"+un+"|"+ln+")",bn="(?:"+mn+"|"+ln+")",yn="(?:"+en+"(?:d|ll|m|re|s|t|ve))?",_n="(?:"+en+"(?:D|LL|M|RE|S|T|VE))?",Sn=hn+"?",xn="["+Ze+"]?",Cn="(?:"+gn+"(?:"+[fn,pn,dn].join("|")+")"+xn+Sn+")*",$n=xn+Sn+Cn,wn="(?:"+[an,pn,dn].join("|")+")"+$n,Ln="(?:"+[fn+sn+"?",sn,pn,dn,nn].join("|")+")",Tn=RegExp(en,"g"),kn=RegExp(sn,"g"),An=RegExp(cn+"(?="+cn+")|"+Ln+$n,"g"),En=RegExp([mn+"?"+un+"+"+yn+"(?="+[rn,mn,"$"].join("|")+")",bn+"+"+_n+"(?="+[rn,mn+vn,"$"].join("|")+")",mn+"?"+vn+"+"+yn,mn+"+"+_n,on,wn].join("|"),"g"),On=RegExp("["+gn+Ve+He+ze+Ze+"]"),In=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Nn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Dn=-1,Rn={};Rn[te]=Rn[ee]=Rn[ne]=Rn[ie]=Rn[re]=Rn[se]=Rn[oe]=Rn[ae]=Rn[ue]=!0,Rn[Dt]=Rn[Rt]=Rn[Jt]=Rn[jt]=Rn[Zt]=Rn[Mt]=Rn[Pt]=Rn[Ut]=Rn[qt]=Rn[Bt]=Rn[Vt]=Rn[Gt]=Rn[Wt]=Rn[Xt]=Rn[Kt]=!1;var jn={};jn[Dt]=jn[Rt]=jn[Jt]=jn[Zt]=jn[jt]=jn[Mt]=jn[te]=jn[ee]=jn[ne]=jn[ie]=jn[re]=jn[qt]=jn[Bt]=jn[Vt]=jn[Gt]=jn[Wt]=jn[Xt]=jn[Yt]=jn[se]=jn[oe]=jn[ae]=jn[ue]=!0,jn[Pt]=jn[Ut]=jn[Kt]=!1;var Mn={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"},Pn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Un={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Fn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},qn=parseFloat,Bn=parseInt,Vn="object"==typeof global&&global&&global.Object===Object&&global,Hn="object"==typeof self&&self&&self.Object===Object&&self,zn=Vn||Hn||Function("return this")(),Gn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Wn=Gn&&"object"==typeof module&&module&&!module.nodeType&&module,Xn=Wn&&Wn.exports===Gn,Yn=Xn&&Vn.process,Kn=function(){try{return Yn&&Yn.binding("util")}catch(t){}}(),Qn=Kn&&Kn.isArrayBuffer,Jn=Kn&&Kn.isDate,Zn=Kn&&Kn.isMap,ti=Kn&&Kn.isRegExp,ei=Kn&&Kn.isSet,ni=Kn&&Kn.isTypedArray,ii=C("length"),ri=$(Mn),si=$(Pn),oi=$(Un),ai=function li(m){function $(t){if(Qa(t)&&!af(t)&&!(t instanceof Q)){if(t instanceof K)return t;if(lc.call(t,"__wrapped__"))return Gs(t)}return new K(t)}function G(){}function K(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=Z}function Q(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Et,this.__views__=[]}function Oe(){var t=new Q(this.__wrapped__);return t.__actions__=Ir(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ir(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ir(this.__views__),t}function Ve(){if(this.__filtered__){var t=new Q(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function He(){var t=this.__wrapped__.value(),e=this.__dir__,n=af(t),i=0>e,r=n?t.length:0,s=gs(0,r,this.__views__),o=s.start,a=s.end,u=a-o,l=i?a:o-1,c=this.__iteratees__,h=c.length,f=0,p=Mc(u,this.__takeCount__);if(!n||et>r||r==u&&p==u)return pr(t,this.__actions__);var d=[];t:for(;u--&&p>f;){l+=e;for(var m=-1,g=t[l];++m<h;){var v=c[m],b=v.iteratee,y=v.type,_=b(g);if(y==$t)g=_;else if(!_){if(y==Ct)continue t;break t}}d[f++]=g}return d}function ze(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Ge(){this.__data__=Wc?Wc(null):{},this.size=0}function We(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Xe(t){var e=this.__data__;if(Wc){var n=e[t];return n===rt?Z:n}return lc.call(e,t)?e[t]:Z}function Ye(t){var e=this.__data__;return Wc?e[t]!==Z:lc.call(e,t)}function Ke(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Wc&&e===Z?rt:e,this}function Qe(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Je(){this.__data__=[],this.size=0}function Ze(t){var e=this.__data__,n=Ln(e,t);if(0>n)return!1;var i=e.length-1;return n==i?e.pop():Cc.call(e,n,1),--this.size,!0}function tn(t){var e=this.__data__,n=Ln(e,t);return 0>n?Z:e[n][1]}function en(t){return Ln(this.__data__,t)>-1}function nn(t,e){var n=this.__data__,i=Ln(n,t);return 0>i?(++this.size,n.push([t,e])):n[i][1]=e,this}function rn(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function sn(){this.size=0,this.__data__={hash:new ze,map:new(Vc||Qe),string:new ze}}function on(t){var e=ps(this,t)["delete"](t);return this.size-=e?1:0,e}function an(t){return ps(this,t).get(t)}function un(t){return ps(this,t).has(t)}function ln(t,e){var n=ps(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function cn(t){var e=-1,n=t?t.length:0;for(this.__data__=new rn;++e<n;)this.add(t[e])}function hn(t){return this.__data__.set(t,rt),this}function fn(t){return this.__data__.has(t)}function pn(t){var e=this.__data__=new Qe(t);this.size=e.size}function dn(){this.__data__=new Qe,this.size=0}function mn(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function gn(t){return this.__data__.get(t)}function vn(t){return this.__data__.has(t)}function bn(t,e){var n=this.__data__;if(n instanceof Qe){var i=n.__data__;if(!Vc||i.length<et-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new rn(i)}return n.set(t,e),this.size=n.size,this}function yn(t,e){var n=af(t)||Ma(t)?k(t.length,ec):[],i=n.length,r=!!i;for(var s in t)!e&&!lc.call(t,s)||r&&("length"==s||$s(s,i))||n.push(s);return n}function _n(t){var e=t.length;return e?t[Xi(0,e-1)]:Z}function Sn(t,e){return Bs(Ir(t),e)}function xn(t){return Bs(Ir(t))}function Cn(t,e,n,i){return t===Z||ja(t,sc[n])&&!lc.call(i,n)?e:t}function $n(t,e,n){(n!==Z&&!ja(t[e],n)||n===Z&&!(e in t))&&On(t,e,n)}function wn(t,e,n){var i=t[e];lc.call(t,e)&&ja(i,n)&&(n!==Z||e in t)||On(t,e,n)}function Ln(t,e){for(var n=t.length;n--;)if(ja(t[n][0],e))return n;return-1}function An(t,e,n,i){return sh(t,function(t,r,s){e(i,t,n(t),s)}),i}function En(t,e){return t&&Nr(e,Iu(e),t)}function On(t,e,n){"__proto__"==e&&wc?wc(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function In(t,e){for(var n=-1,i=null==t,r=e.length,s=Xl(r);++n<r;)s[n]=i?Z:Au(t,e[n]);return s}function Mn(t,e,n){return t===t&&(n!==Z&&(t=n>=t?t:n),e!==Z&&(t=t>=e?t:e)),t}function Pn(t,e,n,i,s,o,a){var u;if(i&&(u=o?i(t,s,o,a):i(t)),u!==Z)return u;if(!Ka(t))return t;var l=af(t);if(l){if(u=ys(t),!e)return Ir(t,u)}else{var c=vh(t),h=c==Ut||c==Ft;if(lf(t))return _r(t,e);if(c==Vt||c==Dt||h&&!o){if(u=_s(h?{}:t),!e)return Dr(t,En(u,t))}else{if(!jn[c])return o?t:{};u=Ss(t,c,Pn,e)}}a||(a=new pn);var f=a.get(t);if(f)return f;if(a.set(t,u),!l)var p=n?us(t):Iu(t);return r(p||t,function(r,s){p&&(s=r,r=t[s]),wn(u,s,Pn(r,e,n,i,s,t,a))}),u}function Un(t){var e=Iu(t);return function(n){return Fn(n,t,e)}}function Fn(t,e,n){var i=n.length;if(null==t)return!i;for(t=Zl(t);i--;){var r=n[i],s=e[r],o=t[r];if(o===Z&&!(r in t)||!s(o))return!1}return!0}function Vn(t,e,n){if("function"!=typeof t)throw new nc(it);return _h(function(){t.apply(Z,n)},e)}function Hn(t,e,n,i){var r=-1,s=u,o=!0,a=t.length,h=[],f=e.length;if(!a)return h;n&&(e=c(e,E(n))),i?(s=l,o=!1):e.length>=et&&(s=I,o=!1,e=new cn(e));t:for(;++r<a;){var p=t[r],d=n?n(p):p;if(p=i||0!==p?p:0,o&&d===d){for(var m=f;m--;)if(e[m]===d)continue t;h.push(p)}else s(e,d,i)||h.push(p)}return h}function Gn(t,e){var n=!0;return sh(t,function(t,i,r){return n=!!e(t,i,r)}),n}function Wn(t,e,n){for(var i=-1,r=t.length;++i<r;){var s=t[i],o=e(s);if(null!=o&&(a===Z?o===o&&!uu(o):n(o,a)))var a=o,u=s}return u}function Yn(t,e,n,i){var r=t.length;for(n=du(n),0>n&&(n=-n>r?0:r+n),i=i===Z||i>r?r:du(i),0>i&&(i+=r),i=n>i?0:mu(i);i>n;)t[n++]=e;return t}function Kn(t,e){var n=[];return sh(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function ii(t,e,n,i,r){var s=-1,o=t.length;for(n||(n=Cs),r||(r=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?ii(a,e-1,n,i,r):h(r,a):i||(r[r.length]=a)}return r}function ai(t,e){return t&&ah(t,e,Iu)}function ci(t,e){return t&&uh(t,e,Iu)}function hi(t,e){return a(e,function(e){return Wa(t[e])})}function fi(t,e){e=Ls(e,t)?[e]:br(e);for(var n=0,i=e.length;null!=t&&i>n;)t=t[Vs(e[n++])];return n&&n==i?t:Z}function pi(t,e,n){var i=e(t);return af(t)?i:h(i,n(t))}function di(t){return fc.call(t)}function mi(t,e){return t>e}function gi(t,e){return null!=t&&lc.call(t,e)}function vi(t,e){return null!=t&&e in Zl(t)}function bi(t,e,n){return t>=Mc(e,n)&&t<jc(e,n)}function yi(t,e,n){for(var i=n?l:u,r=t[0].length,s=t.length,o=s,a=Xl(s),h=1/0,f=[];o--;){var p=t[o];o&&e&&(p=c(p,E(e))),h=Mc(p.length,h),a[o]=!n&&(e||r>=120&&p.length>=120)?new cn(o&&p):Z}p=t[0];var d=-1,m=a[0];t:for(;++d<r&&f.length<h;){var g=p[d],v=e?e(g):g;if(g=n||0!==g?g:0,!(m?I(m,v):i(f,v,n))){for(o=s;--o;){var b=a[o];if(!(b?I(b,v):i(t[o],v,n)))continue t}m&&m.push(v),f.push(g)}}return f}function _i(t,e,n,i){return ai(t,function(t,r,s){e(i,n(t),r,s)}),i}function Si(t,e,i){Ls(e,t)||(e=br(e),t=Ps(t,e),e=ho(e));var r=null==t?t:t[Vs(e)];return null==r?Z:n(r,t,i)}function xi(t){return Qa(t)&&fc.call(t)==Jt}function Ci(t){return Qa(t)&&fc.call(t)==Mt}function $i(t,e,n,i,r){return t===e?!0:null==t||null==e||!Ka(t)&&!Qa(e)?t!==t&&e!==e:wi(t,e,$i,n,i,r)}function wi(t,e,n,i,r,s){var o=af(t),a=af(e),u=Rt,l=Rt;o||(u=vh(t),u=u==Dt?Vt:u),a||(l=vh(e),l=l==Dt?Vt:l);var c=u==Vt,h=l==Vt,f=u==l;if(f&&lf(t)){if(!lf(e))return!1;o=!0,c=!1}if(f&&!c)return s||(s=new pn),o||df(t)?rs(t,e,n,i,r,s):ss(t,e,u,n,i,r,s);if(!(r&bt)){var p=c&&lc.call(t,"__wrapped__"),d=h&&lc.call(e,"__wrapped__");if(p||d){var m=p?t.value():t,g=d?e.value():e;return s||(s=new pn),n(m,g,i,r,s)}}return f?(s||(s=new pn),os(t,e,n,i,r,s)):!1}function Li(t){return Qa(t)&&vh(t)==qt}function Ti(t,e,n,i){var r=n.length,s=r,o=!i;if(null==t)return!s;for(t=Zl(t);r--;){var a=n[r];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<s;){a=n[r];var u=a[0],l=t[u],c=a[1];if(o&&a[2]){if(l===Z&&!(u in t))return!1}else{var h=new pn;if(i)var f=i(l,c,u,t,e,h);if(!(f===Z?$i(c,l,i,vt|bt,h):f))return!1}}return!0}function ki(t){if(!Ka(t)||As(t))return!1;var e=Wa(t)?dc:Me;return e.test(Hs(t))}function Ai(t){return Ka(t)&&fc.call(t)==Gt}function Ei(t){return Qa(t)&&vh(t)==Wt}function Oi(t){return Qa(t)&&Ya(t.length)&&!!Rn[fc.call(t)]}function Ii(t){return"function"==typeof t?t:null==t?xl:"object"==typeof t?af(t)?Pi(t[0],t[1]):Mi(t):El(t)}function Ni(t){if(!Es(t))return Rc(t);var e=[];for(var n in Zl(t))lc.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Di(t){if(!Ka(t))return js(t);var e=Es(t),n=[];for(var i in t)("constructor"!=i||!e&&lc.call(t,i))&&n.push(i);return n}function Ri(t,e){return e>t}function ji(t,e){var n=-1,i=Pa(t)?Xl(t.length):[];return sh(t,function(t,r,s){i[++n]=e(t,r,s)}),i}function Mi(t){var e=ds(t);return 1==e.length&&e[0][2]?Is(e[0][0],e[0][1]):function(n){return n===t||Ti(n,t,e)}}function Pi(t,e){return Ls(t)&&Os(e)?Is(Vs(t),e):function(n){var i=Au(n,t);return i===Z&&i===e?Ou(n,t):$i(e,i,Z,vt|bt)}}function Ui(t,e,n,i,s){if(t!==e){if(!af(e)&&!df(e))var o=Di(e);r(o||e,function(r,a){if(o&&(a=r,r=e[a]),Ka(r))s||(s=new pn),Fi(t,e,a,n,Ui,i,s);else{var u=i?i(t[a],r,a+"",t,e,s):Z;u===Z&&(u=r),$n(t,a,u)}})}}function Fi(t,e,n,i,r,s,o){var a=t[n],u=e[n],l=o.get(u);if(l)return void $n(t,n,l);var c=s?s(a,u,n+"",t,e,o):Z,h=c===Z;if(h){var f=af(u),p=!f&&df(u);c=u,f||p?af(a)?c=a:Ua(a)?c=Ir(a):p?(h=!1,c=Tr(u,!0)):c=[]:su(u)||Ma(u)?(c=a,Ma(a)?c=vu(a):(!Ka(a)||i&&Wa(a))&&(c=_s(u))):h=!1}h&&(o.set(u,c),r(c,u,i,s,o),o["delete"](u)),$n(t,n,c)}function qi(t,e){var n=t.length;if(n)return e+=0>e?n:0,$s(e,n)?t[e]:Z}function Bi(t,e,n){var i=-1;e=c(e.length?e:[xl],E(fs()));var r=ji(t,function(t,n,r){var s=c(e,function(e){return e(t)});return{criteria:s,index:++i,value:t}});return L(r,function(t,e){return Ar(t,e,n)})}function Vi(t,e){return t=Zl(t),Hi(t,e,function(e,n){return n in t})}function Hi(t,e,n){for(var i=-1,r=e.length,s={};++i<r;){var o=e[i],a=t[o];n(a,o)&&On(s,o,a)}return s}function zi(t){return function(e){return fi(e,t)}}function Gi(t,e,n,i){var r=i?_:y,s=-1,o=e.length,a=t;for(t===e&&(e=Ir(e)),n&&(a=c(t,E(n)));++s<o;)for(var u=0,l=e[s],h=n?n(l):l;(u=r(a,h,u,i))>-1;)a!==t&&Cc.call(a,u,1),Cc.call(t,u,1);return t}function Wi(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==s){var s=r;if($s(r))Cc.call(t,r,1);else if(Ls(r,t))delete t[Vs(r)];else{var o=br(r),a=Ps(t,o);null!=a&&delete a[Vs(ho(o))]}}}return t}function Xi(t,e){return t+Ec(Fc()*(e-t+1))}function Yi(t,e,n,i){for(var r=-1,s=jc(Ac((e-t)/(n||1)),0),o=Xl(s);s--;)o[i?s:++r]=t,t+=n;return o}function Ki(t,e){var n="";if(!t||1>e||e>Tt)return n;do e%2&&(n+=t),e=Ec(e/2),e&&(t+=t);while(e);return n}function Qi(t,e){return Sh(Ms(t,e,xl),t+"")}function Ji(t){return _n(zu(t))}function Zi(t,e){return Bs(zu(t),e)}function tr(t,e,n,i){if(!Ka(t))return t;e=Ls(e,t)?[e]:br(e);for(var r=-1,s=e.length,o=s-1,a=t;null!=a&&++r<s;){var u=Vs(e[r]),l=n;if(r!=o){var c=a[u];l=i?i(c,u,a):Z,l===Z&&(l=Ka(c)?c:$s(e[r+1])?[]:{})}wn(a,u,l),a=a[u]}return t}function er(t){return Bs(zu(t))}function nr(t,e,n){var i=-1,r=t.length;0>e&&(e=-e>r?0:r+e),n=n>r?r:n,0>n&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var s=Xl(r);++i<r;)s[i]=t[i+e];return s}function ir(t,e){var n;return sh(t,function(t,i,r){return n=e(t,i,r),!n}),!!n}function rr(t,e,n){var i=0,r=t?t.length:i;if("number"==typeof e&&e===e&&It>=r){for(;r>i;){var s=i+r>>>1,o=t[s];null!==o&&!uu(o)&&(n?e>=o:e>o)?i=s+1:r=s}return r}return sr(t,e,xl,n)}function sr(t,e,n,i){e=n(e);for(var r=0,s=t?t.length:0,o=e!==e,a=null===e,u=uu(e),l=e===Z;s>r;){var c=Ec((r+s)/2),h=n(t[c]),f=h!==Z,p=null===h,d=h===h,m=uu(h);if(o)var g=i||d;else g=l?d&&(i||f):a?d&&f&&(i||!p):u?d&&f&&!p&&(i||!m):p||m?!1:i?e>=h:e>h;g?r=c+1:s=c}return Mc(s,Ot)}function or(t,e){for(var n=-1,i=t.length,r=0,s=[];++n<i;){var o=t[n],a=e?e(o):o;if(!n||!ja(a,u)){var u=a;s[r++]=0===o?0:o}}return s}function ar(t){return"number"==typeof t?t:uu(t)?At:+t}function ur(t){if("string"==typeof t)return t;if(uu(t))return ih?ih.call(t):"";var e=t+"";return"0"==e&&1/t==-Lt?"-0":e}function lr(t,e,n){var i=-1,r=u,s=t.length,o=!0,a=[],c=a;if(n)o=!1,r=l;else if(s>=et){var h=e?null:ph(t);if(h)return H(h);o=!1,r=I,c=new cn}else c=e?[]:a;t:for(;++i<s;){var f=t[i],p=e?e(f):f;if(f=n||0!==f?f:0,o&&p===p){for(var d=c.length;d--;)if(c[d]===p)continue t;e&&c.push(p),a.push(f)}else r(c,p,n)||(c!==a&&c.push(p),a.push(f))}return a}function cr(t,e){e=Ls(e,t)?[e]:br(e),t=Ps(t,e);var n=Vs(ho(e));return!(null!=t&&lc.call(t,n))||delete t[n]}function hr(t,e,n,i){return tr(t,e,n(fi(t,e)),i)}function fr(t,e,n,i){for(var r=t.length,s=i?r:-1;(i?s--:++s<r)&&e(t[s],s,t););return n?nr(t,i?0:s,i?s+1:r):nr(t,i?s+1:0,i?r:s)}function pr(t,e){var n=t;return n instanceof Q&&(n=n.value()),f(e,function(t,e){return e.func.apply(e.thisArg,h([t],e.args))},n)}function dr(t,e,n){for(var i=-1,r=t.length;++i<r;)var s=s?h(Hn(s,t[i],e,n),Hn(t[i],s,e,n)):t[i];return s&&s.length?lr(s,e,n):[]}function mr(t,e,n){for(var i=-1,r=t.length,s=e.length,o={};++i<r;){var a=s>i?e[i]:Z;n(o,t[i],a)}return o}function gr(t){return Ua(t)?t:[]}function vr(t){return"function"==typeof t?t:xl}function br(t){return af(t)?t:xh(t)}function yr(t,e,n){var i=t.length;return n=n===Z?i:n,!e&&n>=i?t:nr(t,e,n)}function _r(t,e){if(e)return t.slice();var n=t.length,i=bc?bc(n):new t.constructor(n);return t.copy(i),i}function Sr(t){var e=new t.constructor(t.byteLength);return new vc(e).set(new vc(t)),e}function xr(t,e){var n=e?Sr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Cr(e,n,i){var r=n?i(q(e),!0):q(e);return f(r,t,new e.constructor)}function $r(t){var e=new t.constructor(t.source,De.exec(t));return e.lastIndex=t.lastIndex,e}function wr(t,n,i){var r=n?i(H(t),!0):H(t);return f(r,e,new t.constructor)}function Lr(t){return nh?Zl(nh.call(t)):{}}function Tr(t,e){var n=e?Sr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function kr(t,e){if(t!==e){var n=t!==Z,i=null===t,r=t===t,s=uu(t),o=e!==Z,a=null===e,u=e===e,l=uu(e);if(!a&&!l&&!s&&t>e||s&&o&&u&&!a&&!l||i&&o&&u||!n&&u||!r)return 1;if(!i&&!s&&!l&&e>t||l&&n&&r&&!i&&!s||a&&n&&r||!o&&r||!u)return-1}return 0}function Ar(t,e,n){for(var i=-1,r=t.criteria,s=e.criteria,o=r.length,a=n.length;++i<o;){var u=kr(r[i],s[i]);if(u){if(i>=a)return u;var l=n[i];return u*("desc"==l?-1:1)}}return t.index-e.index}function Er(t,e,n,i){for(var r=-1,s=t.length,o=n.length,a=-1,u=e.length,l=jc(s-o,0),c=Xl(u+l),h=!i;++a<u;)c[a]=e[a];for(;++r<o;)(h||s>r)&&(c[n[r]]=t[r]);for(;l--;)c[a++]=t[r++];return c}function Or(t,e,n,i){for(var r=-1,s=t.length,o=-1,a=n.length,u=-1,l=e.length,c=jc(s-a,0),h=Xl(c+l),f=!i;++r<c;)h[r]=t[r];for(var p=r;++u<l;)h[p+u]=e[u];for(;++o<a;)(f||s>r)&&(h[p+n[o]]=t[r++]);return h}function Ir(t,e){var n=-1,i=t.length;for(e||(e=Xl(i));++n<i;)e[n]=t[n];return e}function Nr(t,e,n,i){var r=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],u=i?i(n[a],t[a],a,n,t):Z;u===Z&&(u=t[a]),r?On(n,a,u):wn(n,a,u)}return n}function Dr(t,e){return Nr(t,mh(t),e)}function Rr(t,e){return function(n,r){var s=af(n)?i:An,o=e?e():{};return s(n,t,fs(r,2),o)}}function jr(t){return Qi(function(e,n){var i=-1,r=n.length,s=r>1?n[r-1]:Z,o=r>2?n[2]:Z;for(s=t.length>3&&"function"==typeof s?(r--,s):Z,o&&ws(n[0],n[1],o)&&(s=3>r?Z:s,r=1),e=Zl(e);++i<r;){var a=n[i];a&&t(e,a,i,s)}return e})}function Mr(t,e){return function(n,i){if(null==n)return n;if(!Pa(n))return t(n,i);for(var r=n.length,s=e?r:-1,o=Zl(n);(e?s--:++s<r)&&i(o[s],s,o)!==!1;);return n}}function Pr(t){return function(e,n,i){for(var r=-1,s=Zl(e),o=i(e),a=o.length;a--;){var u=o[t?a:++r];if(n(s[u],u,s)===!1)break}return e}}function Ur(t,e,n){function i(){var e=this&&this!==zn&&this instanceof i?s:t;return e.apply(r?n:this,arguments)}var r=e&at,s=Br(t);return i}function Fr(t){return function(e){e=yu(e);var n=P(e)?Y(e):Z,i=n?n[0]:e.charAt(0),r=n?yr(n,1).join(""):e.slice(1);return i[t]()+r}}function qr(t){return function(e){return f(vl(Qu(e).replace(Tn,"")),t,"")}}function Br(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=rh(t.prototype),i=t.apply(n,e);return Ka(i)?i:n}}function Vr(t,e,i){function r(){for(var o=arguments.length,a=Xl(o),u=o,l=hs(r);u--;)a[u]=arguments[u];var c=3>o&&a[0]!==l&&a[o-1]!==l?[]:V(a,l);if(o-=c.length,i>o)return ts(t,e,Gr,r.placeholder,Z,a,c,Z,Z,i-o);var h=this&&this!==zn&&this instanceof r?s:t;return n(h,this,a)}var s=Br(t);return r}function Hr(t){return function(e,n,i){var r=Zl(e);if(!Pa(e)){var s=fs(n,3);e=Iu(e),n=function(t){return s(r[t],t,r)}}var o=t(e,n,i);return o>-1?r[s?e[o]:o]:Z}}function zr(t){return as(function(e){var n=e.length,i=n,r=K.prototype.thru;for(t&&e.reverse();i--;){var s=e[i];if("function"!=typeof s)throw new nc(it);if(r&&!o&&"wrapper"==cs(s))var o=new K([],!0)}for(i=o?i:n;++i<n;){s=e[i];var a=cs(s),u="wrapper"==a?dh(s):Z;o=u&&ks(u[0])&&u[1]==(dt|ct|ft|mt)&&!u[4].length&&1==u[9]?o[cs(u[0])].apply(o,u[3]):1==s.length&&ks(s)?o[a]():o.thru(s)}return function(){var t=arguments,i=t[0];if(o&&1==t.length&&af(i)&&i.length>=et)return o.plant(i).value();for(var r=0,s=n?e[r].apply(this,t):i;++r<n;)s=e[r].call(this,s);return s}})}function Gr(t,e,n,i,r,s,o,a,u,l){function c(){for(var v=arguments.length,b=Xl(v),y=v;y--;)b[y]=arguments[y];if(d)var _=hs(c),S=R(b,_);
if(i&&(b=Er(b,i,r,d)),s&&(b=Or(b,s,o,d)),v-=S,d&&l>v){var x=V(b,_);return ts(t,e,Gr,c.placeholder,n,b,x,a,u,l-v)}var C=f?n:this,$=p?C[t]:t;return v=b.length,a?b=Us(b,a):m&&v>1&&b.reverse(),h&&v>u&&(b.length=u),this&&this!==zn&&this instanceof c&&($=g||Br($)),$.apply(C,b)}var h=e&dt,f=e&at,p=e&ut,d=e&(ct|ht),m=e&gt,g=p?Z:Br(t);return c}function Wr(t,e){return function(n,i){return _i(n,t,e(i),{})}}function Xr(t,e){return function(n,i){var r;if(n===Z&&i===Z)return e;if(n!==Z&&(r=n),i!==Z){if(r===Z)return i;"string"==typeof n||"string"==typeof i?(n=ur(n),i=ur(i)):(n=ar(n),i=ar(i)),r=t(n,i)}return r}}function Yr(t){return as(function(e){return e=c(e,E(fs())),Qi(function(i){var r=this;return t(e,function(t){return n(t,r,i)})})})}function Kr(t,e){e=e===Z?" ":ur(e);var n=e.length;if(2>n)return n?Ki(e,t):e;var i=Ki(e,Ac(t/X(e)));return P(e)?yr(Y(i),0,t).join(""):i.slice(0,t)}function Qr(t,e,i,r){function s(){for(var e=-1,u=arguments.length,l=-1,c=r.length,h=Xl(c+u),f=this&&this!==zn&&this instanceof s?a:t;++l<c;)h[l]=r[l];for(;u--;)h[l++]=arguments[++e];return n(f,o?i:this,h)}var o=e&at,a=Br(t);return s}function Jr(t){return function(e,n,i){return i&&"number"!=typeof i&&ws(e,n,i)&&(n=i=Z),e=pu(e),n===Z?(n=e,e=0):n=pu(n),i=i===Z?n>e?1:-1:pu(i),Yi(e,n,i,t)}}function Zr(t){return function(e,n){return("string"!=typeof e||"string"!=typeof n)&&(e=gu(e),n=gu(n)),t(e,n)}}function ts(t,e,n,i,r,s,o,a,u,l){var c=e&ct,h=c?o:Z,f=c?Z:o,p=c?s:Z,d=c?Z:s;e|=c?ft:pt,e&=~(c?pt:ft),e&lt||(e&=~(at|ut));var m=[t,e,r,p,h,d,f,a,u,l],g=n.apply(Z,m);return ks(t)&&yh(g,m),g.placeholder=i,Fs(g,t,e)}function es(t){var e=Jl[t];return function(t,n){if(t=gu(t),n=Mc(du(n),292)){var i=(yu(t)+"e").split("e"),r=e(i[0]+"e"+(+i[1]+n));return i=(yu(r)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return e(t)}}function ns(t){return function(e){var n=vh(e);return n==qt?q(e):n==Wt?z(e):A(e,t(e))}}function is(t,e,n,i,r,s,o,a){var u=e&ut;if(!u&&"function"!=typeof t)throw new nc(it);var l=i?i.length:0;if(l||(e&=~(ft|pt),i=r=Z),o=o===Z?o:jc(du(o),0),a=a===Z?a:du(a),l-=r?r.length:0,e&pt){var c=i,h=r;i=r=Z}var f=u?Z:dh(t),p=[t,e,n,i,r,c,h,s,o,a];if(f&&Ds(p,f),t=p[0],e=p[1],n=p[2],i=p[3],r=p[4],a=p[9]=null==p[9]?u?0:t.length:jc(p[9]-l,0),!a&&e&(ct|ht)&&(e&=~(ct|ht)),e&&e!=at)d=e==ct||e==ht?Vr(t,e,a):e!=ft&&e!=(at|ft)||r.length?Gr.apply(Z,p):Qr(t,e,n,i);else var d=Ur(t,e,n);var m=f?lh:yh;return Fs(m(d,p),t,e)}function rs(t,e,n,i,r,s){var o=r&bt,a=t.length,u=e.length;if(a!=u&&!(o&&u>a))return!1;var l=s.get(t);if(l&&s.get(e))return l==e;var c=-1,h=!0,f=r&vt?new cn:Z;for(s.set(t,e),s.set(e,t);++c<a;){var p=t[c],m=e[c];if(i)var g=o?i(m,p,c,e,t,s):i(p,m,c,t,e,s);if(g!==Z){if(g)continue;h=!1;break}if(f){if(!d(e,function(t,e){return I(f,e)||p!==t&&!n(p,t,i,r,s)?void 0:f.push(e)})){h=!1;break}}else if(p!==m&&!n(p,m,i,r,s)){h=!1;break}}return s["delete"](t),s["delete"](e),h}function ss(t,e,n,i,r,s,o){switch(n){case Zt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Jt:return t.byteLength==e.byteLength&&i(new vc(t),new vc(e))?!0:!1;case jt:case Mt:case Bt:return ja(+t,+e);case Pt:return t.name==e.name&&t.message==e.message;case Gt:case Xt:return t==e+"";case qt:var a=q;case Wt:var u=s&bt;if(a||(a=H),t.size!=e.size&&!u)return!1;var l=o.get(t);if(l)return l==e;s|=vt,o.set(t,e);var c=rs(a(t),a(e),i,r,s,o);return o["delete"](t),c;case Yt:if(nh)return nh.call(t)==nh.call(e)}return!1}function os(t,e,n,i,r,s){var o=r&bt,a=Iu(t),u=a.length,l=Iu(e),c=l.length;if(u!=c&&!o)return!1;for(var h=u;h--;){var f=a[h];if(!(o?f in e:lc.call(e,f)))return!1}var p=s.get(t);if(p&&s.get(e))return p==e;var d=!0;s.set(t,e),s.set(e,t);for(var m=o;++h<u;){f=a[h];var g=t[f],v=e[f];if(i)var b=o?i(v,g,f,e,t,s):i(g,v,f,t,e,s);if(!(b===Z?g===v||n(g,v,i,r,s):b)){d=!1;break}m||(m="constructor"==f)}if(d&&!m){var y=t.constructor,_=e.constructor;y!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _)&&(d=!1)}return s["delete"](t),s["delete"](e),d}function as(t){return Sh(Ms(t,Z,io),t+"")}function us(t){return pi(t,Iu,mh)}function ls(t){return pi(t,Nu,gh)}function cs(t){for(var e=t.name+"",n=Yc[e],i=lc.call(Yc,e)?n.length:0;i--;){var r=n[i],s=r.func;if(null==s||s==t)return r.name}return e}function hs(t){var e=lc.call($,"placeholder")?$:t;return e.placeholder}function fs(){var t=$.iteratee||Cl;return t=t===Cl?Ii:t,arguments.length?t(arguments[0],arguments[1]):t}function ps(t,e){var n=t.__data__;return Ts(e)?n["string"==typeof e?"string":"hash"]:n.map}function ds(t){for(var e=Iu(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,Os(r)]}return e}function ms(t,e){var n=M(t,e);return ki(n)?n:Z}function gs(t,e,n){for(var i=-1,r=n.length;++i<r;){var s=n[i],o=s.size;switch(s.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=Mc(e,t+o);break;case"takeRight":t=jc(t,e-o)}}return{start:t,end:e}}function vs(t){var e=t.match(Ae);return e?e[1].split(Ee):[]}function bs(t,e,n){e=Ls(e,t)?[e]:br(e);for(var i=-1,r=e.length,s=!1;++i<r;){var o=Vs(e[i]);if(!(s=null!=t&&n(t,o)))break;t=t[o]}return s||++i!=r?s:(r=t?t.length:0,!!r&&Ya(r)&&$s(o,r)&&(af(t)||Ma(t)))}function ys(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&lc.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function _s(t){return"function"!=typeof t.constructor||Es(t)?{}:rh(yc(t))}function Ss(t,e,n,i){var r=t.constructor;switch(e){case Jt:return Sr(t);case jt:case Mt:return new r(+t);case Zt:return xr(t,i);case te:case ee:case ne:case ie:case re:case se:case oe:case ae:case ue:return Tr(t,i);case qt:return Cr(t,i,n);case Bt:case Xt:return new r(t);case Gt:return $r(t);case Wt:return wr(t,i,n);case Yt:return Lr(t)}}function xs(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(ke,"{\n/* [wrapped with "+e+"] */\n")}function Cs(t){return af(t)||Ma(t)||!!($c&&t&&t[$c])}function $s(t,e){return e=null==e?Tt:e,!!e&&("number"==typeof t||Ue.test(t))&&t>-1&&t%1==0&&e>t}function ws(t,e,n){if(!Ka(n))return!1;var i=typeof e;return("number"==i?Pa(n)&&$s(e,n.length):"string"==i&&e in n)?ja(n[e],t):!1}function Ls(t,e){if(af(t))return!1;var n=typeof t;return"number"==n||"symbol"==n||"boolean"==n||null==t||uu(t)?!0:_e.test(t)||!ye.test(t)||null!=e&&t in Zl(e)}function Ts(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function ks(t){var e=cs(t),n=$[e];if("function"!=typeof n||!(e in Q.prototype))return!1;if(t===n)return!0;var i=dh(n);return!!i&&t===i[0]}function As(t){return!!ac&&ac in t}function Es(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||sc;return t===n}function Os(t){return t===t&&!Ka(t)}function Is(t,e){return function(n){return null==n?!1:n[t]===e&&(e!==Z||t in Zl(n))}}function Ns(t){var e=xa(t,function(t){return n.size===st&&n.clear(),t}),n=e.cache;return e}function Ds(t,e){var n=t[1],i=e[1],r=n|i,s=(at|ut|dt)>r,o=i==dt&&n==ct||i==dt&&n==mt&&t[7].length<=e[8]||i==(dt|mt)&&e[7].length<=e[8]&&n==ct;if(!s&&!o)return t;i&at&&(t[2]=e[2],r|=n&at?0:lt);var a=e[3];if(a){var u=t[3];t[3]=u?Er(u,a,e[4]):a,t[4]=u?V(t[3],ot):e[4]}return a=e[5],a&&(u=t[5],t[5]=u?Or(u,a,e[6]):a,t[6]=u?V(t[5],ot):e[6]),a=e[7],a&&(t[7]=a),i&dt&&(t[8]=null==t[8]?e[8]:Mc(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function Rs(t,e,n,i,r,s){return Ka(t)&&Ka(e)&&(s.set(e,t),Ui(t,e,Z,Rs,s),s["delete"](e)),t}function js(t){var e=[];if(null!=t)for(var n in Zl(t))e.push(n);return e}function Ms(t,e,i){return e=jc(e===Z?t.length-1:e,0),function(){for(var r=arguments,s=-1,o=jc(r.length-e,0),a=Xl(o);++s<o;)a[s]=r[e+s];s=-1;for(var u=Xl(e+1);++s<e;)u[s]=r[s];return u[e]=i(a),n(t,this,u)}}function Ps(t,e){return 1==e.length?t:fi(t,nr(e,0,-1))}function Us(t,e){for(var n=t.length,i=Mc(e.length,n),r=Ir(t);i--;){var s=e[i];t[i]=$s(s,n)?r[s]:Z}return t}function Fs(t,e,n){var i=e+"";return Sh(t,xs(i,zs(vs(i),n)))}function qs(t){var e=0,n=0;return function(){var i=Pc(),r=xt-(i-n);if(n=i,r>0){if(++e>=St)return arguments[0]}else e=0;return t.apply(Z,arguments)}}function Bs(t,e){var n=-1,i=t.length,r=i-1;for(e=e===Z?i:Mn(e,0,i);++n<e;){var s=Xi(n,r),o=t[s];t[s]=t[n],t[n]=o}return t.length=e,t}function Vs(t){if("string"==typeof t||uu(t))return t;var e=t+"";return"0"==e&&1/t==-Lt?"-0":e}function Hs(t){if(null!=t){try{return uc.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function zs(t,e){return r(Nt,function(n){var i="_."+n[0];e&n[1]&&!u(t,i)&&t.push(i)}),t.sort()}function Gs(t){if(t instanceof Q)return t.clone();var e=new K(t.__wrapped__,t.__chain__);return e.__actions__=Ir(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Ws(t,e,n){e=(n?ws(t,e,n):e===Z)?1:jc(du(e),0);var i=t?t.length:0;if(!i||1>e)return[];for(var r=0,s=0,o=Xl(Ac(i/e));i>r;)o[s++]=nr(t,r,r+=e);return o}function Xs(t){for(var e=-1,n=t?t.length:0,i=0,r=[];++e<n;){var s=t[e];s&&(r[i++]=s)}return r}function Ys(){var t=arguments.length;if(!t)return[];for(var e=Xl(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return h(af(n)?Ir(n):[n],ii(e,1))}function Ks(t,e,n){var i=t?t.length:0;return i?(e=n||e===Z?1:du(e),nr(t,0>e?0:e,i)):[]}function Qs(t,e,n){var i=t?t.length:0;return i?(e=n||e===Z?1:du(e),e=i-e,nr(t,0,0>e?0:e)):[]}function Js(t,e){return t&&t.length?fr(t,fs(e,3),!0,!0):[]}function Zs(t,e){return t&&t.length?fr(t,fs(e,3),!0):[]}function to(t,e,n,i){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&ws(t,e,n)&&(n=0,i=r),Yn(t,e,n,i)):[]}function eo(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=null==n?0:du(n);return 0>r&&(r=jc(i+r,0)),b(t,fs(e,3),r)}function no(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=i-1;return n!==Z&&(r=du(n),r=0>n?jc(i+r,0):Mc(r,i-1)),b(t,fs(e,3),r,!0)}function io(t){var e=t?t.length:0;return e?ii(t,1):[]}function ro(t){var e=t?t.length:0;return e?ii(t,Lt):[]}function so(t,e){var n=t?t.length:0;return n?(e=e===Z?1:du(e),ii(t,e)):[]}function oo(t){for(var e=-1,n=t?t.length:0,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i}function ao(t){return t&&t.length?t[0]:Z}function uo(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=null==n?0:du(n);return 0>r&&(r=jc(i+r,0)),y(t,e,r)}function lo(t){var e=t?t.length:0;return e?nr(t,0,-1):[]}function co(t,e){return t?Dc.call(t,e):""}function ho(t){var e=t?t.length:0;return e?t[e-1]:Z}function fo(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=i;return n!==Z&&(r=du(n),r=0>r?jc(i+r,0):Mc(r,i-1)),e===e?W(t,e,r):b(t,S,r,!0)}function po(t,e){return t&&t.length?qi(t,du(e)):Z}function mo(t,e){return t&&t.length&&e&&e.length?Gi(t,e):t}function go(t,e,n){return t&&t.length&&e&&e.length?Gi(t,e,fs(n,2)):t}function vo(t,e,n){return t&&t.length&&e&&e.length?Gi(t,e,Z,n):t}function bo(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],s=t.length;for(e=fs(e,3);++i<s;){var o=t[i];e(o,i,t)&&(n.push(o),r.push(i))}return Wi(t,r),n}function yo(t){return t?qc.call(t):t}function _o(t,e,n){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&ws(t,e,n)?(e=0,n=i):(e=null==e?0:du(e),n=n===Z?i:du(n)),nr(t,e,n)):[]}function So(t,e){return rr(t,e)}function xo(t,e,n){return sr(t,e,fs(n,2))}function Co(t,e){var n=t?t.length:0;if(n){var i=rr(t,e);if(n>i&&ja(t[i],e))return i}return-1}function $o(t,e){return rr(t,e,!0)}function wo(t,e,n){return sr(t,e,fs(n,2),!0)}function Lo(t,e){var n=t?t.length:0;if(n){var i=rr(t,e,!0)-1;if(ja(t[i],e))return i}return-1}function To(t){return t&&t.length?or(t):[]}function ko(t,e){return t&&t.length?or(t,fs(e,2)):[]}function Ao(t){var e=t?t.length:0;return e?nr(t,1,e):[]}function Eo(t,e,n){return t&&t.length?(e=n||e===Z?1:du(e),nr(t,0,0>e?0:e)):[]}function Oo(t,e,n){var i=t?t.length:0;return i?(e=n||e===Z?1:du(e),e=i-e,nr(t,0>e?0:e,i)):[]}function Io(t,e){return t&&t.length?fr(t,fs(e,3),!1,!0):[]}function No(t,e){return t&&t.length?fr(t,fs(e,3)):[]}function Do(t){return t&&t.length?lr(t):[]}function Ro(t,e){return t&&t.length?lr(t,fs(e,2)):[]}function jo(t,e){return t&&t.length?lr(t,Z,e):[]}function Mo(t){if(!t||!t.length)return[];var e=0;return t=a(t,function(t){return Ua(t)?(e=jc(t.length,e),!0):void 0}),k(e,function(e){return c(t,C(e))})}function Po(t,e){if(!t||!t.length)return[];var i=Mo(t);return null==e?i:c(i,function(t){return n(e,Z,t)})}function Uo(t,e){return mr(t||[],e||[],wn)}function Fo(t,e){return mr(t||[],e||[],tr)}function qo(t){var e=$(t);return e.__chain__=!0,e}function Bo(t,e){return e(t),t}function Vo(t,e){return e(t)}function Ho(){return qo(this)}function zo(){return new K(this.value(),this.__chain__)}function Go(){this.__values__===Z&&(this.__values__=fu(this.value()));var t=this.__index__>=this.__values__.length,e=t?Z:this.__values__[this.__index__++];return{done:t,value:e}}function Wo(){return this}function Xo(t){for(var e,n=this;n instanceof G;){var i=Gs(n);i.__index__=0,i.__values__=Z,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e}function Yo(){var t=this.__wrapped__;if(t instanceof Q){var e=t;return this.__actions__.length&&(e=new Q(this)),e=e.reverse(),e.__actions__.push({func:Vo,args:[yo],thisArg:Z}),new K(e,this.__chain__)}return this.thru(yo)}function Ko(){return pr(this.__wrapped__,this.__actions__)}function Qo(t,e,n){var i=af(t)?o:Gn;return n&&ws(t,e,n)&&(e=Z),i(t,fs(e,3))}function Jo(t,e){var n=af(t)?a:Kn;return n(t,fs(e,3))}function Zo(t,e){return ii(sa(t,e),1)}function ta(t,e){return ii(sa(t,e),Lt)}function ea(t,e,n){return n=n===Z?1:du(n),ii(sa(t,e),n)}function na(t,e){var n=af(t)?r:sh;return n(t,fs(e,3))}function ia(t,e){var n=af(t)?s:oh;return n(t,fs(e,3))}function ra(t,e,n,i){t=Pa(t)?t:zu(t),n=n&&!i?du(n):0;var r=t.length;return 0>n&&(n=jc(r+n,0)),au(t)?r>=n&&t.indexOf(e,n)>-1:!!r&&y(t,e,n)>-1}function sa(t,e){var n=af(t)?c:ji;return n(t,fs(e,3))}function oa(t,e,n,i){return null==t?[]:(af(e)||(e=null==e?[]:[e]),n=i?Z:n,af(n)||(n=null==n?[]:[n]),Bi(t,e,n))}function aa(t,e,n){var i=af(t)?f:w,r=arguments.length<3;return i(t,fs(e,4),n,r,sh)}function ua(t,e,n){var i=af(t)?p:w,r=arguments.length<3;return i(t,fs(e,4),n,r,oh)}function la(t,e){var n=af(t)?a:Kn;return n(t,Ca(fs(e,3)))}function ca(t){var e=af(t)?_n:Ji;return e(t)}function ha(t,e,n){e=(n?ws(t,e,n):e===Z)?1:du(e);var i=af(t)?Sn:Zi;return i(t,e)}function fa(t){var e=af(t)?xn:er;return e(t)}function pa(t){if(null==t)return 0;if(Pa(t))return au(t)?X(t):t.length;var e=vh(t);return e==qt||e==Wt?t.size:Ni(t).length}function da(t,e,n){var i=af(t)?d:ir;return n&&ws(t,e,n)&&(e=Z),i(t,fs(e,3))}function ma(t,e){if("function"!=typeof e)throw new nc(it);return t=du(t),function(){return--t<1?e.apply(this,arguments):void 0}}function ga(t,e,n){return e=n?Z:e,e=t&&null==e?t.length:e,is(t,dt,Z,Z,Z,Z,e)}function va(t,e){var n;if("function"!=typeof e)throw new nc(it);return t=du(t),function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=Z),n}}function ba(t,e,n){e=n?Z:e;var i=is(t,ct,Z,Z,Z,Z,Z,e);return i.placeholder=ba.placeholder,i}function ya(t,e,n){e=n?Z:e;var i=is(t,ht,Z,Z,Z,Z,Z,e);return i.placeholder=ya.placeholder,i}function _a(t,e,n){function i(e){var n=f,i=p;return f=p=Z,b=e,m=t.apply(i,n)}function r(t){return b=t,g=_h(a,e),y?i(t):m}function s(t){var n=t-v,i=t-b,r=e-n;return _?Mc(r,d-i):r}function o(t){var n=t-v,i=t-b;return v===Z||n>=e||0>n||_&&i>=d}function a(){var t=Yh();return o(t)?u(t):void(g=_h(a,s(t)))}function u(t){return g=Z,S&&f?i(t):(f=p=Z,m)}function l(){g!==Z&&fh(g),b=0,f=v=p=g=Z}function c(){return g===Z?m:u(Yh())}function h(){var t=Yh(),n=o(t);if(f=arguments,p=this,v=t,n){if(g===Z)return r(v);if(_)return g=_h(a,e),i(v)}return g===Z&&(g=_h(a,e)),m}var f,p,d,m,g,v,b=0,y=!1,_=!1,S=!0;if("function"!=typeof t)throw new nc(it);return e=gu(e)||0,Ka(n)&&(y=!!n.leading,_="maxWait"in n,d=_?jc(gu(n.maxWait)||0,e):d,S="trailing"in n?!!n.trailing:S),h.cancel=l,h.flush=c,h}function Sa(t){return is(t,gt)}function xa(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new nc(it);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var o=t.apply(this,i);return n.cache=s.set(r,o)||s,o};return n.cache=new(xa.Cache||rn),n}function Ca(t){if("function"!=typeof t)throw new nc(it);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function $a(t){return va(2,t)}function wa(t,e){if("function"!=typeof t)throw new nc(it);return e=e===Z?e:du(e),Qi(t,e)}function La(t,e){if("function"!=typeof t)throw new nc(it);return e=e===Z?0:jc(du(e),0),Qi(function(i){var r=i[e],s=yr(i,0,e);return r&&h(s,r),n(t,this,s)})}function Ta(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new nc(it);return Ka(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),_a(t,e,{leading:i,maxWait:e,trailing:r})}function ka(t){return ga(t,1)}function Aa(t,e){return e=null==e?xl:e,ef(e,t)}function Ea(){if(!arguments.length)return[];var t=arguments[0];return af(t)?t:[t]}function Oa(t){return Pn(t,!1,!0)}function Ia(t,e){return Pn(t,!1,!0,e)}function Na(t){return Pn(t,!0,!0)}function Da(t,e){return Pn(t,!0,!0,e)}function Ra(t,e){return null==e||Fn(t,e,Iu(e))}function ja(t,e){return t===e||t!==t&&e!==e}function Ma(t){return Ua(t)&&lc.call(t,"callee")&&(!xc.call(t,"callee")||fc.call(t)==Dt)}function Pa(t){return null!=t&&Ya(t.length)&&!Wa(t)}function Ua(t){return Qa(t)&&Pa(t)}function Fa(t){return t===!0||t===!1||Qa(t)&&fc.call(t)==jt}function qa(t){return null!=t&&1===t.nodeType&&Qa(t)&&!su(t)}function Ba(t){if(Pa(t)&&(af(t)||"string"==typeof t||"function"==typeof t.splice||lf(t)||Ma(t)))return!t.length;var e=vh(t);if(e==qt||e==Wt)return!t.size;if(Es(t))return!Rc(t).length;for(var n in t)if(lc.call(t,n))return!1;return!0}function Va(t,e){return $i(t,e)}function Ha(t,e,n){n="function"==typeof n?n:Z;var i=n?n(t,e):Z;return i===Z?$i(t,e,n):!!i}function za(t){return Qa(t)?fc.call(t)==Pt||"string"==typeof t.message&&"string"==typeof t.name:!1}function Ga(t){return"number"==typeof t&&Nc(t)}function Wa(t){var e=Ka(t)?fc.call(t):"";return e==Ut||e==Ft||e==zt}function Xa(t){return"number"==typeof t&&t==du(t)}function Ya(t){return"number"==typeof t&&t>-1&&t%1==0&&Tt>=t}function Ka(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Qa(t){return null!=t&&"object"==typeof t}function Ja(t,e){return t===e||Ti(t,e,ds(e))}function Za(t,e,n){return n="function"==typeof n?n:Z,Ti(t,e,ds(e),n)}function tu(t){return ru(t)&&t!=+t}function eu(t){if(bh(t))throw new Kl(nt);return ki(t)}function nu(t){return null===t}function iu(t){return null==t}function ru(t){return"number"==typeof t||Qa(t)&&fc.call(t)==Bt}function su(t){if(!Qa(t)||fc.call(t)!=Vt)return!1;var e=yc(t);if(null===e)return!0;var n=lc.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&uc.call(n)==hc}function ou(t){return Xa(t)&&t>=-Tt&&Tt>=t}function au(t){return"string"==typeof t||!af(t)&&Qa(t)&&fc.call(t)==Xt}function uu(t){return"symbol"==typeof t||Qa(t)&&fc.call(t)==Yt}function lu(t){return t===Z}function cu(t){return Qa(t)&&vh(t)==Kt}function hu(t){return Qa(t)&&fc.call(t)==Qt}function fu(t){if(!t)return[];if(Pa(t))return au(t)?Y(t):Ir(t);if(_c&&t[_c])return F(t[_c]());var e=vh(t),n=e==qt?q:e==Wt?H:zu;return n(t)}function pu(t){if(!t)return 0===t?t:0;if(t=gu(t),t===Lt||t===-Lt){var e=0>t?-1:1;return e*kt}return t===t?t:0}function du(t){var e=pu(t),n=e%1;return e===e?n?e-n:e:0}function mu(t){return t?Mn(du(t),0,Et):0}function gu(t){if("number"==typeof t)return t;if(uu(t))return At;if(Ka(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ka(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(we,"");var n=je.test(t);return n||Pe.test(t)?Bn(t.slice(2),n?2:8):Re.test(t)?At:+t}function vu(t){return Nr(t,Nu(t))}function bu(t){return Mn(du(t),-Tt,Tt)}function yu(t){return null==t?"":ur(t)}function _u(t,e){var n=rh(t);return e?En(n,e):n}function Su(t,e){return v(t,fs(e,3),ai)}function xu(t,e){return v(t,fs(e,3),ci)}function Cu(t,e){return null==t?t:ah(t,fs(e,3),Nu)}function $u(t,e){return null==t?t:uh(t,fs(e,3),Nu)}function wu(t,e){return t&&ai(t,fs(e,3))}function Lu(t,e){return t&&ci(t,fs(e,3))}function Tu(t){return null==t?[]:hi(t,Iu(t))}function ku(t){return null==t?[]:hi(t,Nu(t))}function Au(t,e,n){var i=null==t?Z:fi(t,e);return i===Z?n:i}function Eu(t,e){return null!=t&&bs(t,e,gi)}function Ou(t,e){return null!=t&&bs(t,e,vi)}function Iu(t){return Pa(t)?yn(t):Ni(t)}function Nu(t){return Pa(t)?yn(t,!0):Di(t)}function Du(t,e){var n={};return e=fs(e,3),ai(t,function(t,i,r){On(n,e(t,i,r),t)}),n}function Ru(t,e){var n={};return e=fs(e,3),ai(t,function(t,i,r){On(n,i,e(t,i,r))}),n}function ju(t,e){return Mu(t,Ca(fs(e)))}function Mu(t,e){return null==t?{}:Hi(t,ls(t),fs(e))}function Pu(t,e,n){e=Ls(e,t)?[e]:br(e);var i=-1,r=e.length;for(r||(t=Z,r=1);++i<r;){var s=null==t?Z:t[Vs(e[i])];s===Z&&(i=r,s=n),t=Wa(s)?s.call(t):s}return t}function Uu(t,e,n){return null==t?t:tr(t,e,n)}function Fu(t,e,n,i){return i="function"==typeof i?i:Z,null==t?t:tr(t,e,n,i)}function qu(t,e,n){var i=af(t)||df(t);if(e=fs(e,4),null==n)if(i||Ka(t)){var s=t.constructor;n=i?af(t)?new s:[]:Wa(s)?rh(yc(t)):{}}else n={};return(i?r:ai)(t,function(t,i,r){return e(n,t,i,r)}),n}function Bu(t,e){return null==t?!0:cr(t,e)}function Vu(t,e,n){return null==t?t:hr(t,e,vr(n))}function Hu(t,e,n,i){return i="function"==typeof i?i:Z,null==t?t:hr(t,e,vr(n),i)}function zu(t){return t?O(t,Iu(t)):[]}function Gu(t){return null==t?[]:O(t,Nu(t))}function Wu(t,e,n){return n===Z&&(n=e,e=Z),n!==Z&&(n=gu(n),n=n===n?n:0),e!==Z&&(e=gu(e),e=e===e?e:0),Mn(gu(t),e,n)}function Xu(t,e,n){return e=pu(e),n===Z?(n=e,e=0):n=pu(n),t=gu(t),bi(t,e,n)}function Yu(t,e,n){if(n&&"boolean"!=typeof n&&ws(t,e,n)&&(e=n=Z),n===Z&&("boolean"==typeof e?(n=e,e=Z):"boolean"==typeof t&&(n=t,t=Z)),t===Z&&e===Z?(t=0,e=1):(t=pu(t),e===Z?(e=t,t=0):e=pu(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=Fc();return Mc(t+r*(e-t+qn("1e-"+((r+"").length-1))),e)}return Xi(t,e)}function Ku(t){return Ff(yu(t).toLowerCase())}function Qu(t){return t=yu(t),t&&t.replace(Fe,ri).replace(kn,"")}function Ju(t,e,n){t=yu(t),e=ur(e);var i=t.length;n=n===Z?i:Mn(du(n),0,i);var r=n;return n-=e.length,n>=0&&t.slice(n,r)==e}function Zu(t){return t=yu(t),t&&me.test(t)?t.replace(pe,si):t}function tl(t){return t=yu(t),t&&$e.test(t)?t.replace(Ce,"\\$&"):t}function el(t,e,n){t=yu(t),e=du(e);var i=e?X(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return Kr(Ec(r),n)+t+Kr(Ac(r),n)}function nl(t,e,n){t=yu(t),e=du(e);var i=e?X(t):0;return e&&e>i?t+Kr(e-i,n):t}function il(t,e,n){t=yu(t),e=du(e);var i=e?X(t):0;return e&&e>i?Kr(e-i,n)+t:t}function rl(t,e,n){return n||null==e?e=0:e&&(e=+e),Uc(yu(t).replace(Le,""),e||0)}function sl(t,e,n){return e=(n?ws(t,e,n):e===Z)?1:du(e),Ki(yu(t),e)}function ol(){var t=arguments,e=yu(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function al(t,e,n){return n&&"number"!=typeof n&&ws(t,e,n)&&(e=n=Z),(n=n===Z?Et:n>>>0)?(t=yu(t),t&&("string"==typeof e||null!=e&&!ff(e))&&(e=ur(e),!e&&P(t))?yr(Y(t),0,n):t.split(e,n)):[]}function ul(t,e,n){return t=yu(t),n=Mn(du(n),0,t.length),e=ur(e),t.slice(n,n+e.length)==e}function ll(t,e,n){var i=$.templateSettings;n&&ws(t,e,n)&&(e=Z),t=yu(t),e=yf({},e,i,Cn);var r,s,o=yf({},e.imports,i.imports,Cn),a=Iu(o),u=O(o,a),l=0,c=e.interpolate||qe,h="__p += '",f=tc((e.escape||qe).source+"|"+c.source+"|"+(c===be?Ne:qe).source+"|"+(e.evaluate||qe).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Dn+"]")+"\n";t.replace(f,function(e,n,i,o,a,u){return i||(i=o),h+=t.slice(l,u).replace(Be,j),n&&(r=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),l=u+e.length,e}),h+="';\n";var d=e.variable;d||(h="with (obj) {\n"+h+"\n}\n"),h=(s?h.replace(le,""):h).replace(ce,"$1").replace(he,"$1;"),h="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=qf(function(){return Ql(a,p+"return "+h).apply(Z,u)});if(m.source=h,za(m))throw m;return m}function cl(t){return yu(t).toLowerCase()}function hl(t){return yu(t).toUpperCase()}function fl(t,e,n){if(t=yu(t),t&&(n||e===Z))return t.replace(we,"");if(!t||!(e=ur(e)))return t;var i=Y(t),r=Y(e),s=N(i,r),o=D(i,r)+1;return yr(i,s,o).join("")}function pl(t,e,n){if(t=yu(t),t&&(n||e===Z))return t.replace(Te,"");if(!t||!(e=ur(e)))return t;var i=Y(t),r=D(i,Y(e))+1;return yr(i,0,r).join("")}function dl(t,e,n){if(t=yu(t),t&&(n||e===Z))return t.replace(Le,"");if(!t||!(e=ur(e)))return t;var i=Y(t),r=N(i,Y(e));return yr(i,r).join("")}function ml(t,e){var n=yt,i=_t;if(Ka(e)){var r="separator"in e?e.separator:r;n="length"in e?du(e.length):n,i="omission"in e?ur(e.omission):i}t=yu(t);var s=t.length;if(P(t)){var o=Y(t);s=o.length}if(n>=s)return t;var a=n-X(i);if(1>a)return i;var u=o?yr(o,0,a).join(""):t.slice(0,a);if(r===Z)return u+i;if(o&&(a+=u.length-a),ff(r)){if(t.slice(a).search(r)){var l,c=u;for(r.global||(r=tc(r.source,yu(De.exec(r))+"g")),r.lastIndex=0;l=r.exec(c);)var h=l.index;u=u.slice(0,h===Z?a:h)}}else if(t.indexOf(ur(r),a)!=a){var f=u.lastIndexOf(r);f>-1&&(u=u.slice(0,f))}return u+i}function gl(t){return t=yu(t),t&&de.test(t)?t.replace(fe,oi):t}function vl(t,e,n){return t=yu(t),e=n?Z:e,e===Z?U(t)?J(t):g(t):t.match(e)||[]}function bl(t){var e=t?t.length:0,i=fs();return t=e?c(t,function(t){if("function"!=typeof t[1])throw new nc(it);return[i(t[0]),t[1]]}):[],Qi(function(i){for(var r=-1;++r<e;){var s=t[r];if(n(s[0],this,i))return n(s[1],this,i)}})}function yl(t){return Un(Pn(t,!0))}function _l(t){return function(){return t}}function Sl(t,e){return null==t||t!==t?e:t}function xl(t){return t}function Cl(t){return Ii("function"==typeof t?t:Pn(t,!0))}function $l(t){return Mi(Pn(t,!0))}function wl(t,e){return Pi(t,Pn(e,!0))}function Ll(t,e,n){var i=Iu(e),s=hi(e,i);null!=n||Ka(e)&&(s.length||!i.length)||(n=e,e=t,t=this,s=hi(e,Iu(e)));var o=!(Ka(n)&&"chain"in n&&!n.chain),a=Wa(t);return r(s,function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),r=n.__actions__=Ir(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,h([this.value()],arguments))})}),t}function Tl(){return zn._===this&&(zn._=pc),this}function kl(){}function Al(t){return t=du(t),Qi(function(e){return qi(e,t)})}function El(t){return Ls(t)?C(Vs(t)):zi(t)}function Ol(t){return function(e){return null==t?Z:fi(t,e)}}function Il(){return[]}function Nl(){return!1}function Dl(){return{}}function Rl(){return""}function jl(){return!0}function Ml(t,e){if(t=du(t),1>t||t>Tt)return[];var n=Et,i=Mc(t,Et);e=fs(e),t-=Et;for(var r=k(i,e);++n<t;)e(n);return r}function Pl(t){return af(t)?c(t,Vs):uu(t)?[t]:Ir(xh(t))}function Ul(t){var e=++cc;return yu(t)+e}function Fl(t){return t&&t.length?Wn(t,xl,mi):Z}function ql(t,e){return t&&t.length?Wn(t,fs(e,2),mi):Z}function Bl(t){return x(t,xl)}function Vl(t,e){return x(t,fs(e,2))}function Hl(t){return t&&t.length?Wn(t,xl,Ri):Z}function zl(t,e){return t&&t.length?Wn(t,fs(e,2),Ri):Z}function Gl(t){return t&&t.length?T(t,xl):0}function Wl(t,e){return t&&t.length?T(t,fs(e,2)):0}m=m?ui.defaults(zn.Object(),m,ui.pick(zn,Nn)):zn;var Xl=m.Array,Yl=m.Date,Kl=m.Error,Ql=m.Function,Jl=m.Math,Zl=m.Object,tc=m.RegExp,ec=m.String,nc=m.TypeError,ic=Xl.prototype,rc=Ql.prototype,sc=Zl.prototype,oc=m["__core-js_shared__"],ac=function(){var t=/[^.]+$/.exec(oc&&oc.keys&&oc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),uc=rc.toString,lc=sc.hasOwnProperty,cc=0,hc=uc.call(Zl),fc=sc.toString,pc=zn._,dc=tc("^"+uc.call(lc).replace(Ce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mc=Xn?m.Buffer:Z,gc=m.Symbol,vc=m.Uint8Array,bc=mc?mc.allocUnsafe:Z,yc=B(Zl.getPrototypeOf,Zl),_c=gc?gc.iterator:Z,Sc=Zl.create,xc=sc.propertyIsEnumerable,Cc=ic.splice,$c=gc?gc.isConcatSpreadable:Z,wc=function(){try{var t=ms(Zl,"defineProperty");return t({},"",{}),t}catch(e){}}(),Lc=m.clearTimeout!==zn.clearTimeout&&m.clearTimeout,Tc=Yl&&Yl.now!==zn.Date.now&&Yl.now,kc=m.setTimeout!==zn.setTimeout&&m.setTimeout,Ac=Jl.ceil,Ec=Jl.floor,Oc=Zl.getOwnPropertySymbols,Ic=mc?mc.isBuffer:Z,Nc=m.isFinite,Dc=ic.join,Rc=B(Zl.keys,Zl),jc=Jl.max,Mc=Jl.min,Pc=Yl.now,Uc=m.parseInt,Fc=Jl.random,qc=ic.reverse,Bc=ms(m,"DataView"),Vc=ms(m,"Map"),Hc=ms(m,"Promise"),zc=ms(m,"Set"),Gc=ms(m,"WeakMap"),Wc=ms(Zl,"create"),Xc=Gc&&new Gc,Yc={},Kc=Hs(Bc),Qc=Hs(Vc),Jc=Hs(Hc),Zc=Hs(zc),th=Hs(Gc),eh=gc?gc.prototype:Z,nh=eh?eh.valueOf:Z,ih=eh?eh.toString:Z,rh=function(){function t(){}return function(e){if(!Ka(e))return{};if(Sc)return Sc(e);t.prototype=e;var n=new t;return t.prototype=Z,n}}();$.templateSettings={escape:ge,evaluate:ve,interpolate:be,variable:"",imports:{_:$}},$.prototype=G.prototype,$.prototype.constructor=$,K.prototype=rh(G.prototype),K.prototype.constructor=K,Q.prototype=rh(G.prototype),Q.prototype.constructor=Q,ze.prototype.clear=Ge,ze.prototype["delete"]=We,ze.prototype.get=Xe,ze.prototype.has=Ye,ze.prototype.set=Ke,Qe.prototype.clear=Je,Qe.prototype["delete"]=Ze,Qe.prototype.get=tn,Qe.prototype.has=en,Qe.prototype.set=nn,rn.prototype.clear=sn,rn.prototype["delete"]=on,rn.prototype.get=an,rn.prototype.has=un,rn.prototype.set=ln,cn.prototype.add=cn.prototype.push=hn,cn.prototype.has=fn,pn.prototype.clear=dn,pn.prototype["delete"]=mn,pn.prototype.get=gn,pn.prototype.has=vn,pn.prototype.set=bn;var sh=Mr(ai),oh=Mr(ci,!0),ah=Pr(),uh=Pr(!0),lh=Xc?function(t,e){return Xc.set(t,e),t}:xl,ch=wc?function(t,e){return wc(t,"toString",{configurable:!0,enumerable:!1,value:_l(e),writable:!0})}:xl,hh=Qi,fh=Lc||function(t){return zn.clearTimeout(t)},ph=zc&&1/H(new zc([,-0]))[1]==Lt?function(t){return new zc(t)}:kl,dh=Xc?function(t){return Xc.get(t)}:kl,mh=Oc?B(Oc,Zl):Il,gh=Oc?function(t){for(var e=[];t;)h(e,mh(t)),t=yc(t);return e}:Il,vh=di;(Bc&&vh(new Bc(new ArrayBuffer(1)))!=Zt||Vc&&vh(new Vc)!=qt||Hc&&vh(Hc.resolve())!=Ht||zc&&vh(new zc)!=Wt||Gc&&vh(new Gc)!=Kt)&&(vh=function(t){var e=fc.call(t),n=e==Vt?t.constructor:Z,i=n?Hs(n):Z;if(i)switch(i){case Kc:return Zt;case Qc:return qt;case Jc:return Ht;case Zc:return Wt;case th:return Kt}return e});var bh=oc?Wa:Nl,yh=qs(lh),_h=kc||function(t,e){return zn.setTimeout(t,e)},Sh=qs(ch),xh=Ns(function(t){t=yu(t);var e=[];return Se.test(t)&&e.push(""),t.replace(xe,function(t,n,i,r){e.push(i?r.replace(Ie,"$1"):n||t)}),e}),Ch=Qi(function(t,e){return Ua(t)?Hn(t,ii(e,1,Ua,!0)):[]}),$h=Qi(function(t,e){var n=ho(e);return Ua(n)&&(n=Z),Ua(t)?Hn(t,ii(e,1,Ua,!0),fs(n,2)):[]}),wh=Qi(function(t,e){var n=ho(e);return Ua(n)&&(n=Z),Ua(t)?Hn(t,ii(e,1,Ua,!0),Z,n):[]}),Lh=Qi(function(t){var e=c(t,gr);return e.length&&e[0]===t[0]?yi(e):[]}),Th=Qi(function(t){var e=ho(t),n=c(t,gr);return e===ho(n)?e=Z:n.pop(),n.length&&n[0]===t[0]?yi(n,fs(e,2)):[]}),kh=Qi(function(t){var e=ho(t),n=c(t,gr);return e===ho(n)?e=Z:n.pop(),n.length&&n[0]===t[0]?yi(n,Z,e):[]}),Ah=Qi(mo),Eh=as(function(t,e){var n=t?t.length:0,i=In(t,e);return Wi(t,c(e,function(t){return $s(t,n)?+t:t}).sort(kr)),i}),Oh=Qi(function(t){return lr(ii(t,1,Ua,!0))}),Ih=Qi(function(t){var e=ho(t);return Ua(e)&&(e=Z),lr(ii(t,1,Ua,!0),fs(e,2))}),Nh=Qi(function(t){var e=ho(t);return Ua(e)&&(e=Z),lr(ii(t,1,Ua,!0),Z,e)}),Dh=Qi(function(t,e){return Ua(t)?Hn(t,e):[]}),Rh=Qi(function(t){return dr(a(t,Ua))}),jh=Qi(function(t){var e=ho(t);return Ua(e)&&(e=Z),dr(a(t,Ua),fs(e,2))}),Mh=Qi(function(t){var e=ho(t);return Ua(e)&&(e=Z),dr(a(t,Ua),Z,e)}),Ph=Qi(Mo),Uh=Qi(function(t){var e=t.length,n=e>1?t[e-1]:Z;return n="function"==typeof n?(t.pop(),n):Z,Po(t,n)}),Fh=as(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return In(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Q&&$s(n)?(i=i.slice(n,+n+(e?1:0)),i.__actions__.push({func:Vo,args:[r],thisArg:Z}),new K(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(Z),t})):this.thru(r)}),qh=Rr(function(t,e,n){lc.call(t,n)?++t[n]:On(t,n,1)}),Bh=Hr(eo),Vh=Hr(no),Hh=Rr(function(t,e,n){lc.call(t,n)?t[n].push(e):On(t,n,[e]);
}),zh=Qi(function(t,e,i){var r=-1,s="function"==typeof e,o=Ls(e),a=Pa(t)?Xl(t.length):[];return sh(t,function(t){var u=s?e:o&&null!=t?t[e]:Z;a[++r]=u?n(u,t,i):Si(t,e,i)}),a}),Gh=Rr(function(t,e,n){On(t,n,e)}),Wh=Rr(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Xh=Qi(function(t,e){if(null==t)return[];var n=e.length;return n>1&&ws(t,e[0],e[1])?e=[]:n>2&&ws(e[0],e[1],e[2])&&(e=[e[0]]),Bi(t,ii(e,1),[])}),Yh=Tc||function(){return zn.Date.now()},Kh=Qi(function(t,e,n){var i=at;if(n.length){var r=V(n,hs(Kh));i|=ft}return is(t,i,e,n,r)}),Qh=Qi(function(t,e,n){var i=at|ut;if(n.length){var r=V(n,hs(Qh));i|=ft}return is(e,i,t,n,r)}),Jh=Qi(function(t,e){return Vn(t,1,e)}),Zh=Qi(function(t,e,n){return Vn(t,gu(e)||0,n)});xa.Cache=rn;var tf=hh(function(t,e){e=1==e.length&&af(e[0])?c(e[0],E(fs())):c(ii(e,1),E(fs()));var i=e.length;return Qi(function(r){for(var s=-1,o=Mc(r.length,i);++s<o;)r[s]=e[s].call(this,r[s]);return n(t,this,r)})}),ef=Qi(function(t,e){var n=V(e,hs(ef));return is(t,ft,Z,e,n)}),nf=Qi(function(t,e){var n=V(e,hs(nf));return is(t,pt,Z,e,n)}),rf=as(function(t,e){return is(t,mt,Z,Z,Z,e)}),sf=Zr(mi),of=Zr(function(t,e){return t>=e}),af=Xl.isArray,uf=Qn?E(Qn):xi,lf=Ic||Nl,cf=Jn?E(Jn):Ci,hf=Zn?E(Zn):Li,ff=ti?E(ti):Ai,pf=ei?E(ei):Ei,df=ni?E(ni):Oi,mf=Zr(Ri),gf=Zr(function(t,e){return e>=t}),vf=jr(function(t,e){if(Es(e)||Pa(e))return void Nr(e,Iu(e),t);for(var n in e)lc.call(e,n)&&wn(t,n,e[n])}),bf=jr(function(t,e){Nr(e,Nu(e),t)}),yf=jr(function(t,e,n,i){Nr(e,Nu(e),t,i)}),_f=jr(function(t,e,n,i){Nr(e,Iu(e),t,i)}),Sf=as(In),xf=Qi(function(t){return t.push(Z,Cn),n(yf,Z,t)}),Cf=Qi(function(t){return t.push(Z,Rs),n(kf,Z,t)}),$f=Wr(function(t,e,n){t[e]=n},_l(xl)),wf=Wr(function(t,e,n){lc.call(t,e)?t[e].push(n):t[e]=[n]},fs),Lf=Qi(Si),Tf=jr(function(t,e,n){Ui(t,e,n)}),kf=jr(function(t,e,n,i){Ui(t,e,n,i)}),Af=as(function(t,e){return null==t?{}:(e=c(e,Vs),Vi(t,Hn(ls(t),e)))}),Ef=as(function(t,e){return null==t?{}:Vi(t,c(e,Vs))}),Of=ns(Iu),If=ns(Nu),Nf=qr(function(t,e,n){return e=e.toLowerCase(),t+(n?Ku(e):e)}),Df=qr(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Rf=qr(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),jf=Fr("toLowerCase"),Mf=qr(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Pf=qr(function(t,e,n){return t+(n?" ":"")+Ff(e)}),Uf=qr(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Ff=Fr("toUpperCase"),qf=Qi(function(t,e){try{return n(t,Z,e)}catch(i){return za(i)?i:new Kl(i)}}),Bf=as(function(t,e){return r(e,function(e){e=Vs(e),On(t,e,Kh(t[e],t))}),t}),Vf=zr(),Hf=zr(!0),zf=Qi(function(t,e){return function(n){return Si(n,t,e)}}),Gf=Qi(function(t,e){return function(n){return Si(t,n,e)}}),Wf=Yr(c),Xf=Yr(o),Yf=Yr(d),Kf=Jr(),Qf=Jr(!0),Jf=Xr(function(t,e){return t+e},0),Zf=es("ceil"),tp=Xr(function(t,e){return t/e},1),ep=es("floor"),np=Xr(function(t,e){return t*e},1),ip=es("round"),rp=Xr(function(t,e){return t-e},0);return $.after=ma,$.ary=ga,$.assign=vf,$.assignIn=bf,$.assignInWith=yf,$.assignWith=_f,$.at=Sf,$.before=va,$.bind=Kh,$.bindAll=Bf,$.bindKey=Qh,$.castArray=Ea,$.chain=qo,$.chunk=Ws,$.compact=Xs,$.concat=Ys,$.cond=bl,$.conforms=yl,$.constant=_l,$.countBy=qh,$.create=_u,$.curry=ba,$.curryRight=ya,$.debounce=_a,$.defaults=xf,$.defaultsDeep=Cf,$.defer=Jh,$.delay=Zh,$.difference=Ch,$.differenceBy=$h,$.differenceWith=wh,$.drop=Ks,$.dropRight=Qs,$.dropRightWhile=Js,$.dropWhile=Zs,$.fill=to,$.filter=Jo,$.flatMap=Zo,$.flatMapDeep=ta,$.flatMapDepth=ea,$.flatten=io,$.flattenDeep=ro,$.flattenDepth=so,$.flip=Sa,$.flow=Vf,$.flowRight=Hf,$.fromPairs=oo,$.functions=Tu,$.functionsIn=ku,$.groupBy=Hh,$.initial=lo,$.intersection=Lh,$.intersectionBy=Th,$.intersectionWith=kh,$.invert=$f,$.invertBy=wf,$.invokeMap=zh,$.iteratee=Cl,$.keyBy=Gh,$.keys=Iu,$.keysIn=Nu,$.map=sa,$.mapKeys=Du,$.mapValues=Ru,$.matches=$l,$.matchesProperty=wl,$.memoize=xa,$.merge=Tf,$.mergeWith=kf,$.method=zf,$.methodOf=Gf,$.mixin=Ll,$.negate=Ca,$.nthArg=Al,$.omit=Af,$.omitBy=ju,$.once=$a,$.orderBy=oa,$.over=Wf,$.overArgs=tf,$.overEvery=Xf,$.overSome=Yf,$.partial=ef,$.partialRight=nf,$.partition=Wh,$.pick=Ef,$.pickBy=Mu,$.property=El,$.propertyOf=Ol,$.pull=Ah,$.pullAll=mo,$.pullAllBy=go,$.pullAllWith=vo,$.pullAt=Eh,$.range=Kf,$.rangeRight=Qf,$.rearg=rf,$.reject=la,$.remove=bo,$.rest=wa,$.reverse=yo,$.sampleSize=ha,$.set=Uu,$.setWith=Fu,$.shuffle=fa,$.slice=_o,$.sortBy=Xh,$.sortedUniq=To,$.sortedUniqBy=ko,$.split=al,$.spread=La,$.tail=Ao,$.take=Eo,$.takeRight=Oo,$.takeRightWhile=Io,$.takeWhile=No,$.tap=Bo,$.throttle=Ta,$.thru=Vo,$.toArray=fu,$.toPairs=Of,$.toPairsIn=If,$.toPath=Pl,$.toPlainObject=vu,$.transform=qu,$.unary=ka,$.union=Oh,$.unionBy=Ih,$.unionWith=Nh,$.uniq=Do,$.uniqBy=Ro,$.uniqWith=jo,$.unset=Bu,$.unzip=Mo,$.unzipWith=Po,$.update=Vu,$.updateWith=Hu,$.values=zu,$.valuesIn=Gu,$.without=Dh,$.words=vl,$.wrap=Aa,$.xor=Rh,$.xorBy=jh,$.xorWith=Mh,$.zip=Ph,$.zipObject=Uo,$.zipObjectDeep=Fo,$.zipWith=Uh,$.entries=Of,$.entriesIn=If,$.extend=bf,$.extendWith=yf,Ll($,$),$.add=Jf,$.attempt=qf,$.camelCase=Nf,$.capitalize=Ku,$.ceil=Zf,$.clamp=Wu,$.clone=Oa,$.cloneDeep=Na,$.cloneDeepWith=Da,$.cloneWith=Ia,$.conformsTo=Ra,$.deburr=Qu,$.defaultTo=Sl,$.divide=tp,$.endsWith=Ju,$.eq=ja,$.escape=Zu,$.escapeRegExp=tl,$.every=Qo,$.find=Bh,$.findIndex=eo,$.findKey=Su,$.findLast=Vh,$.findLastIndex=no,$.findLastKey=xu,$.floor=ep,$.forEach=na,$.forEachRight=ia,$.forIn=Cu,$.forInRight=$u,$.forOwn=wu,$.forOwnRight=Lu,$.get=Au,$.gt=sf,$.gte=of,$.has=Eu,$.hasIn=Ou,$.head=ao,$.identity=xl,$.includes=ra,$.indexOf=uo,$.inRange=Xu,$.invoke=Lf,$.isArguments=Ma,$.isArray=af,$.isArrayBuffer=uf,$.isArrayLike=Pa,$.isArrayLikeObject=Ua,$.isBoolean=Fa,$.isBuffer=lf,$.isDate=cf,$.isElement=qa,$.isEmpty=Ba,$.isEqual=Va,$.isEqualWith=Ha,$.isError=za,$.isFinite=Ga,$.isFunction=Wa,$.isInteger=Xa,$.isLength=Ya,$.isMap=hf,$.isMatch=Ja,$.isMatchWith=Za,$.isNaN=tu,$.isNative=eu,$.isNil=iu,$.isNull=nu,$.isNumber=ru,$.isObject=Ka,$.isObjectLike=Qa,$.isPlainObject=su,$.isRegExp=ff,$.isSafeInteger=ou,$.isSet=pf,$.isString=au,$.isSymbol=uu,$.isTypedArray=df,$.isUndefined=lu,$.isWeakMap=cu,$.isWeakSet=hu,$.join=co,$.kebabCase=Df,$.last=ho,$.lastIndexOf=fo,$.lowerCase=Rf,$.lowerFirst=jf,$.lt=mf,$.lte=gf,$.max=Fl,$.maxBy=ql,$.mean=Bl,$.meanBy=Vl,$.min=Hl,$.minBy=zl,$.stubArray=Il,$.stubFalse=Nl,$.stubObject=Dl,$.stubString=Rl,$.stubTrue=jl,$.multiply=np,$.nth=po,$.noConflict=Tl,$.noop=kl,$.now=Yh,$.pad=el,$.padEnd=nl,$.padStart=il,$.parseInt=rl,$.random=Yu,$.reduce=aa,$.reduceRight=ua,$.repeat=sl,$.replace=ol,$.result=Pu,$.round=ip,$.runInContext=li,$.sample=ca,$.size=pa,$.snakeCase=Mf,$.some=da,$.sortedIndex=So,$.sortedIndexBy=xo,$.sortedIndexOf=Co,$.sortedLastIndex=$o,$.sortedLastIndexBy=wo,$.sortedLastIndexOf=Lo,$.startCase=Pf,$.startsWith=ul,$.subtract=rp,$.sum=Gl,$.sumBy=Wl,$.template=ll,$.times=Ml,$.toFinite=pu,$.toInteger=du,$.toLength=mu,$.toLower=cl,$.toNumber=gu,$.toSafeInteger=bu,$.toString=yu,$.toUpper=hl,$.trim=fl,$.trimEnd=pl,$.trimStart=dl,$.truncate=ml,$.unescape=gl,$.uniqueId=Ul,$.upperCase=Uf,$.upperFirst=Ff,$.each=na,$.eachRight=ia,$.first=ao,Ll($,function(){var t={};return ai($,function(e,n){lc.call($.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),$.VERSION=tt,r(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){$[t].placeholder=$}),r(["drop","take"],function(t,e){Q.prototype[t]=function(n){var i=this.__filtered__;if(i&&!e)return new Q(this);n=n===Z?1:jc(du(n),0);var r=this.clone();return i?r.__takeCount__=Mc(n,r.__takeCount__):r.__views__.push({size:Mc(n,Et),type:t+(r.__dir__<0?"Right":"")}),r},Q.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),r(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==Ct||n==wt;Q.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:fs(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),r(["head","last"],function(t,e){var n="take"+(e?"Right":"");Q.prototype[t]=function(){return this[n](1).value()[0]}}),r(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Q.prototype[t]=function(){return this.__filtered__?new Q(this):this[n](1)}}),Q.prototype.compact=function(){return this.filter(xl)},Q.prototype.find=function(t){return this.filter(t).head()},Q.prototype.findLast=function(t){return this.reverse().find(t)},Q.prototype.invokeMap=Qi(function(t,e){return"function"==typeof t?new Q(this):this.map(function(n){return Si(n,t,e)})}),Q.prototype.reject=function(t){return this.filter(Ca(fs(t)))},Q.prototype.slice=function(t,e){t=du(t);var n=this;return n.__filtered__&&(t>0||0>e)?new Q(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==Z&&(e=du(e),n=0>e?n.dropRight(-e):n.take(e-t)),n)},Q.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Q.prototype.toArray=function(){return this.take(Et)},ai(Q.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=$[i?"take"+("last"==e?"Right":""):e],s=i||/^find/.test(e);r&&($.prototype[e]=function(){var e=this.__wrapped__,o=i?[1]:arguments,a=e instanceof Q,u=o[0],l=a||af(e),c=function(t){var e=r.apply($,h([t],o));return i&&f?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(a=l=!1);var f=this.__chain__,p=!!this.__actions__.length,d=s&&!f,m=a&&!p;if(!s&&l){e=m?e:new Q(this);var g=t.apply(e,o);return g.__actions__.push({func:Vo,args:[c],thisArg:Z}),new K(g,f)}return d&&m?t.apply(this,o):(g=this.thru(c),d?i?g.value()[0]:g.value():g)})}),r(["pop","push","shift","sort","splice","unshift"],function(t){var e=ic[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);$.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(af(r)?r:[],t)}return this[n](function(n){return e.apply(af(n)?n:[],t)})}}),ai(Q.prototype,function(t,e){var n=$[e];if(n){var i=n.name+"",r=Yc[i]||(Yc[i]=[]);r.push({name:e,func:n})}}),Yc[Gr(Z,ut).name]=[{name:"wrapper",func:Z}],Q.prototype.clone=Oe,Q.prototype.reverse=Ve,Q.prototype.value=He,$.prototype.at=Fh,$.prototype.chain=Ho,$.prototype.commit=zo,$.prototype.next=Go,$.prototype.plant=Xo,$.prototype.reverse=Yo,$.prototype.toJSON=$.prototype.valueOf=$.prototype.value=Ko,$.prototype.first=$.prototype.head,_c&&($.prototype[_c]=Wo),$},ui=ai();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(zn._=ui,define(function(){return ui})):Wn?((Wn.exports=ui)._=ui,Gn._=ui):zn._=ui}.call(this),/**
 * @license dotJEM Angular Tree
 * (c) 2014-2015 dotJEM (Jens Melgaard)
 * License: MIT
 *
 * @module dotjem.angular.tree
 */
function(){function t(){return{restrict:"AEC",require:"dxStartWith",controller:"dxStartWithCtrl",scope:!0,terminal:!0,transclude:!0,multiElement:!0,$$tlb:!0,compile:function(t,e){var n=e.dxStartWith||e.root,r=n.match(i),s=r[1],o=r[3]||"";return function(t,e,n,i,r){i.transclude=r,i.transclude(t,function(t,n){function i(t){n.$dxPrior=t,""!==o&&(n[o]=t)}e.append(t),n.$dxLevel=0,n.$dxIsRoot=!0,n.$watch(s,i)})}}}}function e(){return{restrict:"AEC",require:"^dxStartWith",scope:!0,terminal:!0,multiElement:!0,compile:function(t,e){var n=e.dxConnect||e.connect,r=n.match(i),s=r[1],o=r[3]||"";return function(t,e,n,i){i.transclude(t,function(t,n){function i(t){n.$dxPrior=t,""!==o&&(n[o]=t)}e.append(t),n.$dxLevel=n.$dxLevel+1,n.$dxIsRoot=!1,n.$watch(s,i)})}}}}var n=angular.module("dotjem.angular.tree",[]),i=/^(\S+)(\s+as\s+(\w+))?$/;n.controller("dxStartWithCtrl",[function(){}]),n.directive("dxStartWith",t),n.directive("dxConnect",e)}();var duScrollDefaultEasing=function(t){"use strict";return.5>t?Math.pow(2*t,2)/2:1-Math.pow(2*(1-t),2)/2};angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",duScrollDefaultEasing).value("duScrollCancelOnEvents","scroll mousedown mousewheel touchmove keydown").value("duScrollBottomSpy",!1).value("duScrollActiveClass","active"),angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset","duScrollCancelOnEvents",function(t,e,n,i,r,s,o,a){"use strict";var u={},l=function(t){return"undefined"!=typeof HTMLDocument&&t instanceof HTMLDocument||t.nodeType&&t.nodeType===t.DOCUMENT_NODE},c=function(t){return"undefined"!=typeof HTMLElement&&t instanceof HTMLElement||t.nodeType&&t.nodeType===t.ELEMENT_NODE},h=function(t){return c(t)||l(t)?t:t[0]};u.duScrollTo=function(e,n,i,r){var s;if(angular.isElement(e)?s=this.duScrollToElement:angular.isDefined(i)&&(s=this.duScrollToAnimated),s)return s.apply(this,arguments);var o=h(this);return l(o)?t.scrollTo(e,n):(o.scrollLeft=e,void(o.scrollTop=n))};var f,p;u.duScrollToAnimated=function(t,s,o,u){o&&!u&&(u=r);var l=this.duScrollLeft(),c=this.duScrollTop(),h=Math.round(t-l),d=Math.round(s-c),m=null,g=0,v=this,b=function(t){(!t||g&&t.which>0)&&(a&&v.unbind(a,b),n(f),p.reject(),f=null)};if(f&&b(),p=e.defer(),0===o||!h&&!d)return 0===o&&v.duScrollTo(t,s),p.resolve(),p.promise;var y=function(t){null===m&&(m=t),g=t-m;var e=g>=o?1:u(g/o);v.scrollTo(l+Math.ceil(h*e),c+Math.ceil(d*e)),1>e?f=i(y):(a&&v.unbind(a,b),f=null,p.resolve())};return v.duScrollTo(l,c),a&&v.bind(a,b),f=i(y),p.promise},u.duScrollToElement=function(t,e,n,i){var r=h(this);(!angular.isNumber(e)||isNaN(e))&&(e=o);var s=this.duScrollTop()+h(t).getBoundingClientRect().top-e;return c(r)&&(s-=r.getBoundingClientRect().top),this.duScrollTo(0,s,n,i)},u.duScrollLeft=function(e,n,i){if(angular.isNumber(e))return this.duScrollTo(e,this.duScrollTop(),n,i);var r=h(this);return l(r)?t.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:r.scrollLeft},u.duScrollTop=function(e,n,i){if(angular.isNumber(e))return this.duScrollTo(this.duScrollLeft(),e,n,i);var r=h(this);return l(r)?t.scrollY||document.documentElement.scrollTop||document.body.scrollTop:r.scrollTop},u.duScrollToElementAnimated=function(t,e,n,i){return this.duScrollToElement(t,e,n||s,i)},u.duScrollTopAnimated=function(t,e,n){return this.duScrollTop(t,e||s,n)},u.duScrollLeftAnimated=function(t,e,n){return this.duScrollLeft(t,e||s,n)},angular.forEach(u,function(t,e){angular.element.prototype[e]=t;var n=e.replace(/^duScroll/,"scroll");angular.isUndefined(angular.element.prototype[n])&&(angular.element.prototype[n]=t)})}]),angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(t){"use strict";var e=["webkit","moz","o","ms"];return function(n,i){if(t[n])return t[n];for(var r,s=n.substr(0,1).toUpperCase()+n.substr(1),o=0;o<e.length;o++)if(r=e[o]+s,t[r])return t[r];return i}}]),angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(t,e){"use strict";var n=0,i=function(t,i){var r=(new Date).getTime(),s=Math.max(0,16-(r-n)),o=e(function(){t(r+s)},s);return n=r+s,o};return t("requestAnimationFrame",i)}]).factory("cancelAnimation",["polyfill","$timeout",function(t,e){"use strict";var n=function(t){e.cancel(t)};return t("cancelAnimationFrame",n)}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","$window","$document","scrollContainerAPI","duScrollGreedy","duScrollSpyWait","duScrollBottomSpy","duScrollActiveClass",function(t,e,n,i,r,s,o,a,u){"use strict";var l=function(r){var l=!1,c=!1,h=function(){c=!1;var e,o=r.container,l=o[0],h=0;"undefined"!=typeof HTMLElement&&l instanceof HTMLElement||l.nodeType&&l.nodeType===l.ELEMENT_NODE?(h=l.getBoundingClientRect().top,e=Math.round(l.scrollTop+l.clientHeight)>=l.scrollHeight):e=Math.round(n.pageYOffset+n.innerHeight)>=i[0].body.scrollHeight;var f,p,d,m,g,v,b=a&&e?"bottom":"top";for(m=r.spies,p=r.currentlyActive,d=void 0,f=0;f<m.length;f++)g=m[f],v=g.getTargetPosition(),v&&(a&&e||v.top+g.offset-h<20&&(s||-1*v.top+h)<v.height)&&(!d||d[b]<v[b])&&(d={spy:g},d[b]=v[b]);d&&(d=d.spy),p===d||s&&!d||(p&&(p.$element.removeClass(u),t.$broadcast("duScrollspy:becameInactive",p.$element,angular.element(p.getTargetElement()))),d&&(d.$element.addClass(u),t.$broadcast("duScrollspy:becameActive",d.$element,angular.element(d.getTargetElement()))),r.currentlyActive=d)};return o?function(){l?c=!0:(h(),l=e(function(){l=!1,c&&h()},o,!1))}:h},c={},h=function(t){var e=t.$id,n={spies:[]};return n.handler=l(n),c[e]=n,t.$on("$destroy",function(){f(t)}),e},f=function(t){var e=t.$id,n=c[e],i=n.container;i&&i.off("scroll",n.handler),delete c[e]},p=h(t),d=function(t){return c[t.$id]?c[t.$id]:t.$parent?d(t.$parent):c[p]},m=function(t){var e,n,i=t.$scope;if(i)return d(i);for(n in c)if(e=c[n],-1!==e.spies.indexOf(t))return e},g=function(t){for(;t.parentNode;)if(t=t.parentNode,t===document)return!0;return!1},v=function(t){var e=m(t);e&&(e.spies.push(t),e.container&&g(e.container)||(e.container&&e.container.off("scroll",e.handler),e.container=r.getContainer(t.$scope),e.container.on("scroll",e.handler).triggerHandler("scroll")))},b=function(t){var e=m(t);t===e.currentlyActive&&(e.currentlyActive=null);var n=e.spies.indexOf(t);-1!==n&&e.spies.splice(n,1),t.$element=null};return{addSpy:v,removeSpy:b,createContext:h,destroyContext:f,getContextForScope:d}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(t){"use strict";var e={},n=function(t,n){var i=t.$id;return e[i]=n,i},i=function(t){return e[t.$id]?t.$id:t.$parent?i(t.$parent):void 0},r=function(n){var r=i(n);return r?e[r]:t},s=function(t){var n=i(t);n&&delete e[n]};return{getContainerId:i,getContainer:r,setContainer:n,removeContainer:s}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(t,e,n){"use strict";return{link:function(i,r,s){r.on("click",function(r){if(s.href&&-1!==s.href.indexOf("#")||""!==s.duSmoothScroll){var o=s.href?s.href.replace(/.*(?=#[^\s]+$)/,"").substring(1):s.duSmoothScroll,a=document.getElementById(o)||document.getElementsByName(o)[0];if(a&&a.getBoundingClientRect){r.stopPropagation&&r.stopPropagation(),r.preventDefault&&r.preventDefault();var u=s.offset?parseInt(s.offset,10):e,l=s.duration?parseInt(s.duration,10):t,c=n.getContainer(i);c.duScrollToElement(angular.element(a),isNaN(u)?0:u,isNaN(l)?0:l)}}})}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(t){"use strict";return{restrict:"A",scope:!0,compile:function(e,n,i){return{pre:function(e,n,i,r){t.createContext(e)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(t){"use strict";return{restrict:"A",scope:!0,compile:function(e,n,i){return{pre:function(e,n,i,r){i.$observe("duScrollContainer",function(i){angular.isString(i)&&(i=document.getElementById(i)),i=angular.isElement(i)?angular.element(i):n,t.setContainer(e,i),e.$on("$destroy",function(){t.removeContainer(e)})})}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(t,e,n,i){"use strict";var r=function(t,e,n,i){angular.isElement(t)?this.target=t:angular.isString(t)&&(this.targetId=t),this.$scope=e,this.$element=n,this.offset=i};return r.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)||document.getElementsByName(this.targetId)[0]),this.target},r.prototype.getTargetPosition=function(){var t=this.getTargetElement();return t?t.getBoundingClientRect():void 0},r.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(s,o,a){var u,l=a.ngHref||a.href;if(l&&-1!==l.indexOf("#")?u=l.replace(/.*(?=#[^\s]+$)/,"").substring(1):a.duScrollspy?u=a.duScrollspy:a.duSmoothScroll&&(u=a.duSmoothScroll),u){var c=n(function(){var n=new r(u,s,o,-(a.offset?parseInt(a.offset,10):e));t.addSpy(n),s.$on("$locationChangeSuccess",n.flushTargetCache.bind(n));var l=i.$on("$stateChangeSuccess",n.flushTargetCache.bind(n));s.$on("$destroy",function(){t.removeSpy(n),l()})},0,!1);s.$on("$destroy",function(){n.cancel(c)})}}}}]);/*
 * Copyright (c) 2009-2016 Frank Bennett
 * 
 * 	This program is free software: you can redistribute it and/or
 * 	modify it under EITHER
 * 
 *       * the terms of the Common Public Attribution License (CPAL) as
 * 	    published by the Open Source Initiative, either version 1 of
 * 	    the CPAL, or (at your option) any later version; OR
 * 
 *       * the terms of the GNU Affero General Public License (AGPL)
 *         as published by the Free Software Foundation, either version
 *         3 of the AGPL, or (at your option) any later version.
 * 
 * 	This program is distributed in the hope that it will be useful,
 * 	but WITHOUT ANY WARRANTY; without even the implied warranty of
 * 	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * 	Affero General Public License for more details.
 * 
 * 	You should have received copies of the Common Public Attribution
 *     License and of the GNU Affero General Public License along with
 *     this program.  If not, see <https://opensource.org/licenses/> or
 *     <http://www.gnu.org/licenses/> respectively.
 */
var CSL={PROCESSOR_VERSION:"1.1.137",CONDITION_LEVEL_TOP:1,CONDITION_LEVEL_BOTTOM:2,PLAIN_HYPHEN_REGEX:/(?:[^\\]-|\u2013)/,LOCATOR_LABELS_REGEXP:new RegExp("^((art|ch|subch|col|fig|l|n|no|op|p|pp|para|subpara|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\\.)\\s+(.*)"),STATUTE_SUBDIV_GROUPED_REGEX:/((?:^| )(?:art|bk|ch|subch|col|fig|fol|l|n|no|op|p|pp|para|subpara|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\. *)/g,STATUTE_SUBDIV_PLAIN_REGEX:/(?:(?:^| )(?:art|bk|ch|subch|col|fig|fol|l|n|no|op|p|pp|para|subpara|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\. *)/,STATUTE_SUBDIV_STRINGS:{"art.":"article","bk.":"book","ch.":"chapter","subch.":"subchapter","p.":"page","pp.":"page","para.":"paragraph","subpara.":"subparagraph","pt.":"part","r.":"rule","sec.":"section","subsec.":"subsection","sch.":"schedule","tit.":"title","col.":"column","fig.":"figure","fol.":"folio","l.":"line","n.":"note","no.":"issue","op.":"opus","sv.":"sub-verbo","vrs.":"verse","vol.":"volume"},STATUTE_SUBDIV_STRINGS_REVERSE:{article:"art.",book:"bk.",chapter:"ch.",subchapter:"subch.",page:"p.",paragraph:"para.",subparagraph:"subpara.",part:"pt.",rule:"r.",section:"sec.",subsection:"subsec.",schedule:"sch.",title:"tit.",column:"col.",figure:"fig.",folio:"fol.",line:"l.",note:"n.",issue:"no.",opus:"op.","sub-verbo":"sv.","sub verbo":"sv.",verse:"vrs.",volume:"vol."},LOCATOR_LABELS_MAP:{art:"article",bk:"book",ch:"chapter",subch:"subchapter",col:"column",fig:"figure",fol:"folio",l:"line",n:"note",no:"issue",op:"opus",p:"page",pp:"page",para:"paragraph",subpara:"subparagraph",pt:"part",r:"rule",sec:"section",subsec:"subsection",sv:"sub-verbo",sch:"schedule",tit:"title",vrs:"verse",vol:"volume"},MODULE_MACROS:{"juris-pretitle":!0,"juris-title":!0,"juris-pretitle-short":!0,"juris-title-short":!0,"juris-main":!0,"juris-main-short":!0,"juris-tail":!0,"juris-tail-short":!0,"juris-locator":!0},MODULE_TYPES:{legal_case:!0,legislation:!0,bill:!0,hearing:!0,gazette:!0,report:!0,regulation:!0,standard:!0},NestedBraces:[["(","["],[")","]"]],checkNestedBrace:function(t){"note"===t.opt.xclass?(this.depth=0,this.update=function(t){for(var t=t?t:"",e=t.split(/([\(\)])/),n=1,i=e.length;i>n;n+=2)"("===e[n]?(1===this.depth%2&&(e[n]="["),this.depth+=1):")"===e[n]&&(0===this.depth%2&&(e[n]="]"),this.depth-=1);var r=e.join("");return r}):this.update=function(t){return t}},MULTI_FIELDS:["event","publisher","publisher-place","event-place","title","container-title","collection-title","authority","genre","title-short","medium","jurisdiction","archive","archive-place"],LangPrefsMap:{title:"titles","title-short":"titles",event:"titles",genre:"titles",medium:"titles","container-title":"journals","collection-title":"journals",archive:"journals",publisher:"publishers",authority:"publishers","publisher-place":"places","event-place":"places","archive-place":"places",jurisdiction:"places",number:"number",edition:"number",issue:"number",volume:"number"},AbbreviationSegments:function(){this["container-title"]={},this["collection-title"]={},this["institution-entire"]={},this["institution-part"]={},this.nickname={},this.number={},this.title={},this.place={},this.hereinafter={},this.classic={},this["container-phrase"]={},this["title-phrase"]={}},parseLocator:function(t){if(this.opt.development_extensions.locator_date_and_revision&&t.locator){t.locator=""+t.locator;var e=t.locator.indexOf("|");if(e>-1){var n=t.locator;t.locator=n.slice(0,e),n=n.slice(e+1),m=n.match(/^([0-9]{4}-[0-9]{2}-[0-9]{2}).*/),m&&(t["locator-date"]=this.fun.dateparser.parseDateToObject(m[1]),n=n.slice(m[1].length)),t["locator-extra"]=n.replace(/^\s+/,"").replace(/\s+$/,"")}}return t.locator&&(t.locator=(""+t.locator).replace(/\s+$/,"")),t},normalizeLocaleStr:function(t){if(t){var e=t.split("-");return e[0]=e[0].toLowerCase(),e[1]&&(e[1]=e[1].toUpperCase()),e.join("-")}},parseNoteFieldHacks:function(t,e,n){if("string"==typeof t.note){for(var i=[],r=t.note.split("\n"),s=0,o=r.length;o>s;s++){var a=r[s],i=[],u=a.match(CSL.NOTE_FIELDS_REGEXP);if(u){for(var l=a.split(CSL.NOTE_FIELDS_REGEXP),c=0,h=l.length-1;h>c;c++)i.push(l[c]),i.push(u[c]);i.push(l[l.length-1]);for(var c=1,h=i.length;h>c&&(!i[c-1].trim()||!(s>0||c>1)||i[c-1].match(CSL.NOTE_FIELD_REGEXP));c+=2)i[c]="\n"+i[c].slice(2,-1).trim()+"\n";r[s]=i.join("")}}r=r.join("\n").split("\n");for(var f=0,p={},s=0,o=r.length;o>s;s++){var a=r[s],d=a.match(CSL.NOTE_FIELD_REGEXP);if(a.trim()){if(!d){if(0===s)continue;f=s;break}var m=d[1],g=d[2].replace(/^\s+/,"").replace(/\s+$/,"");if("type"===m)t.type=g,r[s]="";else if(CSL.DATE_VARIABLES.indexOf(m)>-1)n&&(t[m]={raw:g},(!e||e[m]&&g.match(/^[0-9]{4}(?:-[0-9]{1,2}(?:-[0-9]{1,2})*)*$/))&&(r[s]=""));else if(!t[m]){if(CSL.NAME_VARIABLES.indexOf(m)>-1){p[m]||(p[m]=[]);var v=g.split(/\s*\|\|\s*/);if(1===v.length)p[m].push({literal:v[0]});else if(2===v.length){var b={family:v[0],given:v[1]};CSL.parseParticles(b),p[m].push(b)}}else t[m]=g;(!e||e[m])&&(r[s]="")}}}for(var m in p)t[m]=p[m];if(e){r[f].trim()&&(r[f]="\n"+r[f]);for(var s=f-1;s>-1;s--)r[s].trim()||(r=r.slice(0,s).concat(r.slice(s+1)))}t.note=r.join("\n").trim()}},GENDERS:["masculine","feminine"],ERROR_NO_RENDERED_FORM:1,PREVIEW:"Just for laughs.",ASSUME_ALL_ITEMS_REGISTERED:2,START:0,END:1,SINGLETON:2,SEEN:6,SUCCESSOR:3,SUCCESSOR_OF_SUCCESSOR:4,SUPPRESS:5,SINGULAR:0,PLURAL:1,LITERAL:!0,BEFORE:1,AFTER:2,DESCENDING:1,ASCENDING:2,ONLY_FIRST:1,ALWAYS:2,ONLY_LAST:3,FINISH:1,POSITION_FIRST:0,POSITION_SUBSEQUENT:1,POSITION_IBID:2,POSITION_IBID_WITH_LOCATOR:3,MARK_TRAILING_NAMES:!0,POSITION_TEST_VARS:["position","first-reference-note-number","near-note"],AREAS:["citation","citation_sort","bibliography","bibliography_sort"],CITE_FIELDS:["first-reference-note-number","locator","locator-extra"],MINIMAL_NAME_FIELDS:["literal","family"],SWAPPING_PUNCTUATION:[".","!","?",":",","],TERMINAL_PUNCTUATION:[":",".",";","!","?"," "],NONE:0,NUMERIC:1,POSITION:2,COLLAPSE_VALUES:["citation-number","year","year-suffix"],DATE_PARTS:["year","month","day"],DATE_PARTS_ALL:["year","month","day","season"],DATE_PARTS_INTERNAL:["year","month","day","year_end","month_end","day_end"],NAME_PARTS:["non-dropping-particle","family","given","dropping-particle","suffix","literal"],DECORABLE_NAME_PARTS:["given","family","suffix"],DISAMBIGUATE_OPTIONS:["disambiguate-add-names","disambiguate-add-givenname","disambiguate-add-year-suffix"],GIVENNAME_DISAMBIGUATION_RULES:["all-names","all-names-with-initials","primary-name","primary-name-with-initials","by-cite"],NAME_ATTRIBUTES:["and","delimiter-precedes-last","delimiter-precedes-et-al","initialize-with","initialize","name-as-sort-order","sort-separator","et-al-min","et-al-use-first","et-al-subsequent-min","et-al-subsequent-use-first","form","prefix","suffix","delimiter"],PARALLEL_MATCH_VARS:["container-title"],PARALLEL_TYPES:["bill","gazette","regulation","legislation","legal_case","treaty","article-magazine","article-journal"],PARALLEL_COLLAPSING_MID_VARSET:["volume","issue","container-title","section","collection-number"],LOOSE:0,STRICT:1,TOLERANT:2,PREFIX_PUNCTUATION:/[.;:]\s*$/,SUFFIX_PUNCTUATION:/^\s*[.;:,\(\)]/,NUMBER_REGEXP:/(?:^\d+|\d+$)/,NAME_INITIAL_REGEXP:/^([A-Z\u0590-\u05ff\u00c0-\u017f\u0400-\u042f\u0600-\u06ff\u0370\u0372\u0376\u0386\u0388-\u03ab\u03e2\u03e4\u03e6\u03e8\u03ea\u03ec\u03ee\u03f4\u03f7\u03fd-\u03ff])([a-zA-Z\u00c0-\u017f\u0400-\u052f\u0600-\u06ff\u0370-\u03ff\u1f00-\u1fff]*|)/,ROMANESQUE_REGEXP:/[-0-9a-zA-Z\u0590-\u05d4\u05d6-\u05ff\u0080-\u017f\u0400-\u052f\u0370-\u03ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ROMANESQUE_NOT_REGEXP:/[^a-zA-Z\u0590-\u05ff\u00c0-\u017f\u0400-\u052f\u0370-\u03ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/g,STARTSWITH_ROMANESQUE_REGEXP:/^[&a-zA-Z\u0590-\u05d4\u05d6-\u05ff\u00c0-\u017f\u0400-\u052f\u0370-\u03ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ENDSWITH_ROMANESQUE_REGEXP:/[.;:&a-zA-Z\u0590-\u05d4\u05d6-\u05ff\u00c0-\u017f\u0400-\u052f\u0370-\u03ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]$/,ALL_ROMANESQUE_REGEXP:/^[a-zA-Z\u0590-\u05ff\u00c0-\u017f\u0400-\u052f\u0370-\u03ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]+$/,VIETNAMESE_SPECIALS:/[\u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]/,VIETNAMESE_NAMES:/^(?:(?:[.AaBbCcDdEeGgHhIiKkLlMmNnOoPpQqRrSsTtUuVvXxYy \u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]{2,6})(\s+|$))+$/,NOTE_FIELDS_REGEXP:/\{:(?:[\-_a-z]+|[A-Z]+):[^\}]+\}/g,NOTE_FIELD_REGEXP:/^([\-_a-z]+|[A-Z]+):\s*([^\}]+)$/,DISPLAY_CLASSES:["block","left-margin","right-inline","indent"],NAME_VARIABLES:["author","editor","translator","contributor","collection-editor","composer","container-author","director","editorial-director","interviewer","original-author","recipient"],NUMERIC_VARIABLES:["call-number","chapter-number","collection-number","edition","page","issue","locator","number","number-of-pages","number-of-volumes","volume","citation-number"],DATE_VARIABLES:["locator-date","issued","event-date","accessed","container","original-date","publication-date","original-date","available-date","submitted"],TAG_ESCAPE:function(t,e){var n,i,r,s;e||(e=[]);var o={'<span class="nocase">':"</span>",'<span class="nodecor">':"</span>"},a=[];t=t.replace(/(<span)\s+(class=\"no(?:case|decor)\")\s*(>)/g,"$1 $2$3");var u=t.match(/((?: \"| \'|\" |\'[-.,;\?:]|\[|\]|\(|\)|<span class=\"no(?:case|decor)\">|<\/span>|<\/?(?:i|sc|b|sub|sup)>))/g);if(!u)return[t];for(var l=t.split(/(?: \"| \'|\" |\'[-.,;\?:]|\[|\]|\(|\)|<span class=\"no(?:case|decor)\">|<\/span>|<\/?(?:i|sc|b|sub|sup)>)/g),c=0,h=u.length;h>c;c++)if(o[u[c]]){a.push({tag:u[c],pos:c});var f=l[c].match(/^(\s*([^' ]+[']?))(.*)/);f&&e.indexOf(f[2])>-1&&(l[c-1].match(/[:\?\!]\s*$/)||(u[c-1]=u[c-1]+f[1],l[c]=f[3]))}else if(a.length)for(var p=a.length-1;p>-1;p--){var d=a.slice(p)[0];if(u[c]===o[d.tag]){a=a.slice(0,p+1);for(var m=(a[p].pos,a[p].pos+1);c+1>m;m++)u[m]=l[m]+u[m],l[m]="";a.pop();break}}for(s=[l[0]],r=1,i=l.length;i>r;r+=1)s.push(u[r-1]),s.push(l[r]);var n=s.slice();return n},TAG_USEALL:function(t){var e,n,i,r;for(e=[""],n=t.indexOf("<"),i=t.indexOf(">");n>-1&&i>-1;)r=n>i?n+1:i+1,i>n&&-1===t.slice(n+1,i).indexOf("<")?(e[e.length-1]+=t.slice(0,n),e.push(t.slice(n,i+1)),e.push(""),t=t.slice(r)):(e[e.length-1]+=t.slice(0,i+1),t=t.slice(r)),n=t.indexOf("<"),i=t.indexOf(">");return e[e.length-1]+=t,e},SKIP_WORDS:["about","above","across","afore","after","against","along","alongside","amid","amidst","among","amongst","anenst","apropos","apud","around","as","aside","astride","at","athwart","atop","barring","before","behind","below","beneath","beside","besides","between","beyond","but","by","circa","despite","down","during","except","for","forenenst","from","given","in","inside","into","lest","like","modulo","near","next","notwithstanding","of","off","on","onto","out","over","per","plus","pro","qua","sans","since","than","through"," thru","throughout","thruout","till","to","toward","towards","under","underneath","until","unto","up","upon","versus","vs.","v.","vs","v","via","vis--vis","with","within","without","according to","ahead of","apart from","as for","as of","as per","as regards","aside from","back to","because of","close to","due to","except for","far from","inside of","instead of","near to","next to","on to","out from","out of","outside of","prior to","pursuant to","rather than","regardless of","such as","that of","up to","where as","or","yet","so","for","and","nor","a","an","the","de","d'","von","van","c","et","ca"],FORMAT_KEY_SEQUENCE:["@strip-periods","@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align","@quotes"],INSTITUTION_KEYS:["font-style","font-variant","font-weight","text-decoration","text-case"],SUFFIX_CHARS:"a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z",ROMAN_NUMERALS:[["","i","ii","iii","iv","v","vi","vii","viii","ix"],["","x","xx","xxx","xl","l","lx","lxx","lxxx","xc"],["","c","cc","ccc","cd","d","dc","dcc","dccc","cm"],["","m","mm","mmm","mmmm","mmmmm"]],CREATORS:["author","editor","contributor","translator","recipient","interviewer","composer","original-author","container-author","collection-editor"],LANGS:{"af-ZA":"Afrikaans",ar:"Arabic","bg-BG":"Bulgarian","ca-AD":"Catalan","cs-CZ":"Czech","da-DK":"Danish","de-AT":"Austrian","de-CH":"German (CH)","de-DE":"German (DE)","el-GR":"Greek","en-GB":"English (GB)","en-US":"English (US)","es-ES":"Spanish","et-EE":"Estonian",eu:"European","fa-IR":"Persian","fi-FI":"Finnish","fr-CA":"French (CA)","fr-FR":"French (FR)","he-IL":"Hebrew","hr-HR":"Croatian","hu-HU":"Hungarian","is-IS":"Icelandic","it-IT":"Italian","ja-JP":"Japanese","km-KH":"Khmer","ko-KR":"Korean","lt-LT":"Lithuanian","lv-LV":"Latvian","mn-MN":"Mongolian","nb-NO":"Norwegian (Bokml)","nl-NL":"Dutch","nn-NO":"Norwegian (Nynorsk)","pl-PL":"Polish","pt-BR":"Portuguese (BR)","pt-PT":"Portuguese (PT)","ro-RO":"Romanian","ru-RU":"Russian","sk-SK":"Slovak","sl-SI":"Slovenian","sr-RS":"Serbian","sv-SE":"Swedish","th-TH":"Thai","tr-TR":"Turkish","uk-UA":"Ukranian","vi-VN":"Vietnamese","zh-CN":"Chinese (CN)","zh-TW":"Chinese (TW)"},LANG_BASES:{af:"af_ZA",ar:"ar",bg:"bg_BG",ca:"ca_AD",cs:"cs_CZ",da:"da_DK",de:"de_DE",el:"el_GR",en:"en_US",es:"es_ES",et:"et_EE",eu:"eu",fa:"fa_IR",fi:"fi_FI",fr:"fr_FR",he:"he_IL",hr:"hr-HR",hu:"hu_HU",is:"is_IS",it:"it_IT",ja:"ja_JP",km:"km_KH",ko:"ko_KR",lt:"lt_LT",lv:"lv-LV",mn:"mn_MN",nb:"nb_NO",nl:"nl_NL",nn:"nn-NO",pl:"pl_PL",pt:"pt_PT",ro:"ro_RO",ru:"ru_RU",sk:"sk_SK",sl:"sl_SI",sr:"sr_RS",sv:"sv_SE",th:"th_TH",tr:"tr_TR",uk:"uk_UA",vi:"vi_VN",zh:"zh_CN"},SUPERSCRIPTS:{"":"a","":"2","":"3","":"1","":"o","":"h","":"","":"j","":"r","":"","":"","":"","":"w","":"y","":"","":"l","":"s","":"x","":"","":"A","":"","":"B","":"D","":"E","":"","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"","":"P","":"R","":"T","":"U","":"W","":"a","":"","":"","":"","":"b","":"d","":"e","":"","":"","":"","":"g","":"k","":"m","":"","":"o","":"","":"","":"","":"p","":"t","":"u","":"","":"","":"v","":"","":"","":"","":"","":"","":"","":"0","":"i","":"4","":"5","":"6","":"7","":"8","":"9","":"+","":"","":"=","":"(","":")","":"n","":"SM","":"TM","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},SUPERSCRIPTS_REGEXP:new RegExp("[]","g"),UPDATE_GROUP_CONTEXT_CONDITION:function(t,e,n){if(t.tmp.group_context.tip.condition){if(t.tmp.group_context.tip.condition.test){var i;if("empty-label"===t.tmp.group_context.tip.condition.test)i=!e;else if("comma-safe"===t.tmp.group_context.tip.condition.test){var r=!e,s=e.slice(0,1).match(CSL.ALL_ROMANESQUE_REGEXP),o=t.tmp.just_did_number;i=r?!0:o?s&&!n?!0:!1:s&&!n?!0:!1}i?t.tmp.group_context.tip.force_suppress=!1:t.tmp.group_context.tip.force_suppress=!0,t.tmp.group_context.tip.condition.not&&(t.tmp.group_context.tip.force_suppress=!t.tmp.group_context.tip.force_suppress)}}else e.slice(-1).match(/[0-9]/)?t.tmp.just_did_number=!0:t.tmp.just_did_number=!1},locale:{},locale_opts:{},locale_dates:{}};if("undefined"!=typeof require&&"undefined"!=typeof module&&"exports"in module){var CSL_IS_NODEJS=!0;exports.CSL=CSL}if(CSL.TERMINAL_PUNCTUATION_REGEXP=new RegExp("^(["+CSL.TERMINAL_PUNCTUATION.slice(0,-1).join("")+"])(.*)"),CSL.CLOSURES=new RegExp(".*[\\]\\)]"),"undefined"==typeof console?(CSL.debug=function(t){dump("CSL: "+t+"\n")},CSL.error=function(t){dump("CSL error: "+t+"\n")}):(CSL.debug=function(t){console.log("CSL: "+t)},CSL.error=function(t){console.log("CSL error: "+t)}),CSL.XmlJSON=function(t){this.dataObj=t,this.institution={name:"institution",attrs:{"institution-parts":"long",delimiter:", ","substitute-use-first":"1","use-last":"1"},children:[{name:"institution-part",attrs:{name:"long"},children:[]}]}},CSL.XmlJSON.prototype.clean=function(t){return t},CSL.XmlJSON.prototype.getStyleId=function(t,e){var n="id";e&&(n="title");for(var i="",r=t.children,s=0,o=r.length;o>s;s++)if("info"===r[s].name)for(var a=r[s].children,u=0,l=a.length;l>u;u++)a[u].name===n&&(i=a[u].children[0]);return i},CSL.XmlJSON.prototype.children=function(t){return t&&t.children.length?t.children.slice():!1},CSL.XmlJSON.prototype.nodename=function(t){return t.name},CSL.XmlJSON.prototype.attributes=function(t){var e={};for(var n in t.attrs)e["@"+n]=t.attrs[n];return e},CSL.XmlJSON.prototype.content=function(t){var e="";if(!t||!t.children)return e;for(var n=0,i=t.children.length;i>n;n+=1)"string"==typeof t.children[n]&&(e+=t.children[n]);return e},CSL.XmlJSON.prototype.namespace={},CSL.XmlJSON.prototype.numberofnodes=function(t){return t&&"number"==typeof t.length?t.length:0},CSL.XmlJSON.prototype.getAttributeValue=function(t,e,n){var i="";return n&&(e=n+":"+e),t&&t.attrs&&(i=t.attrs[e]?t.attrs[e]:""),i},CSL.XmlJSON.prototype.getNodeValue=function(t,e){var n="";if(e)for(var i=0,r=t.children.length;r>i;i+=1)t.children[i].name===e&&(n=t.children[i].children.length?t.children[i]:"");else t&&(n=t);return n&&n.children&&1==n.children.length&&"string"==typeof n.children[0]&&(n=n.children[0]),n},CSL.XmlJSON.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(t,e,n,i,r){"@"===i.slice(0,1)&&(i=i.slice(1));for(var s=0,o=t.children.length;o>s;s+=1)t.children[s].name===e&&t.children[s].attrs.name===n&&(t.children[s].attrs[i]=r)},CSL.XmlJSON.prototype.deleteNodeByNameAttribute=function(t,e){var n,i;for(n=0,i=t.children.length;i>n;n+=1)t.children[n]&&"string"!=typeof t.children[n]&&t.children[n].attrs.name==e&&(t.children=t.children.slice(0,n).concat(t.children.slice(n+1)))},CSL.XmlJSON.prototype.deleteAttribute=function(t,e){"undefined"!=typeof t.attrs[e]&&t.attrs.pop(e)},CSL.XmlJSON.prototype.setAttribute=function(t,e,n){return t.attrs[e]=n,!1},CSL.XmlJSON.prototype.nodeCopy=function(t,e){if(!e)var e={};if("object"==typeof e&&"undefined"==typeof e.length)for(var n in t)"string"==typeof t[n]?e[n]=t[n]:"object"==typeof t[n]&&("undefined"==typeof t[n].length?e[n]=this.nodeCopy(t[n],{}):e[n]=this.nodeCopy(t[n],[]));else for(var i=0,r=t.length;r>i;i+=1)"string"==typeof t[i]?e[i]=t[i]:e[i]=this.nodeCopy(t[i],{});return e},CSL.XmlJSON.prototype.getNodesByName=function(t,e,n,i){if(!i)var i=[];if(!t||!t.children)return i;e===t.name&&(n?n===t.attrs.name&&i.push(t):i.push(t));for(var r=0,s=t.children.length;s>r;r+=1)"object"==typeof t.children[r]&&this.getNodesByName(t.children[r],e,n,i);return i},CSL.XmlJSON.prototype.nodeNameIs=function(t,e){return e==t.name?!0:!1},CSL.XmlJSON.prototype.makeXml=function(t){return"string"==typeof t&&(t="<"===t.slice(0,1)?this.jsonStringWalker.walkToObject(t):JSON.parse(t)),t},CSL.XmlJSON.prototype.insertChildNodeAfter=function(t,e,n,i){for(var r=0,s=t.children.length;s>r;r+=1)if(e===t.children[r]){t.children=t.children.slice(0,r).concat([i]).concat(t.children.slice(r+1));break}return t},CSL.XmlJSON.prototype.insertPublisherAndPlace=function(t){if("group"===t.name){for(var e=!0,n=["publisher","publisher-place"],i=0,r=t.children.length;r>i;i+=1){var s=n.indexOf(t.children[i].attrs.variable),o="text"===t.children[i].name;if(!(o&&s>-1)||t.children[i].attrs.prefix||t.children[i].attrs.suffix){e=!1;break}n=n.slice(0,s).concat(n.slice(s+1))}e&&!n.length&&(t.attrs["has-publisher-and-publisher-place"]=!0)}for(var i=0,r=t.children.length;r>i;i+=1)"object"==typeof t.children[i]&&this.insertPublisherAndPlace(t.children[i])},CSL.XmlJSON.prototype.isChildOfSubstitute=function(t){if(t.length>0){var e=t.slice(),n=e.pop();return"substitute"===n?!0:this.isChildOfSubstitute(e)}return!1},CSL.XmlJSON.prototype.addMissingNameNodes=function(t,e){if(e||(e=[]),"names"===t.name&&!this.isChildOfSubstitute(e)){for(var n=!0,i=0,r=t.children.length;r>i;i++)if("name"===t.children[i].name){n=!1;break}n&&(t.children=[{name:"name",attrs:{},children:[]}].concat(t.children))}e.push(t.name);for(var i=0,r=t.children.length;r>i;i+=1)"object"==typeof t.children[i]&&this.addMissingNameNodes(t.children[i],e);e.pop()},CSL.XmlJSON.prototype.addInstitutionNodes=function(t){var e;if("names"===t.name){for(var n={},i=-1,r=0,s=t.children.length;s>r;r+=1){if("name"==t.children[r].name){for(var o in t.children[r].attrs)n[o]=t.children[r].attrs[o];n.delimiter=t.children[r].attrs.delimiter,n.and=t.children[r].attrs.and,i=r;for(var a=0,u=t.children[r].children.length;u>a;a+=1)if("family"===t.children[r].children[a].attrs.name)for(var o in t.children[r].children[a].attrs)n[o]=t.children[r].children[a].attrs[o]}if("institution"==t.children[r].name){i=-1;break}}if(i>-1){for(var e=this.nodeCopy(this.institution),r=0,s=CSL.INSTITUTION_KEYS.length;s>r;r+=1){var l=CSL.INSTITUTION_KEYS[r];"undefined"!=typeof n[l]&&(e.children[0].attrs[l]=n[l]),n.delimiter&&(e.attrs.delimiter=n.delimiter),n.and&&(e.attrs.and="text")}t.children=t.children.slice(0,i+1).concat([e]).concat(t.children.slice(i+1))}}for(var r=0,s=t.children.length;s>r;r+=1)"string"!=typeof t.children[r]&&this.addInstitutionNodes(t.children[r])},CSL.XmlJSON.prototype.flagDateMacros=function(t){for(var e=0,n=t.children.length;n>e;e+=1)"macro"===t.children[e].name&&this.inspectDateMacros(t.children[e])&&(t.children[e].attrs["macro-has-date"]="true")},CSL.XmlJSON.prototype.inspectDateMacros=function(t){if(!t||!t.children)return!1;if("date"===t.name)return!0;for(var e=0,n=t.children.length;n>e;e+=1)if(this.inspectDateMacros(t.children[e]))return!0;return!1},CSL.stripXmlProcessingInstruction=function(t){return t?(t=t.replace(/^<\?[^?]+\?>/,""),t=t.replace(/<!--[^>]+-->/g,""),t=t.replace(/^\s+/g,""),t=t.replace(/\s+$/g,"")):t},CSL.parseXml=function(t){function e(t){t=t.split(/(?:\r\n|\n|\r)/).join(" ").replace(/>[	 ]+</g,"><").replace(/<\!--.*?-->/g,"");for(var e=t.split("><"),n=null,i=0,r=e.length;r>i;i++)i>0&&(e[i]="<"+e[i]),i<e.length-1&&(e[i]=e[i]+">"),"number"!=typeof n&&("<style "===e[i].slice(0,7)||"<locale "==e[i].slice(0,8))&&(n=i);e=e.slice(n);for(var i=e.length-2;i>-1;i--)if(-1===e[i].slice(1).indexOf("<")){var s=e[i].slice(0,5);"<term"===s?"</term"===e[i+1].slice(0,6)&&(e[i]=e[i]+e[i+1],e=e.slice(0,i+1).concat(e.slice(i+2))):["<sing","<mult"].indexOf(s)>-1&&"/>"!==e[i].slice(-2)&&"<"===e[i+1].slice(0,1)&&(e[i]=e[i]+e[i+1],e=e.slice(0,i+1).concat(e.slice(i+2)))}return e}function n(t){return t.split("&amp;").join("&").split("&quot;").join('"').split("&gt;").join(">").split("&lt;").join("<").replace(/&#([0-9]{1,6});/gi,function(t,e){var n=parseInt(e,10);return String.fromCharCode(n)}).replace(/&#x([a-f0-9]{1,6});/gi,function(t,e){var n=parseInt(e,16);return String.fromCharCode(n)})}function i(t){var e=t.match(/([^\'\"=	 ]+)=(?:\"[^\"]*\"|\'[^\']*\')/g);if(e)for(var n=0,i=e.length;i>n;n++)e[n]=e[n].replace(/=.*/,"");return e}function r(t,e){var n=RegExp("^.*[	 ]+"+e+"=(\"(?:[^\"]*)\"|'(?:[^']*)').*$"),i=t.match(n);return i?i[1].slice(1,-1):null}function s(t){var e=RegExp("^<([^	 />]+)"),n=t.match(e);return n?n[1]:null}function o(t){var e={};e.name=s(t),e.attrs={};var o=i(t);if(o)for(var a=0,u=o.length;u>a;a++){var l={name:o[a],value:r(t,o[a])};e.attrs[l.name]=n(l.value)}return e.children=[],e}function a(t){var e=t.match(/^.*>([^<]*)<.*$/);return n(e[1])}function u(t){f.slice(-1)[0].push(t)}function l(t){f.push(t.children)}function c(t){var e;if(t.slice(1).indexOf("<")>-1){var n=t.slice(0,t.indexOf(">")+1);e=o(n),e.children=[a(t)],u(e)}else"/>"===t.slice(-2)?(e=o(t),"term"===s(t)&&e.children.push(""),u(e)):"</"===t.slice(0,2)?f.pop():(e=o(t),u(e),l(e))}for(var h={children:[]},f=[h.children],p=e(t),d=0,m=p.length;m>d;d++){var g=p[d];c(g)}return h.children[0]},CSL.XmlDOM=function(t){this.dataObj=t,"undefined"==typeof DOMParser?(DOMParser=function(){},DOMParser.prototype.parseFromString=function(t,e){if("undefined"!=typeof ActiveXObject){var n=new ActiveXObject("MSXML.DomDocument");return n.async=!1,n.loadXML(t),n}if("undefined"!=typeof XMLHttpRequest){var n=new XMLHttpRequest;return e||(e="text/xml"),n.open("GET","data:"+e+";charset=utf-8,"+encodeURIComponent(t),!1),n.overrideMimeType&&n.overrideMimeType(e),n.send(null),n.responseXML}if("undefined"!=typeof marknote){var i=new marknote.Parser;return i.parse(t)}},this.hasAttributes=function(t){var e;return e=t.attributes&&t.attributes.length?!0:!1}):this.hasAttributes=function(t){var e;return e=t.attributes&&t.attributes.length?!0:!1},this.importNode=function(t,e){if("undefined"==typeof t.importNode)var n=this._importNode(t,e,!0);else var n=t.importNode(e,!0);return n},this._importNode=function(t,e,n){switch(e.nodeType){case 1:var i=t.createElement(e.nodeName);if(e.attributes&&e.attributes.length>0)for(var r=0,s=e.attributes.length;s>r;)i.setAttribute(e.attributes[r].nodeName,e.getAttribute(e.attributes[r++].nodeName));if(n&&e.childNodes&&e.childNodes.length>0)for(var r=0,s=e.childNodes.length;s>r;)i.appendChild(this._importNode(t,e.childNodes[r++],n));return i;case 3:case 4:case 8:}},this.parser=new DOMParser;var e='<docco><institution institution-parts="long" delimiter=", " substitute-use-first="1" use-last="1"><institution-part name="long"/></institution></docco>',n=this.parser.parseFromString(e,"text/xml"),i=n.getElementsByTagName("institution");this.institution=i.item(0);var r=n.getElementsByTagName("institution-part");this.institutionpart=r.item(0),this.ns="http://purl.org/net/xbiblio/csl"},CSL.XmlDOM.prototype.clean=function(t){return t=t.replace(/<\?[^?]+\?>/g,""),t=t.replace(/<![^>]+>/g,""),t=t.replace(/^\s+/,""),t=t.replace(/\s+$/,""),t=t.replace(/^\n*/,"")},CSL.XmlDOM.prototype.getStyleId=function(t,e){var n="",i="id";e&&(i="title");var r=t.getElementsByTagName(i);return r&&r.length&&(r=r.item(0)),r&&(n=r.textContent),n||(n=r.innerText),n||(n=r.innerHTML),n},CSL.XmlDOM.prototype.children=function(t){var e,n,i,r;if(t){for(r=[],e=t.childNodes,n=0,i=e.length;i>n;n+=1)"#text"!=e[n].nodeName&&r.push(e[n]);return r}return[]},CSL.XmlDOM.prototype.nodename=function(t){var e=t.nodeName;return e},CSL.XmlDOM.prototype.attributes=function(t){var e,n,i,r,s;if(e=new Object,t&&this.hasAttributes(t))for(n=t.attributes,r=0,s=n.length;s>r;r+=1)i=n[r],e["@"+i.name]=i.value;return e},CSL.XmlDOM.prototype.content=function(t){var e;return e="undefined"!=typeof t.textContent?t.textContent:"undefined"!=typeof t.innerText?t.innerText:t.txt},CSL.XmlDOM.prototype.namespace={xml:"http://www.w3.org/XML/1998/namespace"},CSL.XmlDOM.prototype.numberofnodes=function(t){return t?t.length:0},CSL.XmlDOM.prototype.getAttributeName=function(t){var e=t.name;return e},CSL.XmlDOM.prototype.getAttributeValue=function(t,e,n){var i="";return n&&(e=n+":"+e),t&&this.hasAttributes(t)&&t.getAttribute(e)&&(i=t.getAttribute(e)),i},CSL.XmlDOM.prototype.getNodeValue=function(t,e){var n=null;if(e){var i=t.getElementsByTagName(e);i.length>0&&(n="undefined"!=typeof i[0].textContent?i[0].textContent:"undefined"!=typeof i[0].innerText?i[0].innerText:i[0].text)}return null===n&&t&&t.childNodes&&(0==t.childNodes.length||1==t.childNodes.length&&"#text"==t.firstChild.nodeName)&&(n="undefined"!=typeof t.textContent?t.textContent:"undefined"!=typeof t.innerText?t.innerText:t.text),null===n&&(n=t),n},CSL.XmlDOM.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(t,e,n,i,r){var s,o,a,u;for("@"===i.slice(0,1)&&(i=i.slice(1)),a=t.getElementsByTagName(e),s=0,o=a.length;o>s;s+=1)u=a[s],u.getAttribute("name")==n&&u.setAttribute(i,r)},CSL.XmlDOM.prototype.deleteNodeByNameAttribute=function(t,e){var n,i,r,s;for(s=t.childNodes,n=0,i=s.length;i>n;n+=1)r=s[n],r&&r.nodeType!=r.TEXT_NODE&&this.hasAttributes(r)&&r.getAttribute("name")==e&&t.removeChild(s[n])},CSL.XmlDOM.prototype.deleteAttribute=function(t,e){t.removeAttribute(e)},CSL.XmlDOM.prototype.setAttribute=function(t,e,n){return t.ownerDocument||(t=t.firstChild),["function","unknown"].indexOf(typeof t.setAttribute)>-1&&t.setAttribute(e,n),!1},CSL.XmlDOM.prototype.nodeCopy=function(t){var e=t.cloneNode(!0);return e},CSL.XmlDOM.prototype.getNodesByName=function(t,e,n){var i,r,s,o,a;for(i=[],r=t.getElementsByTagName(e),o=0,a=r.length;a>o;o+=1)s=r.item(o),(!n||this.hasAttributes(s)&&s.getAttribute("name")==n)&&i.push(s);return i},CSL.XmlDOM.prototype.nodeNameIs=function(t,e){return e==t.nodeName?!0:!1},CSL.XmlDOM.prototype.makeXml=function(t){t||(t="<docco><bogus/></docco>"),t=t.replace(/\s*<\?[^>]*\?>\s*\n*/g,"");var e=this.parser.parseFromString(t,"application/xml");return e.firstChild},CSL.XmlDOM.prototype.insertChildNodeAfter=function(t,e,n,i){var r;return r=this.importNode(e.ownerDocument,i),t.replaceChild(r,e),t},CSL.XmlDOM.prototype.insertPublisherAndPlace=function(t){for(var e=t.getElementsByTagName("group"),n=0,i=e.length;i>n;n+=1){for(var r=e.item(n),s=[],o=0,a=r.childNodes.length;a>o;o+=1)1!==r.childNodes.item(o).nodeType&&s.push(o);if(r.childNodes.length-s.length===2){for(var u=[],o=0,a=2;a>o;o+=1)if(!(s.indexOf(o)>-1)){for(var l=r.childNodes.item(o),c=[],h=0,f=l.childNodes.length;f>h;h+=1)1!==l.childNodes.item(h).nodeType&&c.push(h);if(l.childNodes.length-c.length===0&&(u.push(l.getAttribute("variable")),l.getAttribute("suffix")||l.getAttribute("prefix"))){u=[];break}}u.indexOf("publisher")>-1&&u.indexOf("publisher-place")>-1&&r.setAttribute("has-publisher-and-publisher-place",!0)}}},CSL.XmlDOM.prototype.isChildOfSubstitute=function(t){return t.parentNode?"substitute"===t.parentNode.tagName.toLowerCase()?!0:this.isChildOfSubstitute(t.parentNode):!1},CSL.XmlDOM.prototype.addMissingNameNodes=function(t){for(var e=t.getElementsByTagName("names"),n=0,i=e.length;i>n;n+=1){var r=e.item(n),s=r.getElementsByTagName("name");if(!(s&&0!==s.length||this.isChildOfSubstitute(r))){var o=r.ownerDocument,a=o.createElement("name");r.appendChild(a)}}},CSL.XmlDOM.prototype.addInstitutionNodes=function(t){var e,n,i,r,s,o,a,u;for(e=t.getElementsByTagName("names"),a=0,u=e.length;u>a;a+=1)if(n=e.item(a),s=n.getElementsByTagName("name"),0!=s.length&&(i=n.getElementsByTagName("institution"),0==i.length)){r=this.importNode(t.ownerDocument,this.institution),theinstitutionpart=r.getElementsByTagName("institution-part").item(0),o=s.item(0),n.insertBefore(r,o.nextSibling);for(var l=0,c=CSL.INSTITUTION_KEYS.length;c>l;l+=1){var h=CSL.INSTITUTION_KEYS[l],f=o.getAttribute(h);f&&theinstitutionpart.setAttribute(h,f)}for(var p=o.getElementsByTagName("name-part"),l=0,c=p.length;c>l;l+=1)if("family"===p[l].getAttribute("name"))for(var d=0,m=CSL.INSTITUTION_KEYS.length;m>d;d+=1){var h=CSL.INSTITUTION_KEYS[d],f=p[l].getAttribute(h);f&&theinstitutionpart.setAttribute(h,f)}}},CSL.XmlDOM.prototype.flagDateMacros=function(t){var e,n,i,r;for(nodes=t.getElementsByTagName("macro"),e=0,n=nodes.length;n>e;e+=1)i=nodes.item(e),r=i.getElementsByTagName("date"),r.length&&i.setAttribute("macro-has-date","true")},"undefined"!=typeof XML)try{}catch(e){throw"OOPS: "+e}CSL.setupXml=function(t){var e={},n=null;if("undefined"!=typeof t?"string"==typeof t?(t=t.replace("^\ufeff","").replace(/^\s+/,""),e="<"===t.slice(0,1)?CSL.parseXml(t):JSON.parse(t),n=new CSL.XmlJSON(e)):n="undefined"!=typeof t.getAttribute?new CSL.XmlDOM(t):"undefined"!=typeof t.toXMLString?new CSL.XmlE4X(t):new CSL.XmlJSON(t):print("OUCH!"),!n)throw"citeproc-js error: unable to parse style or locale object";return n},CSL.getSortCompare=function(t){if(CSL.stringCompare)return CSL.stringCompare;var e,n={sensitivity:"base",ignorePunctuation:!0,numeric:!0};t||(t="en-US"),e=function(e,i){return e.toLocaleLowerCase().localeCompare(i.toLocaleLowerCase(),t,n)};var i=function(t){return t.replace(/^[\[\]\'\"]*/g,"")},r=function(){return e("[x","x")?function(t,n){
return e(i(t),i(n))}:!1},s=r(),o=function(t,n){return s?s(t,n):e(t,n)};return o},CSL.ambigConfigDiff=function(t,e){var n,i,r,s;if(t.names.length!==e.names.length)return 1;for(n=0,i=t.names.length;i>n;n+=1){if(t.names[n]!==e.names[n])return 1;for(r=0,s=t.givens[n];s>r;r+=1)if(t.givens[n][r]!==e.givens[n][r])return 1}return t.disambiguate!=e.disambiguate?1:t.year_suffix!==e.year_suffix?1:0},CSL.cloneAmbigConfig=function(t,e,n){var i,r,s,o,a,u={};for(u.names=[],u.givens=[],u.year_suffix=!1,u.disambiguate=!1,i=0,r=t.names.length;r>i;i+=1)a=t.names[i],u.names[i]=a;for(i=0,r=t.givens.length;r>i;i+=1){for(a=[],s=0,o=t.givens[i].length;o>s;s+=1)a.push(t.givens[i][s]);u.givens.push(a)}return e?(u.year_suffix=e.year_suffix,u.disambiguate=e.disambiguate):(u.year_suffix=t.year_suffix,u.disambiguate=t.disambiguate),u},CSL.getAmbigConfig=function(){var t,e;return t=this.tmp.disambig_request,t||(t=this.tmp.disambig_settings),e=CSL.cloneAmbigConfig(t)},CSL.getMaxVals=function(){return this.tmp.names_max.mystack.slice()},CSL.getMinVal=function(){return this.tmp["et-al-min"]},CSL.tokenExec=function(t,e,n){var i,r,s,o;o=!1,i=t.next,r=!1;var a=function(e){return e?(this.tmp.jump.replace("succeed"),t.succeed):(this.tmp.jump.replace("fail"),t.fail)};t.test&&(i=a.call(this,t.test(e,n)));for(var u=0,l=t.execs.length;l>u;u++)s=t.execs[u],r=s.call(t,this,e,n),r&&(i=r);return i},CSL.expandMacro=function(t,e){var n,i,r,s;n=t.postponed_macro,t=new CSL.Token("group",CSL.START);var o=!1,a=!1;if(i=this.cslXml.getNodesByName(this.cslXml.dataObj,"macro",n),i.length&&(a=this.cslXml.getAttributeValue(i[0],"cslid"),o=this.cslXml.getAttributeValue(i[0],"macro-has-date")),o&&(n=n+"@"+this.build.current_default_locale,s=function(t,e){t.tmp.extension&&(t.tmp["doing-macro-with-date"]=!0)},t.execs.push(s)),this.build.macro_stack.indexOf(n)>-1)throw'CSL processor error: call to macro "'+n+'" would cause an infinite loop';if(this.build.macro_stack.push(n),t.cslid=a,CSL.MODULE_MACROS[n]&&(t.juris=n,this.opt.update_mode=CSL.POSITION),CSL.Node.group.build.call(t,this,e,!0),!this.cslXml.getNodeValue(i))throw'CSL style error: undefined macro "'+n+'"';var u=CSL.getMacroTarget.call(this,n);if(u&&(CSL.buildMacro.call(this,u,i),CSL.configureMacro.call(this,u)),!this.build.extension){var s=function(t){return function(e,n,i){for(var r=0;r<e.macros[t].length;)r=CSL.tokenExec.call(e,e.macros[t][r],n,i)}}(n),l=new CSL.Token("text",CSL.SINGLETON);l.execs.push(s),e.push(l)}r=new CSL.Token("group",CSL.END),o&&(s=function(t,e){t.tmp.extension&&(t.tmp["doing-macro-with-date"]=!1)},r.execs.push(s)),t.juris&&(r.juris=n),CSL.Node.group.build.call(r,this,e,!0),this.build.macro_stack.pop()},CSL.getMacroTarget=function(t){var e=!1;return this.build.extension?e=this[this.build.root+this.build.extension].tokens:this.macros[t]||(e=[],this.macros[t]=e),e},CSL.buildMacro=function(t,e){var n,i=CSL.makeBuilder(this,t);n="undefined"==typeof e.length?e:e[0],i(n)},CSL.configureMacro=function(t){this.build.extension||this.configureTokenList(t)},CSL.XmlToToken=function(t,e,n){var i,r,s,o,a,u,l,c;if(i=t.cslXml.nodename(this),!t.build.skip||t.build.skip===i){if(!i)return r=t.cslXml.content(this),void(r&&(t.build.text=r));if(!CSL.Node[t.cslXml.nodename(this)])throw'Undefined node name "'+i+'".';if(s=[],o=t.cslXml.attributes(this),a=CSL.setDecorations.call(this,t,o),u=new CSL.Token(i,e),e!==CSL.END||"if"===i||"else-if"===i||"layout"===i){for(l in o)if(o.hasOwnProperty(l)){if(e===CSL.END&&"@language"!==l&&"@locale"!==l)continue;if(o.hasOwnProperty(l))if(CSL.Attributes[l])try{CSL.Attributes[l].call(u,t,""+o[l])}catch(h){throw CSL.error(h),"CSL processor error, "+l+" attribute: "+h}else CSL.debug('warning: undefined attribute "'+l+'" in style')}u.decorations=a}else e===CSL.END&&o["@variable"]&&(u.hasVariable=!0,CSL.DATE_VARIABLES.indexOf(o["@variable"])>-1&&(u.variables=o["@variable"].split(/\s+/)));c=n?n:t[t.build.area].tokens,CSL.Node[i].build.call(u,t,c,!0)}},CSL.DateParser=new function(){for(var t=[["",1867],["",1911],["",1925],["",1988]],e={},n=0,i=t.length;i>n;n++){var r=t[n][0],s=t[n][1];e[r]=s}for(var o=[],n=0,i=t.length;i>n;n++){var s=t[n][0];o.push(s)}var a=o.join("|"),u=new RegExp("(?:"+a+")(?:[0-9]+)"),l=new RegExp("(?:"+a+")(?:[0-9]+)","g"),c=/(\u6708|\u5E74)/g,h=/\u65E5/g,f=/\u301c/g,p="(?:[?0-9]{1,2}%%NUMD%%){0,2}[?0-9]{4}(?![0-9])",d="[?0-9]{4}(?:%%NUMD%%[?0-9]{1,2}){0,2}(?![0-9])",m="[?0-9]{1,3}",g="[%%DATED%%]",v="[?~]",b="[^-/~?0-9]+",y="("+d+"|"+p+"|"+m+"|"+g+"|"+v+"|"+b+")",_=new RegExp(y.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"-")),S=new RegExp(y.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"/")),x=new RegExp(y.replace(/%%NUMD%%/g,"/").replace(/%%DATED%%/g,"-")),C="january february march april may june july august september october november december spring summer fall winter spring summer";this.monthStrings=C.split(" "),this.setOrderDayMonth=function(){this.monthGuess=1,this.dayGuess=0},this.setOrderMonthDay=function(){this.monthGuess=0,this.dayGuess=1},this.resetDateParserMonths=function(){this.monthSets=[];for(var t=0,e=this.monthStrings.length;e>t;t++)this.monthSets.push([this.monthStrings[t]]);this.monthAbbrevs=[];for(var t=0,e=this.monthSets.length;e>t;t++){this.monthAbbrevs.push([]);for(var n=0,i=this.monthSets[t].length;i>n;n++)this.monthAbbrevs[t].push(this.monthSets[t][0].slice(0,3))}this.monthRexes=[];for(var t=0,e=this.monthAbbrevs.length;e>t;t++)this.monthRexes.push(new RegExp("(?:"+this.monthAbbrevs[t].join("|")+")"))},this.addDateParserMonths=function(t){if("string"==typeof t&&(t=t.split(/\s+/)),12!==t.length&&16!==t.length)return void CSL.debug("month [+season] list of "+t.length+", expected 12 or 16. Ignoring.");for(var e=0,n=t.length;n>e;e++){for(var i=null,r=!1,s=3,o={},a=0,u=this.monthAbbrevs.length;u>a;a++){if(o[a]={},a===e){for(var l=0,c=this.monthAbbrevs[e].length;c>l;l++)if(this.monthAbbrevs[e][l]===t[e].slice(0,this.monthAbbrevs[e][l].length)){r=!0;break}}else for(var l=0,c=this.monthAbbrevs[a].length;c>l;l++)if(i=this.monthAbbrevs[a][l].length,this.monthAbbrevs[a][l]===t[e].slice(0,i)){for(;this.monthSets[a][l].slice(0,i)===t[e].slice(0,i);){if(i>t[e].length||i>this.monthSets[a][l].length){CSL.debug("unable to disambiguate month string in date parser: "+t[e]);break}i+=1}s=i,o[a][l]=i}for(var h in o)for(kKey in o[h])i=o[h][kKey],h=parseInt(h,10),kKey=parseInt(kKey,10),this.monthAbbrevs[h][kKey]=this.monthSets[h][kKey].slice(0,i)}r||(this.monthSets[e].push(t[e]),this.monthAbbrevs[e].push(t[e].slice(0,s)))}this.monthRexes=[],this.monthRexStrs=[];for(var e=0,n=this.monthAbbrevs.length;n>e;e++)this.monthRexes.push(new RegExp("^(?:"+this.monthAbbrevs[e].join("|")+")")),this.monthRexStrs.push("^(?:"+this.monthAbbrevs[e].join("|")+")");if(18===this.monthAbbrevs.length)for(var e=12,n=14;n>e;e++)this.monthRexes[e+4]=new RegExp("^(?:"+this.monthAbbrevs[e].join("|")+")"),this.monthRexStrs[e+4]="^(?:"+this.monthAbbrevs[e].join("|")+")"},this.convertDateObjectToArray=function(t){t["date-parts"]=[],t["date-parts"].push([]);for(var e=0,n=0,i=3;i>n;n++){var r=["year","month","day"][n];if(!t[r])break;e+=1,t["date-parts"][0].push(t[r]),delete t[r]}t["date-parts"].push([]);for(var n=0,i=e;i>n&&(r=["year_end","month_end","day_end"][n],t[r]);n++)t["date-parts"][1].push(t[r]),delete t[r];return t["date-parts"][0].length!==t["date-parts"][1].length&&t["date-parts"].pop(),t},this.convertDateObjectToString=function(t){for(var e=[],n=0,i=3;i>n&&t[DATE_PARTS_ALL[n]];n+=1)e.push(t[DATE_PARTS_ALL[n]]);return e.join("-")},this._parseNumericDate=function(t,e,n,i){n||(n="");for(var r=i.split(e),s=0,o=r.length;o>s;s++)if(4===r[s].length){t["year"+n]=r[s].replace(/^0*/,""),r=s?r.slice(0,s):r.slice(1);break}for(var s=0,o=r.length;o>s;s++)r[s]=parseInt(r[s],10);1===r.length||2===r.length&&!r[1]?t["month"+n]=""+r[0]:2===r.length&&(r[this.monthGuess]>12?(t["month"+n]=""+r[this.dayGuess],t["day"+n]=""+r[this.monthGuess]):(t["month"+n]=""+r[this.monthGuess],t["day"+n]=""+r[this.dayGuess]))},this.parseDateToObject=function(t){var e,n=t,i=-1,r=-1;if(t){t=""+t,t=t.replace(/\s*[0-9]{2}:[0-9]{2}(?::[0-9]+)/,"");var s=t.match(c);if(s){t=t.replace(/\s+/g,""),t=t.replace(h,""),t=t.replace(c,"-"),t=t.replace(f,"/"),t=t.replace(/\-\//g,"/"),t=t.replace(/-$/g,"");var o=t.split(u);e=[];var a=t.match(l);if(a){for(var p=[],d=0,m=a.length;m>d;d++)p=p.concat(a[d].match(/([^0-9]+)([0-9]+)/).slice(1));for(var d=0,m=o.length;m>d;d++)if(e.push(o[d]),d!==len-1){var g=2*pos;e.push(p[g]),e.push(p[g+1])}}else e=o;for(var d=1,m=e.length;m>d;d+=3)e[d+1]=jiy[e[d]]+parseInt(e[d+1],10),e[d]="";t=e.join(""),t=t.replace(/\s*-\s*$/,"").replace(/\s*-\s*\//,"/"),t=t.replace(/\.\s*$/,""),t=t.replace(/\.(?! )/,""),i=t.indexOf("/"),r=t.indexOf("-")}}t=t.replace(/([A-Za-z])\./g,"$1");var v,b,y="",C="",$={};if('"'===t.slice(0,1)&&'"'===t.slice(-1))return $.literal=t.slice(1,-1),$;if(i>-1&&r>-1){var w=t.split("/");w.length>3?(v="-",t=t.replace(/\_/g,"-"),b="/",e=t.split(x)):(v="/",t=t.replace(/\_/g,"/"),b="-",e=t.split(S))}else t=t.replace(/\//g,"-"),t=t.replace(/\_/g,"-"),v="-",b="-",e=t.split(_);for(var L=[],d=0,m=e.length;m>d;d++){var s=e[d].match(/^\s*([\-\/]|[^\-\/\~\?0-9]+|[\-~?0-9]+)\s*$/);s&&L.push(s[1])}var T=L.indexOf(v),k=[],A=!1;T>-1?(k.push([0,T]),k.push([T+1,L.length]),A=!0):k.push([0,L.length]);for(var E="",d=0,m=k.length;m>d;d++){delim=k[d],date=L.slice(delim[0],delim[1]);t:for(var O=0,I=date.length;I>O;O++){var N=date[O];if(N.indexOf(b)>-1)this._parseNumericDate($,b,E,N);else if(N.match(/[0-9]{4}/))$["year"+E]=N.replace(/^0*/,"");else{for(var D=0,R=this.monthRexes.length;R>D;D++)if(N.toLocaleLowerCase().match(this.monthRexes[D])){$["month"+E]=""+(parseInt(D,10)+1);continue t}N.match(/^[0-9]+$/)&&(y=N),N.toLocaleLowerCase().match(/^bc/)&&y?($["year"+E]=""+-1*y,y=""):N.toLocaleLowerCase().match(/^ad/)&&y?($["year"+E]=""+y,y=""):"~"===N||"?"===N||"c"===N||N.match(/^cir/)?$.circa="1":!N.toLocaleLowerCase().match(/(?:mic|tri|hil|eas)/)||$["season"+E]||(C=N)}}y&&($["day"+E]=y,y=""),C&&!$["season"+E]&&($["season"+E]=C,C=""),E="_end"}if(A)for(var O=0,I=CSL.DATE_PARTS_ALL.length;I>O;O++){var j=CSL.DATE_PARTS_ALL[O];$[j]&&!$[j+"_end"]?$[j+"_end"]=$[j]:!$[j]&&$[j+"_end"]&&($[j]=$[j+"_end"])}(!$.year||$.year&&$.day&&!$.month)&&($={literal:n});for(var M=["year","month","day","year_end","month_end","day_end"],d=0,m=M.length;m>d;d++){var P=M[d];"string"==typeof $[P]&&$[P].match(/^[0-9]+$/)&&($[P]=parseInt($[P],10))}return $},this.parseDateToArray=function(t){return this.convertDateObjectToArray(this.parseDateToObject(t))},this.parseDateToString=function(t){return this.convertDateObjectToString(this.parseDateToObject(t))},this.parse=function(t){return this.parseDateToObject(t)},this.setOrderMonthDay(),this.resetDateParserMonths()},CSL.Engine=function(t,e,n,i){function r(t){var t=t.slice(),e=new RegExp("(?:(?:[?!:]*\\s+|-|^)(?:"+t.join("|")+")(?=[!?:]*\\s+|-|$))","g");return e}var s,o;this.processor_version=CSL.PROCESSOR_VERSION,this.csl_version="1.0",this.sys=t,t.variableWrapper&&(CSL.VARIABLE_WRAPPER_PREPUNCT_REX=new RegExp("^(["+[" "].concat(CSL.SWAPPING_PUNCTUATION).join("")+"]*)(.*)")),CSL.retrieveStyleModule&&(this.sys.retrieveStyleModule=CSL.retrieveStyleModule),CSL.getAbbreviation&&(this.sys.getAbbreviation=CSL.getAbbreviation),this.sys.stringCompare&&(CSL.stringCompare=this.sys.stringCompare),this.sys.AbbreviationSegments=CSL.AbbreviationSegments,this.parallel=new CSL.Parallel(this),this.transform=new CSL.Transform(this),this.setParseNames=function(t){this.opt["parse-names"]=t},this.opt=new CSL.Engine.Opt,this.tmp=new CSL.Engine.Tmp,this.build=new CSL.Engine.Build,this.fun=new CSL.Engine.Fun(this),this.configure=new CSL.Engine.Configure,this.citation_sort=new CSL.Engine.CitationSort,this.bibliography_sort=new CSL.Engine.BibliographySort,this.citation=new CSL.Engine.Citation(this),this.bibliography=new CSL.Engine.Bibliography,this.output=new CSL.Output.Queue(this),this.dateput=new CSL.Output.Queue(this),this.cslXml=CSL.setupXml(e),(this.opt.development_extensions.csl_reverse_lookup_support||this.sys.csl_reverse_lookup_support)&&(this.build.cslNodeId=0,this.setCslNodeIds=function(t,e){var n=this.cslXml.children(t);this.cslXml.setAttribute(t,"cslid",this.build.cslNodeId),this.opt.nodenames.push(e),this.build.cslNodeId+=1;for(var i=0,r=this.cslXml.numberofnodes(n);r>i;i+=1)e=this.cslXml.nodename(n[i]),e&&this.setCslNodeIds(n[i],e)},this.setCslNodeIds(this.cslXml.dataObj,"style")),this.cslXml.addMissingNameNodes(this.cslXml.dataObj),this.cslXml.addInstitutionNodes(this.cslXml.dataObj),this.cslXml.insertPublisherAndPlace(this.cslXml.dataObj),this.cslXml.flagDateMacros(this.cslXml.dataObj),s=this.cslXml.attributes(this.cslXml.dataObj),"undefined"==typeof s["@sort-separator"]&&this.cslXml.setAttribute(this.cslXml.dataObj,"sort-separator",", "),this.opt["initialize-with-hyphen"]=!0,this.setStyleAttributes(),this.opt.xclass=this.cslXml.getAttributeValue(this.cslXml.dataObj,"class"),this.opt["class"]=this.opt.xclass,this.opt.styleID=this.cslXml.getStyleId(this.cslXml.dataObj),CSL.setSuppressedJurisdictions&&CSL.setSuppressedJurisdictions(this.opt.styleID,this.opt.suppressedJurisdictions),this.opt.styleName=this.cslXml.getStyleId(this.cslXml.dataObj,!0),"1.1m"===this.opt.version.slice(0,4)&&(this.opt.development_extensions.static_statute_locator=!0,this.opt.development_extensions.handle_parallel_articles=!0,this.opt.development_extensions.main_title_from_short_title=!0,this.opt.development_extensions.rtl_support=!0,this.opt.development_extensions.expect_and_symbol_form=!0,this.opt.development_extensions.require_explicit_legal_case_title_short=!0,this.opt.development_extensions.force_jurisdiction=!0),n&&(n=n.replace("_","-"),n=CSL.normalizeLocaleStr(n)),this.opt["default-locale"][0]&&(this.opt["default-locale"][0]=this.opt["default-locale"][0].replace("_","-"),this.opt["default-locale"][0]=CSL.normalizeLocaleStr(this.opt["default-locale"][0])),n&&i&&(this.opt["default-locale"]=[n]),n&&!i&&this.opt["default-locale"][0]&&(n=this.opt["default-locale"][0]),0===this.opt["default-locale"].length&&(n||(n="en-US"),this.opt["default-locale"].push("en-US")),n||(n=this.opt["default-locale"][0]),o=CSL.localeResolve(n),this.opt.lang=o.best,this.opt["default-locale"][0]=o.best,this.locale={},this.opt["default-locale-sort"]||(this.opt["default-locale-sort"]=this.opt["default-locale"][0]),"dale|".localeCompare("daleb",this.opt["default-locale-sort"])>-1?this.opt.sort_sep="@":this.opt.sort_sep="|",this.localeConfigure(o),this.locale[this.opt.lang].opts["skip-words-regexp"]=r(this.locale[this.opt.lang].opts["skip-words"]),this.output.adjust=new CSL.Output.Queue.adjust(this.getOpt("punctuation-in-quote")),this.registry=new CSL.Registry(this),this.macros={},this.build.area="citation";var a=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(a,this[this.build.area].tokens),this.build.area="bibliography";var a=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(a,this[this.build.area].tokens),this.juris={},this.configureTokenLists(),this.disambiguate=new CSL.Disambiguation(this),this.splice_delimiter=!1,this.fun.dateparser=CSL.DateParser,this.fun.flipflopper=new CSL.Util.FlipFlopper(this),this.setCloseQuotesArray(),this.fun.ordinalizer.init(this),this.fun.long_ordinalizer.init(this),this.fun.page_mangler=CSL.Util.PageRangeMangler.getFunction(this,"page"),this.fun.year_mangler=CSL.Util.PageRangeMangler.getFunction(this,"year"),this.setOutputFormat("html")},CSL.Engine.prototype.setCloseQuotesArray=function(){var t;t=[],t.push(this.getTerm("close-quote")),t.push(this.getTerm("close-inner-quote")),t.push('"'),t.push("'"),this.opt.close_quotes_array=t},CSL.makeBuilder=function(t,e){function n(n){CSL.XmlToToken.call(n,t,CSL.START,e)}function i(n){CSL.XmlToToken.call(n,t,CSL.END,e)}function r(n){CSL.XmlToToken.call(n,t,CSL.SINGLETON,e)}function s(e){var o;if(t.cslXml.numberofnodes(t.cslXml.children(e))){o=e,n(o);for(var a=0;a<t.cslXml.numberofnodes(t.cslXml.children(o));a+=1)e=t.cslXml.children(o)[a],null!==t.cslXml.nodename(e)&&("date"===t.cslXml.nodename(e)&&(CSL.Util.fixDateNode.call(t,o,a,e),e=t.cslXml.children(o)[a]),s(e,n,i,r));i(o)}else r(e)}return s},CSL.Engine.prototype.buildTokenLists=function(t,e){if(this.cslXml.getNodeValue(t)){var n,i=CSL.makeBuilder(this,e);n="undefined"==typeof t.length?t:t[0],i(n)}},CSL.Engine.prototype.setStyleAttributes=function(){var t,e,n,t={};t.name=this.cslXml.nodename(this.cslXml.dataObj),e=this.cslXml.attributes(this.cslXml.dataObj);for(n in e)e.hasOwnProperty(n)&&CSL.Attributes[n].call(t,this,e[n])},CSL.Engine.prototype.getTerm=function(t,e,n,i,r,s){t&&t.match(/[A-Z]/)&&t===t.toUpperCase()&&(CSL.debug("Warning: term key is in uppercase form: "+t),t=t.toLowerCase());var o;o=s?this.opt["default-locale"][0]:this.opt.lang;var a=CSL.Engine.getField(CSL.LOOSE,this.locale[o].terms,t,e,n,i);if(a||"range-delimiter"!==t||(a=""),"undefined"==typeof a){if(r===CSL.STRICT)throw'Error in getTerm: term "'+t+'" does not exist.';r===CSL.TOLERANT&&(a="")}return a&&(this.tmp.cite_renders_content=!0),a},CSL.Engine.prototype.getDate=function(t,e){var n;return n=e?this.opt["default-locale"]:this.opt.lang,this.locale[n].dates[t]?this.locale[n].dates[t]:!1},CSL.Engine.prototype.getOpt=function(t){return"undefined"!=typeof this.locale[this.opt.lang].opts[t]?this.locale[this.opt.lang].opts[t]:!1},CSL.Engine.prototype.getVariable=function(t,e,n,i){return CSL.Engine.getField(CSL.LOOSE,t,e,n,i)},CSL.Engine.prototype.getDateNum=function(t,e){return"undefined"==typeof t?0:t[e]},CSL.Engine.getField=function(t,e,n,i,r,s){var o,a,u,l,c,h;if(o="","undefined"==typeof e[n]){if(t===CSL.STRICT)throw'Error in getField: term "'+n+'" does not exist.';return void 0}for(h=s&&e[n][s]?e[n][s]:e[n],a=[],"symbol"===i?a=["symbol","short"]:"verb-short"===i?a=["verb-short","verb"]:"long"!==i&&(a=[i]),a=a.concat(["long"]),c=a.length,l=0;c>l;l+=1)if(u=a[l],"string"==typeof h||"number"==typeof h)o=h;else if("undefined"!=typeof h[u]){o="string"==typeof h[u]||"number"==typeof h[u]?h[u]:"number"==typeof r?h[u][r]:h[u][0];break}return o},CSL.Engine.prototype.configureTokenLists=function(){var t,e,n;for(n=CSL.AREAS.length,e=0;n>e;e+=1){t=CSL.AREAS[e];var i=this[t].tokens;this.configureTokenList(i)}return this.version=CSL.version,this.state},CSL.Engine.prototype.configureTokenList=function(t){var e,n,i,r,s,o,a,u;for(e=["year","month","day"],a=t.length-1,s=a;s>-1;s+=-1){if(n=t[s],"date"===n.name&&CSL.END===n.tokentype&&(i=[]),"date-part"===n.name&&n.strings.name)for(u=e.length,o=0;u>o;o+=1)r=e[o],r===n.strings.name&&i.push(n.strings.name);"date"===n.name&&CSL.START===n.tokentype&&(i.reverse(),n.dateparts=i),n.next=s+1,n.name&&CSL.Node[n.name].configure&&CSL.Node[n.name].configure.call(n,this,s)}},CSL.Engine.prototype.retrieveItems=function(t){var e;e=[];for(var n=0,i=t.length;i>n;n+=1)e.push(this.retrieveItem(""+t[n]));return e},CSL.ITERATION=0,CSL.Engine.prototype.retrieveItem=function(t){var e,n;if(this.tmp.loadedItemIDs[t])return this.registry.refhash[t];if(this.tmp.loadedItemIDs[t]=!0,this.opt.development_extensions.normalize_lang_keys_to_lowercase&&"boolean"==typeof this.opt.development_extensions.normalize_lang_keys_to_lowercase){for(var i=0,r=this.opt["default-locale"].length;r>i;i+=1)this.opt["default-locale"][i]=this.opt["default-locale"][i].toLowerCase();for(var i=0,r=this.opt["locale-translit"].length;r>i;i+=1)this.opt["locale-translit"][i]=this.opt["locale-translit"][i].toLowerCase();for(var i=0,r=this.opt["locale-translat"].length;r>i;i+=1)this.opt["locale-translat"][i]=this.opt["locale-translat"][i].toLowerCase();this.opt.development_extensions.normalize_lang_keys_to_lowercase=100}if(CSL.ITERATION+=1,e=JSON.parse(JSON.stringify(this.sys.retrieveItem(""+t))),this.opt.development_extensions.normalize_lang_keys_to_lowercase){if(e.multi){if(e.multi._keys)for(var s in e.multi._keys)for(var o in e.multi._keys[s])o!==o.toLowerCase()&&(e.multi._keys[s][o.toLowerCase()]=e.multi._keys[s][o],delete e.multi._keys[s][o]);if(e.multi.main)for(var s in e.multi.main)e.multi.main[s]=e.multi.main[s].toLowerCase()}for(var i=0,r=CSL.CREATORS.length;i>r;i+=1){var a=CSL.CREATORS[i];if(e[a]&&e[a].multi)for(var u=0,l=e[a].length;l>u;u+=1){var c=e[a][u];if(c.multi){if(c.multi._key)for(var o in c.multi._key)o!==o.toLowerCase()&&(c.multi._key[o.toLowerCase()]=c.multi._key[o],delete c.multi._key[o]);c.multi.main&&(c.multi.main=c.multi.main.toLowerCase())}}}}if(this.sys.getLanguageName&&e.language&&e.language){e.language=e.language.toLowerCase();var h=e.language.split("<");if(h.length>0){var f=this.sys.getLanguageName(h[0]);f&&(e["language-name"]=f)}if(2===h.length){var p=this.sys.getLanguageName(h[1]);p&&(e["language-name-original"]=p)}}if(e.page){e["page-first"]=e.page;var d=""+e.page;n=d.split(/\s*(?:&|, |-|\u2013)\s*/),"\\"!==n[0].slice(-1)&&(e["page-first"]=n[0])}this.opt.development_extensions.field_hack&&e.note&&CSL.parseNoteFieldHacks(e,!1,this.opt.development_extensions.allow_field_hack_date_override);for(var i=1,r=CSL.DATE_VARIABLES.length;r>i;i+=1){var m=e[CSL.DATE_VARIABLES[i]];m&&(this.opt.development_extensions.raw_date_parsing&&m.raw&&(m=this.fun.dateparser.parseDateToObject(m.raw)),e[CSL.DATE_VARIABLES[i]]=this.dateParseArray(m))}if(this.opt.development_extensions.static_statute_locator&&e.type&&["bill","gazette","legislation","regulation","treaty"].indexOf(e.type)>-1){var g,v=["type","title","jurisdiction","genre","volume","container-title"],b=[];for(i=0,r=v.length;r>i;i+=1)g=v[i],e[g]&&b.push(e[g]);for(v=["original-date","issued"],i=0,v.length;r>i;i+=1)if(g=v[i],e[g]&&e[g].year){var y=e[g].year;b.push(y);break}e.legislation_id=b.join("::")}if(e["title-short"]||(e["title-short"]=e.shortTitle),this.opt.development_extensions.main_title_from_short_title)for(var _=["","container-"],i=0,r=_.length;r>i;i++){var S=_[i];if(e[S+"title-main"]=e[S+"title"],e[S+"title-sub"]=!1,e[S+"title"]&&e[S+"title-short"]){var x=e[S+"title-short"];if(offset=x.length,e[S+"title"].slice(0,offset)===x&&e[S+"title"].slice(offset).match(/^\s*:/)){if(e[S+"title-main"]=e[S+"title"].slice(0,offset).replace(/\s+$/,""),e[S+"title-sub"]=e[S+"title"].slice(offset).replace(/^\s*:\s*/,""),this.opt.development_extensions.uppercase_subtitles&&e[S+"title-sub"])for(var C=e[S+"title-sub"],u=0,l=C.length;l>u;u++)if(C.charAt(u).toLowerCase()!==C.charAt(u).toUpperCase()){e[S+"title-sub"]=C.slice(0,u)+C.charAt(u).toUpperCase()+C.slice(u+1);break}var $=offset+e[S+"title"].length-e[S+"title-main"].length-e[S+"title-sub"].length;e[S+"title"]=e[S+"title"].slice(0,$)+e[S+"title-sub"]}}}var w=["bill","legal_case","legislation","gazette","regulation"].indexOf(e.type)>-1;if(this.opt.development_extensions.force_jurisdiction&&w&&(e.jurisdiction||(e.jurisdiction="us")),!w&&e.title&&this.sys.getAbbreviation){var L=!1;e.jurisdiction||(L=!0);var T=this.transform.loadAbbreviation(e.jurisdiction,"title",e.title,e.type,!0);this.transform.abbrevs[T].title&&this.transform.abbrevs[T].title[e.title]&&(e["title-short"]=this.transform.abbrevs[T].title[e.title])}if(e["container-title-short"]||(e["container-title-short"]=e.journalAbbreviation),e["container-title"]&&this.sys.getAbbreviation){var T=this.transform.loadAbbreviation(e.jurisdiction,"container-title",e["container-title"]);this.transform.abbrevs[T]["container-title"]&&this.transform.abbrevs[T]["container-title"][e["container-title"]]&&(e["container-title-short"]=this.transform.abbrevs[T]["container-title"][e["container-title"]])}return this.registry.refhash[t]=e,e},CSL.Engine.prototype.setOpt=function(t,e,n){"style"===t.name||"cslstyle"===t.name?(this.opt.inheritedAttributes[e]=n,this.citation.opt.inheritedAttributes[e]=n,this.bibliography.opt.inheritedAttributes[e]=n):["citation","bibliography"].indexOf(t.name)>-1?this[t.name].opt.inheritedAttributes[e]=n:t.strings[e]=n},CSL.Engine.prototype.inheritOpt=function(t,e,n,i){if("undefined"!=typeof t.strings[e])return t.strings[e];var r=this[this.tmp.root].opt.inheritedAttributes[n?n:e];return"undefined"!=typeof r?r:i},CSL.Engine.prototype.remapSectionVariable=function(t){for(var e=0,n=t.length;n>e;e+=1){var i=t[e][0],r=t[e][1];if(["bill","gazette","legislation","regulation","treaty"].indexOf(i.type)>-1){if(r.locator){r.locator=r.locator.trim();var s=r.locator.match(CSL.STATUTE_SUBDIV_PLAIN_REGEX);s||(r.label?r.locator=CSL.STATUTE_SUBDIV_STRINGS_REVERSE[r.label]+" "+r.locator:r.locator="p. "+r.locator)}var o=null;if(i.section){i.section=i.section.trim();var s=i.section.match(CSL.STATUTE_SUBDIV_PLAIN_REGEX);s?o=s[0].trim():(i.section="sec. "+i.section,o="sec.")}if(i.section)if(r.locator){var s=r.locator.match(/^([^ ]*)\s*(.*)/),a=" ";s?("p."===s[1]&&"p."!==o&&(r.locator=s[2]),["[","(",".",",",";",":","?"].indexOf(r.locator.slice(0,1))>-1&&(a="")):a="",r.locator=i.section+a+r.locator}else r.locator=i.section;r.label=""}}},CSL.Engine.prototype.setNumberLabels=function(t){if(t.number&&["bill","gazette","legislation","regulation","treaty"].indexOf(t.type)>-1&&this.opt.development_extensions.static_statute_locator&&!this.tmp.shadow_numbers.number){this.tmp.shadow_numbers.number={},this.tmp.shadow_numbers.number.values=[],this.tmp.shadow_numbers.number.plural=0,this.tmp.shadow_numbers.number.numeric=!1,this.tmp.shadow_numbers.number.label=!1;var e=""+t.number;e=e.split("\\").join("");var n=e.split(/\s+/)[0],i=CSL.STATUTE_SUBDIV_STRINGS[n];if(i){var r=e.match(CSL.STATUTE_SUBDIV_GROUPED_REGEX),s=e.split(CSL.STATUTE_SUBDIV_PLAIN_REGEX);if(s.length>1){for(var o=[],a=1,u=s.length;u>a;a+=1){r[a-1].replace(/^\s*/,"");o.push(s[a].replace(/\s*$/,"").replace(/^\s*/,""))}e=o.join(" ")}else e=s[0];this.tmp.shadow_numbers.number.label=i,this.tmp.shadow_numbers.number.values.push(["Blob",e,!1]),this.tmp.shadow_numbers.number.numeric=!1}else this.tmp.shadow_numbers.number.values.push(["Blob",e,!1]),this.tmp.shadow_numbers.number.numeric=!0}},CSL.substituteOne=function(t){return function(e,n){return n?t.replace("%%STRING%%",n):""}},CSL.substituteTwo=function(t){return function(e){var n=t.replace("%%PARAM%%",e);return function(t,e){return e?n.replace("%%STRING%%",e):""}}},CSL.Mode=function(t){var e,n,i,r,s,o;e={},n=CSL.Output.Formats[t];for(i in n)if("@"===i.slice(0,1)){if(r=!1,s=n[i],o=i.split("/"),"string"==typeof s&&s.indexOf("%%STRING%%")>-1)r=s.indexOf("%%PARAM%%")>-1?CSL.substituteTwo(s):CSL.substituteOne(s);else if("boolean"!=typeof s||s){if("function"!=typeof s)throw"CSL.Compiler: Bad "+t+" config entry for "+i+": "+s;r=s}else r=CSL.Output.Formatters.passthrough;1===o.length?e[o[0]]=r:2===o.length&&(e[o[0]]||(e[o[0]]={}),e[o[0]][o[1]]=r)}else e[i]=n[i];return e},CSL.setDecorations=function(t,e){var n,i,r;n=[];for(r in CSL.FORMAT_KEY_SEQUENCE)i=CSL.FORMAT_KEY_SEQUENCE[r],e[i]&&(n.push([i,e[i]]),delete e[i]);return n},CSL.Engine.prototype.normalDecorIsOrphan=function(t,e){if("normal"===e[1]){var n,i=!1;n="citation"===this.tmp.area?[this.citation.opt.layout_decorations].concat(t.alldecor):t.alldecor;for(var r=n.length-1;r>-1;r+=-1)for(var s=n[r].length-1;s>-1;s+=-1)n[r][s][0]===e[0]&&"normal"!==n[r][s][1]&&(i=!0);if(!i)return!0}return!1},CSL.Engine.prototype.getCitationLabel=function(t){var e="",n=this.getTrigraphParams(),i=n[0],r=this.getTerm("reference","short",0);"undefined"==typeof r&&(r="reference"),r=r.replace(".",""),r=r.slice(0,1).toUpperCase()+r.slice(1);for(var s=0,o=CSL.CREATORS.length;o>s;s+=1){var a=CSL.CREATORS[s];if(t[a]){var u=t[a];i=u.length>n.length?n[n.length-1]:n[u.length-1];for(var l=0,c=u.length;c>l&&l!==i.authors.length;l+=1){var h=this.nameOutput.getName(u[l],"locale-translit",!0),f=h.name;f&&f.family?(r=f.family,r=r.replace(/^([ \'\u2019a-z]+\s+)/,"")):f&&f.literal&&(r=f.literal);var p=r.toLowerCase().match(/^(a\s+|the\s+|an\s+)/);if(p&&(r=r.slice(p[1].length)),r=r.replace(CSL.ROMANESQUE_NOT_REGEXP,""),!r)break;r=r.slice(0,i.authors[l]),r.length>1?r=r.slice(0,1).toUpperCase()+r.slice(1).toLowerCase():1===r.length&&(r=r.toUpperCase()),e+=r}break}}if(!e&&t.title){for(var d=this.locale[this.opt.lang].opts["skip-words"],m=t.title.split(/\s+/),s=m.length-1;s>-1;s--)d.indexOf(m[s])>-1&&(m=m.slice(0,s).concat(m.slice(s+1)));var g=m.join("");g=g.slice(0,n[0].authors[0]),g.length>1?g=g.slice(0,1).toUpperCase()+g.slice(1).toLowerCase():1===g.length&&(g=g.toUpperCase()),e=g}var v="0000";return t.issued&&t.issued.year&&(v=""+t.issued.year),v=v.slice(-1*i.year),e+=v},CSL.Engine.prototype.getTrigraphParams=function(){var t=[],e=this.opt.trigraph.split(":");if(!this.opt.trigraph||"A"!==this.opt.trigraph.slice(0,1))throw"Bad trigraph definition: "+this.opt.trigraph;for(var n=0,i=e.length;i>n;n+=1){for(var r=e[n],s={authors:[],year:0},o=0,a=r.length;a>o;o+=1)switch(r.slice(o,o+1)){case"A":s.authors.push(1);break;case"a":s.authors[s.authors.length-1]+=1;break;case"0":s.year+=1;break;default:throw"Invalid character in trigraph definition: "+this.opt.trigraph}t.push(s)}return t},CSL.Engine.prototype.setOutputFormat=function(t){this.opt.mode=t,this.fun.decorate=CSL.Mode(t),this.output[t]||(this.output[t]={},this.output[t].tmp={})},CSL.Engine.prototype.getSortFunc=function(){return function(t,e){return t=t.split("-"),e=e.split("-"),t.length<e.length?1:t.length>e.length?-1:(t=t.slice(-1)[0],e=e.slice(-1)[0],t.length<e.length?1:t.length>e.length?-1:0)}},CSL.Engine.prototype.setLangTagsForCslSort=function(t){var e,n;if(t)for(this.opt["locale-sort"]=[],e=0,n=t.length;n>e;e+=1)this.opt["locale-sort"].push(t[e]);this.opt["locale-sort"].sort(this.getSortFunc())},CSL.Engine.prototype.setLangTagsForCslTransliteration=function(t){var e,n;if(this.opt["locale-translit"]=[],t)for(e=0,n=t.length;n>e;e+=1)this.opt["locale-translit"].push(t[e]);this.opt["locale-translit"].sort(this.getSortFunc())},CSL.Engine.prototype.setLangTagsForCslTranslation=function(t){var e,n;if(this.opt["locale-translat"]=[],t)for(e=0,n=t.length;n>e;e+=1)this.opt["locale-translat"].push(t[e]);this.opt["locale-translat"].sort(this.getSortFunc())},CSL.Engine.prototype.setLangPrefsForCites=function(t,e){var n=this.opt["cite-lang-prefs"];e||(e=function(t){return t.toLowerCase()});for(var i=["Persons","Institutions","Titles","Journals","Publishers","Places"],r=0,s=i.length;s>r;r+=1){var o=e(i[r]),a=i[r].toLowerCase();if(t[o]){for(var u=[];t[o].length>1;)u.push(t[o].pop());var l={orig:1,translit:2,translat:3};for(2===u.length&&l[u[0]]<l[u[1]]&&u.reverse();u.length;)t[o].push(u.pop());for(var c=n[a];c.length;)c.pop();for(var h=0,f=t[o].length;f>h;h+=1)c.push(t[o][h])}}},CSL.Engine.prototype.setLangPrefsForCiteAffixes=function(t){if(t&&48===t.length){for(var e,n=this.opt.citeAffixes,i=0,r=["persons","institutions","titles","journals","publishers","places"],s=["translit","orig","translit","translat"],o=0,a=r.length;a>o;o+=1)for(var u=0,l=s.length;l>u;u+=1)e="",i%8===4?n[r[o]]["locale-"+s[u]].prefix||n[r[o]]["locale-"+s[u]].suffix||(e=t[i]?t[i]:"",n[r[o]]["locale-"+s[u]].prefix=e,e=t[i]?t[i+1]:"",n[r[o]]["locale-"+s[u]].suffix=e):(e=t[i]?t[i]:"",n[r[o]]["locale-"+s[u]].prefix=e,e=t[i]?t[i+1]:"",n[r[o]]["locale-"+s[u]].suffix=e),i+=2;this.opt.citeAffixes=n}},CSL.Engine.prototype.setAutoVietnameseNamesOption=function(t){t?this.opt["auto-vietnamese-names"]=!0:this.opt["auto-vietnamese-names"]=!1},CSL.Engine.prototype.setAbbreviations=function(t){this.sys.setAbbreviations&&this.sys.setAbbreviations(t)},CSL.Engine.prototype.setSuppressTrailingPunctuation=function(t){this.citation.opt.suppressTrailingPunctuation=!!t},CSL.Output={},CSL.Output.Queue=function(t){this.levelname=["top"],this.state=t,this.queue=[],this.empty=new CSL.Token("empty");var e={};e.empty=this.empty,this.formats=new CSL.Stack(e),this.current=new CSL.Stack(this.queue)},CSL.Output.Queue.prototype.pop=function(){var t=this.current.value();return t.length?t.pop():t.blobs.pop()},CSL.Output.Queue.prototype.getToken=function(t){var e=this.formats.value()[t];return e},CSL.Output.Queue.prototype.mergeTokenStrings=function(t,e){var n,i,r,s;if(n=this.formats.value()[t],i=this.formats.value()[e],r=n,i){n||(n=new CSL.Token(t,CSL.SINGLETON),n.decorations=[]),
r=new CSL.Token(t,CSL.SINGLETON),s="";for(s in n.strings)n.strings.hasOwnProperty(s)&&(r.strings[s]=n.strings[s]);for(s in i.strings)i.strings.hasOwnProperty(s)&&(r.strings[s]=i.strings[s]);r.decorations=n.decorations.concat(i.decorations)}return r},CSL.Output.Queue.prototype.addToken=function(t,e,n){var i,r;if(i=new CSL.Token("output"),"string"==typeof n&&(n=this.formats.value()[n]),n&&n.strings){for(r in n.strings)n.strings.hasOwnProperty(r)&&(i.strings[r]=n.strings[r]);i.decorations=n.decorations}"string"==typeof e&&(i.strings.delimiter=e),this.formats.value()[t]=i},CSL.Output.Queue.prototype.pushFormats=function(t){t||(t={}),t.empty=this.empty,this.formats.push(t)},CSL.Output.Queue.prototype.popFormats=function(t){this.formats.pop()},CSL.Output.Queue.prototype.startTag=function(t,e){var n={};this.state.tmp["doing-macro-with-date"]&&this.state.tmp.extension&&(e=this.empty,t="empty"),n[t]=e,this.pushFormats(n),this.openLevel(t)},CSL.Output.Queue.prototype.endTag=function(t){this.closeLevel(t),this.popFormats()},CSL.Output.Queue.prototype.openLevel=function(t,e){var n,i;if("object"==typeof t)n=new CSL.Blob(void 0,t);else if("undefined"==typeof t)n=new CSL.Blob(void 0,this.formats.value().empty,"empty");else{if(!this.formats.value()||!this.formats.value()[t])throw'CSL processor error: call to nonexistent format token "'+t+'"';n=new CSL.Blob(void 0,this.formats.value()[t],t)}i=this.current.value(),!this.state.tmp.just_looking&&this.checkNestedBrace&&(n.strings.prefix=this.checkNestedBrace.update(n.strings.prefix)),i.push(n),this.current.push(n)},CSL.Output.Queue.prototype.closeLevel=function(t){t&&t!==this.current.value().levelname&&CSL.error("Level mismatch error:  wanted "+t+" but found "+this.current.value().levelname);var e=this.current.pop();!this.state.tmp.just_looking&&this.checkNestedBrace&&(e.strings.suffix=this.checkNestedBrace.update(e.strings.suffix))},CSL.Output.Queue.prototype.append=function(t,e,n,i,r){var s,o,a,u=!0;if(n&&(i=!0),this.state.tmp["doing-macro-with-date"]&&!n){if("macro-with-date"!==e)return!1;"macro-with-date"===e&&(e="empty")}if("undefined"==typeof t)return!1;if("number"==typeof t&&(t=""+t),!n&&this.state.tmp.element_trace&&"suppress-me"===this.state.tmp.element_trace.value())return!1;if(o=!1,e?"literal"===e?(s=!0,u=!1):s="string"==typeof e?this.formats.value()[e]:e:s=this.formats.value().empty,!s)throw"CSL processor error: unknown format token name: "+e;if(s.strings&&"undefined"==typeof s.strings.delimiter&&(s.strings.delimiter=""),"string"==typeof t&&t.length&&(t=t.replace(/ ([:;?!\u00bb])/g,"$1").replace(/\u00ab /g,""),this.last_char_rendered=t.slice(-1),t=t.replace(/\s+'/g,"  '"),n||(t=t.replace(/^'/g," '")),i?n&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),o=new CSL.Blob(t,s),a=this.current.value(),"undefined"==typeof a&&0===this.current.mystack.length&&(this.current.mystack.push([]),a=this.current.value()),"string"==typeof o.blobs&&(i?n&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),n||this.state.parallel.AppendBlobPointer(a),"string"==typeof t){a.push(o),o.strings["text-case"]&&(o.blobs=CSL.Output.Formatters[o.strings["text-case"]](this.state,t)),this.state.tmp.strip_periods&&!r&&(o.blobs=o.blobs.replace(/\.([^a-z]|$)/g,"$1"));for(var l=o.decorations.length-1;l>-1;l+=-1)"@quotes"===o.decorations[l][0]&&"false"!==o.decorations[l][1]&&(o.punctuation_in_quote=this.state.getOpt("punctuation-in-quote")),o.blobs.match(CSL.ROMANESQUE_REGEXP)||"@font-style"===o.decorations[l][0]&&(o.decorations=o.decorations.slice(0,l).concat(o.decorations.slice(l+1)));this.state.fun.flipflopper.init(t,o),this.state.fun.flipflopper.processTags()}else u?a.push(o):a.push(t);return!0},CSL.Output.Queue.prototype.string=function(t,e,n){var i,r,s,o,a,u=CSL.getSafeEscape(this.state),l=e.slice(),c=[];if(0===l.length)return c;var h="";n?h=n.strings.delimiter:(t.tmp.count_offset_characters=!1,t.tmp.offset_characters=0),n&&n.new_locale&&(n.old_locale=t.opt.lang,t.opt.lang=n.new_locale);var f,p,d,m;for(i=0,r=l.length;r>i;i+=1){if(f=l[i],f.strings.first_blob&&(t.tmp.count_offset_characters=f.strings.first_blob),"string"==typeof f.blobs){if("number"==typeof f.num)c.push(f);else if(f.blobs){a=u(f.blobs);var g=a.length;if(!t.tmp.suppress_decorations)for(s=0,o=f.decorations.length;o>s;s+=1)m=f.decorations[s],"@showid"!==m[0]&&(t.normalDecorIsOrphan(f,m)||(a=t.fun.decorate[m[0]][m[1]].call(f,t,a,m[2])));if(a&&a.length){if(a=u(f.strings.prefix)+a+u(f.strings.suffix),(t.opt.development_extensions.csl_reverse_lookup_support||t.sys.csl_reverse_lookup_support)&&!t.tmp.suppress_decorations)for(s=0,o=f.decorations.length;o>s;s+=1)m=f.decorations[s],"@showid"===m[0]&&(a=t.fun.decorate[m[0]][m[1]].call(f,t,a,m[2]));c.push(a),t.tmp.count_offset_characters&&(t.tmp.offset_characters+=g+f.strings.suffix.length+f.strings.prefix.length)}}}else if(f.blobs.length){var v=t.output.string(t,f.blobs,f);if(n&&"string"!==v&&v.length>1&&f.strings.delimiter)for(var b=!1,s=0,o=v.length;o>s;s++)"string"!=typeof v[s]?b=!0:b&&(v[s]=f.strings.delimiter+v[s]);c=c.concat(v)}f.strings.first_blob&&(t.registry.registry[f.strings.first_blob].offset=t.tmp.offset_characters,t.tmp.count_offset_characters=!1)}for(i=0,r=c.length-1;r>i;i+=1)"number"!=typeof c[i].num||"number"!=typeof c[i+1].num||c[i+1].UGLY_DELIMITER_SUPPRESS_HACK||(c[i].strings.suffix=c[i].strings.suffix+(h?h:""),c[i+1].successor_prefix="",c[i+1].UGLY_DELIMITER_SUPPRESS_HACK=!0);var y=0;for(i=0,r=c.length;r>i;i+=1)"string"==typeof c[i]&&(y=parseInt(i,10)+1,i<c.length-1&&"object"==typeof c[i+1]&&(h&&!c[i+1].UGLY_DELIMITER_SUPPRESS_HACK&&(c[i]+=u(h)),c[i+1].UGLY_DELIMITER_SUPPRESS_HACK=!0));if(n&&(n.decorations.length||n.strings.suffix))y=c.length;else if(n&&n.strings.prefix)for(var i=0,r=c.length;r>i;i++)if("undefined"!=typeof c[i].num){y=i,0===i&&(c[i].strings.prefix=n.strings.prefix+c[i].strings.prefix);break}var _=t.output.renderBlobs(c.slice(0,y),h,!1,n);if(_&&n&&(n.decorations.length||n.strings.suffix||n.strings.prefix)){if(!t.tmp.suppress_decorations)for(i=0,r=n.decorations.length;r>i;i+=1)m=n.decorations[i],["@cite","@bibliography","@display","@showid"].indexOf(m[0])>-1||t.normalDecorIsOrphan(f,m)||"string"==typeof _&&(_=t.fun.decorate[m[0]][m[1]].call(n,t,_,m[2]));if(a=_,p=n.strings.suffix,a&&a.length&&(d=n.strings.prefix,a=u(d)+a+u(p),t.tmp.count_offset_characters&&(t.tmp.offset_characters+=d.length+p.length)),_=a,!t.tmp.suppress_decorations)for(i=0,r=n.decorations.length;r>i;i+=1)m=n.decorations[i],-1!==["@cite","@bibliography","@display","@showid"].indexOf(m[0])&&"string"==typeof _&&(_=t.fun.decorate[m[0]][m[1]].call(n,t,_,m[2]))}var S=c.slice(y,c.length);return!S.length&&_?c=[_]:S.length&&!_?c=S:_&&S.length&&(c=[_].concat(S)),"undefined"==typeof n?(this.queue=[],this.current.mystack=[],this.current.mystack.push(this.queue),t.tmp.suppress_decorations&&(c=t.output.renderBlobs(c,void 0,!1))):"boolean"==typeof n&&(c=t.output.renderBlobs(c,void 0,!0)),n&&n.new_locale&&(t.opt.lang=n.old_locale),c},CSL.Output.Queue.prototype.clearlevel=function(){var t,e,n;for(t=this.current.value(),n=t.blobs.length,e=0;n>e;e+=1)t.blobs.pop()},CSL.Output.Queue.prototype.renderBlobs=function(t,e,n,i){var r,s,o,a,u,l,c,h,f,p,d,m;if(m=CSL.getSafeEscape(this.state),e||(e=""),r=this.state,s="",o=[],a="",c=t.length,"citation"===this.state.tmp.area&&!this.state.tmp.just_looking&&1===c&&"object"==typeof t[0]&&i)return t[0].strings.prefix=i.strings.prefix+t[0].strings.prefix,t[0].strings.suffix=t[0].strings.suffix+i.strings.suffix,t[0].decorations=t[0].decorations.concat(i.decorations),t[0].params=i.params,t[0];var g=!0;for(l=0;c>l;l+=1)t[l].checkNext?(t[l].checkNext(t[l+1],g),g=!1):g=t[l+1]&&t[l+1].splice_prefix?!1:!0;var v=!0;for(l=t.length-1;l>0;l+=-1)t[l].checkLast?v&&t[l].checkLast(t[l-1])&&(v=!1):v=!0;for(c=t.length,l=0;c>l;l+=1)if(u=t[l],s&&(a=e),"string"==typeof u)s+=m(a),s+=u,r.tmp.count_offset_characters&&(r.tmp.offset_characters+=a.length);else if(n)s=s?[s,u]:[u];else if(u.status!==CSL.SUPPRESS){p=u.particle?u.particle+u.num:u.formatter.format(u.num,u.gender);var b=p.replace(/<[^>]*>/g,"").length;this.append(p,"empty",!0);var y=this.pop(),_=r.tmp.count_offset_characters;if(p=this.string(r,[y],!1),r.tmp.count_offset_characters=_,u.strings["text-case"]&&(p=CSL.Output.Formatters[u.strings["text-case"]](this.state,p)),p&&this.state.tmp.strip_periods&&(p=p.replace(/\.([^a-z]|$)/g,"$1")),!r.tmp.suppress_decorations)for(f=u.decorations.length,h=0;f>h;h+=1)d=u.decorations[h],r.normalDecorIsOrphan(u,d)||(p=r.fun.decorate[d[0]][d[1]].call(u,r,p,d[2]));p=m(u.strings.prefix)+p+m(u.strings.suffix);var S="";u.status===CSL.END?S=m(u.range_prefix):u.status===CSL.SUCCESSOR?S=m(u.successor_prefix):u.status===CSL.START?S=l>0&&!u.suppress_splice_prefix?m(u.splice_prefix):"":u.status===CSL.SEEN&&(S=m(u.splice_prefix)),s+=S,s+=p,r.tmp.count_offset_characters&&(r.tmp.offset_characters+=S.length+u.strings.prefix.length+b+u.strings.suffix.length)}return s},CSL.Output.Queue.purgeEmptyBlobs=function(t){if("object"==typeof t&&"object"==typeof t.blobs&&t.blobs.length)for(var e=t.blobs.length-1;e>-1;e--){CSL.Output.Queue.purgeEmptyBlobs(t.blobs[e]);var n=t.blobs[e];if(!n||!n.blobs||!n.blobs.length){for(var i=[];t.blobs.length-1>e;)i.push(t.blobs.pop());for(t.blobs.pop();i.length;)t.blobs.push(i.pop())}}},CSL.Output.Queue.adjust=function(t){function e(t){return"number"==typeof t.num||t.blobs&&1===t.blobs.length&&"number"==typeof t.blobs[0].num}function n(t){return"number"==typeof t.num?!0:t.blobs&&"object"==typeof t.blobs?n(t.blobs[t.blobs.length-1])?!0:void 0:!1}function i(t,e){var n=!1,i=["@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align"];if(e&&i.push("@quotes"),t.decorations)for(var r=0,s=t.decorations.length;s>r;r++)if(i.indexOf(t.decorations[r][0])>-1){n=!0;break}return n}function r(t){if(t.decorations)for(var e=0,n=t.decorations.length;n>e;e++)if("@quotes"===t.decorations[e][0]&&"false"!==t.decorations[e][1])return!0;return"object"!=typeof t.blobs?!1:r(t.blobs[t.blobs.length-1])}function s(t,e){var n=e.strings.suffix.slice(-1);n||"string"!=typeof e.blobs||(n=e.blobs.slice(-1));var i=x[t][n];return i&&1===i.length?!0:"object"!=typeof e.blobs?!1:s(t,e.blobs[e.blobs.length-1])?!0:!1}function o(t,e){if(!y[e])return!1;if("string"==typeof t.blobs)return t.blobs.slice(-1)===e?!0:!1;var n=t.blobs[t.blobs.length-1];if(n){var i=n.strings.suffix.slice(-1);return i?n.strings.suffix.slice(-1)==e?!0:!1:o(n,e)}return!1}function a(t,e,n,i,r){function s(){SecondStrings[i]=SecondStrings[i].slice(1)}function o(){FirstStrings[e]=FirstStrings[e].slice(0,-1)}function a(t){SecondStrings[i]=t+SecondStrings[i]}function u(t){FirstStrings[e]+=t}function l(){return x[d]}function c(){return g[p]}function h(){var t=g[p][d];"string"==typeof t?(o(),s(),a(t)):(a(p),o())}function f(){var t=x[d][p];"string"==typeof t?(o(),s(),u(t)):(u(d),s())}FirstStrings="blobs"===e?t:t.strings,SecondStrings="blobs"===i?n:n.strings;var p=FirstStrings[e].slice(-1),d=SecondStrings[i].slice(0,1),m=r?o:s,v=r?c:l,b=r?h:f,y=p===d;y?m():v()&&b()}function u(t){if(t.blobs&&"string"==typeof t.blobs)return void(y[t.strings.suffix.slice(0,1)]&&t.strings.suffix.slice(0,1)===t.blobs.slice(-1)&&(t.strings.suffix=t.strings.suffix.slice(1)));if("object"==typeof t&&"object"==typeof t.blobs&&t.blobs.length)for(var e=i(t,!0),n=t.blobs.length-1;n>-1;n--){n===t.blobs.length-1;this.upward(t.blobs[n]);var r=t.strings,s=t.blobs[n].strings;if(0===n){" "===r.prefix.slice(-1)&&" "===s.prefix.slice(0,1)&&(s.prefix=s.prefix.slice(1));var o=s.prefix.slice(0,1);e||!_[o]||r.prefix||(r.prefix+=o,s.prefix=s.prefix.slice(1))}if(n===t.blobs.length-1){var o=s.suffix.slice(-1);!e&&[" "].indexOf(o)>-1&&(r.suffix.slice(0,1)!==o&&(r.suffix=o+r.suffix),s.suffix=s.suffix.slice(0,-1))}r.delimiter&&n>0&&_[r.delimiter.slice(-1)]&&r.delimiter.slice(-1)===s.prefix.slice(0,1)&&(s.prefix=s.prefix.slice(1))}}function l(t){if("object"==typeof t&&"object"==typeof t.blobs&&t.blobs.length)for(var e=t.blobs.length-1;e>-1;e--)if(this.leftward(t.blobs[e]),e<t.blobs.length-1&&!t.strings.delimiter){var n=t.blobs[e],r=n.strings.suffix.slice(-1),s=t.blobs[e+1],o=s.strings.prefix.slice(0,1),u=i(n)||i(s),l="number"==typeof r||"number"==typeof o;if(!u&&!l&&y[o]&&!l){var c=o===n.strings.suffix.slice(-1),h=!n.strings.suffix&&"string"==typeof n.blobs&&n.blobs.slice(-1)===o;c||h?s.strings.prefix=s.strings.prefix.slice(1):a(n,"suffix",s,"prefix")}}}function c(u,l){if(u.blobs&&"string"==typeof u.blobs)return void(y[u.strings.suffix.slice(0,1)]&&u.strings.suffix.slice(0,1)===u.blobs.slice(-1)&&(u.strings.suffix=u.strings.suffix.slice(1)));if("object"==typeof u&&"object"==typeof u.blobs&&u.blobs.length){for(var c=u.strings,h=!1,f=0,p=u.blobs.length;p>f;f++)if(e(u.blobs[f])){h=!0;break}if(c.delimiter&&y[c.delimiter.slice(0,1)]){for(var d=c.delimiter.slice(0,1),f=u.blobs.length-2;f>-1;f--){var m=u.blobs[f].strings;m.suffix.slice(-1)!==d&&(m.suffix+=d)}c.delimiter=c.delimiter.slice(1)}for(var f=(i(u,!0),e(u),u.blobs.length-1);f>-1;f--){var g=u.blobs[f],m=u.blobs[f].strings,v=i(g,!0),b=e(g);if(f===u.blobs.length-1){var S=c.suffix.slice(0,1),x=!1;y[S]&&(x=s(S,g),!x&&t&&(x=r(g))),x&&y[S]&&(n(g)||("string"==typeof g.blobs?a(g,"blobs",u,"suffix"):a(g,"suffix",u,"suffix"),"."===c.suffix.slice(0,1)&&(m.suffix+=c.suffix.slice(0,1),c.suffix=c.suffix.slice(1)))),""===m.suffix.slice(-1)&&" "===c.suffix.slice(0,1)&&(c.suffix=c.suffix.slice(1)),_[m.suffix.slice(0,1)]&&("string"==typeof g.blobs&&g.blobs.slice(-1)===m.suffix.slice(0,1)&&(m.suffix=m.suffix.slice(1)),m.suffix.slice(-1)===c.suffix.slice(0,1)&&(c.suffix=c.suffix.slice(0,-1))),o(u,u.strings.suffix.slice(0,1))&&(u.strings.suffix=u.strings.suffix.slice(1))}else if(c.delimiter)_[c.delimiter.slice(0,1)]&&c.delimiter.slice(0,1)===m.suffix.slice(-1)&&(u.blobs[f].strings.suffix=u.blobs[f].strings.suffix.slice(0,-1));else{var C=u.blobs[f+1].strings;e(g)||v||!_[m.suffix.slice(-1)]||m.suffix.slice(-1)!==C.prefix.slice(0,1)||(C.prefix=C.prefix.slice(1))}b||v||!y[m.suffix.slice(0,1)]||"string"!=typeof g.blobs||a(g,"blobs",g,"suffix"),this.downward(u.blobs[f])}}}function h(t){var e=t.strings.suffix.slice(0,1);if("string"==typeof t.blobs)for(;v[e];)a(t,"blobs",t,"suffix"),e=t.strings.suffix.slice(0,1);else for(;v[e];)a(t.blobs[t.blobs.length-1],"suffix",t,"suffix"),e=t.strings.suffix.slice(0,1)}function f(t){if("string"==typeof t.blobs)for(var e=t.blobs.slice(-1);b[e];)a(t,"blobs",t,"suffix",!0),e=t.blobs.slice(-1);else for(var e=t.blobs[t.blobs.length-1].strings.suffix.slice(-1);b[e];)a(t.blobs[t.blobs.length-1],"suffix",t,"suffix",!0),e=t.blobs[t.blobs.length-1].strings.suffix.slice(-1)}function p(e){if("object"==typeof e&&"object"==typeof e.blobs&&e.blobs.length){for(var n,i=0,r=e.blobs.length;r>i;i++){for(var s=e.blobs[i],o=!1,a=0,u=s.decorations.length;u>a;a++){var l=s.decorations[a];"@quotes"===l[0]&&"false"!==l[1]&&(o=!0)}o&&(t?h(s):f(s)),n=this.fix(e.blobs[i]),s.blobs&&"string"==typeof s.blobs&&(n=s.blobs.slice(-1))}return n}}var d={";":!0,":":!0},m={".":!0,"!":!0,"?":!0};this.upward=u,this.leftward=l,this.downward=c,this.fix=p;var g={"!":{".":"!","?":"!?",":":"!",",":"!,",";":"!;"},"?":{"!":"?!",".":"?",":":"?",",":"?,",";":"?;"},".":{"!":".!","?":".?",":":".:",",":".,",";":".;"},":":{"!":"!","?":"?",".":":",",":":,",";":":;"},",":{"!":",!","?":",?",":":",:",".":",.",";":",;"},";":{"!":"!","?":"?",":":";",",":";,",".":";"}},v={},b={},y={},_={};for(var S in g)y[S]=!0,_[S]=!0,d[S]||(v[S]=!0),m[S]||(b[S]=!0);_[" "]=!0,_[""]=!0;var x={};for(var S in g)for(var C in g[S])x[C]||(x[C]={}),x[C][S]=g[S][C]},CSL.Engine.Opt=function(){this.has_disambiguate=!1,this.mode="html",this.dates={},this.jurisdictions_seen={},this.suppressedJurisdictions={},this.inheritedAttributes={},this["locale-sort"]=[],this["locale-translit"]=[],this["locale-translat"]=[],this.citeAffixes={persons:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},institutions:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},titles:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},journals:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},publishers:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},places:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}}},this["default-locale"]=[],this.update_mode=CSL.NONE,this.bib_mode=CSL.NONE,this.sort_citations=!1,this["et-al-min"]=0,this["et-al-use-first"]=1,this["et-al-use-last"]=!1,this["et-al-subsequent-min"]=!1,this["et-al-subsequent-use-first"]=!1,this["demote-non-dropping-particle"]="display-and-sort",this["parse-names"]=!0,this.citation_number_slug=!1,this.trigraph="Aaaa00:AaAa00:AaAA00:AAAA00",this.nodenames=[],this.gender={},this["cite-lang-prefs"]={persons:["orig"],institutions:["orig"],titles:["orig","translat"],journals:["translit"],publishers:["orig"],places:["orig"],number:["translat"]},this.has_layout_locale=!1,this.development_extensions={},this.development_extensions.field_hack=!0,this.development_extensions.allow_field_hack_date_override=!0,this.development_extensions.locator_date_and_revision=!0,this.development_extensions.locator_parsing_for_plurals=!0,this.development_extensions.locator_label_parse=!0,this.development_extensions.raw_date_parsing=!0,this.development_extensions.clean_up_csl_flaws=!0,this.development_extensions.flip_parentheses_to_braces=!0,this.development_extensions.jurisdiction_subfield=!0,this.development_extensions.static_statute_locator=!1,this.development_extensions.csl_reverse_lookup_support=!1,this.development_extensions.clobber_locator_if_no_statute_section=!1,this.development_extensions.wrap_url_and_doi=!1,this.development_extensions.allow_force_lowercase=!1,this.development_extensions.handle_parallel_articles=!1,this.development_extensions.thin_non_breaking_space_html_hack=!1,this.development_extensions.apply_citation_wrapper=!1,this.development_extensions.main_title_from_short_title=!1,this.development_extensions.uppercase_subtitles=!1,this.development_extensions.normalize_lang_keys_to_lowercase=!1,this.development_extensions.strict_text_case_locales=!1,this.development_extensions.rtl_support=!1,this.development_extensions.expect_and_symbol_form=!1,this.development_extensions.require_explicit_legal_case_title_short=!1,this.development_extensions.spoof_institutional_affiliations=!1,this.development_extensions.force_jurisdiction=!1,this.development_extensions.parse_names=!0},CSL.Engine.Tmp=function(){this.names_max=new CSL.Stack,this.names_base=new CSL.Stack,this.givens_base=new CSL.Stack,this.value=[],this.namepart_decorations={},this.namepart_type=!1,this.area="citation",this.root="citation",this.extension="",this.can_substitute=new CSL.Stack(0,CSL.LITERAL),this.element_rendered_ok=!1,this.element_trace=new CSL.Stack("style"),this.nameset_counter=0,this.group_context=new CSL.Stack({term_intended:!1,variable_attempt:!1,variable_success:!1,output_tip:void 0,label_form:void 0,parallel_conditions:void 0,condition:!1,force_suppress:!1,done_vars:[]}),this.term_predecessor=!1,this.in_cite_predecessor=!1,this.jump=new CSL.Stack(0,CSL.LITERAL),this.decorations=new CSL.Stack,this.tokenstore_stack=new CSL.Stack,this.last_suffix_used="",this.last_names_used=[],this.last_years_used=[],this.years_used=[],this.names_used=[],this.taintedItemIDs={},this.taintedCitationIDs={},this.initialize_with=new CSL.Stack,this.disambig_request=!1,this["name-as-sort-order"]=!1,this.suppress_decorations=!1,this.disambig_settings=new CSL.AmbigConfig,this.bib_sort_keys=[],this.prefix=new CSL.Stack("",CSL.LITERAL),this.suffix=new CSL.Stack("",CSL.LITERAL),this.delimiter=new CSL.Stack("",CSL.LITERAL),this.cite_locales=[],this.cite_affixes={citation:!1,bibliography:!1,citation_sort:!1,bibliography_sort:!1},this.strip_periods=0,this.shadow_numbers={},this.authority_stop_last=0,this.loadedItemIDs={}},CSL.Engine.Fun=function(t){this.match=new CSL.Util.Match,this.suffixator=new CSL.Util.Suffixator(CSL.SUFFIX_CHARS),this.romanizer=new CSL.Util.Romanizer,this.ordinalizer=new CSL.Util.Ordinalizer(t),this.long_ordinalizer=new CSL.Util.LongOrdinalizer},CSL.Engine.Build=function(){this["alternate-term"]=!1,this.in_bibliography=!1,this.in_style=!1,this.skip=!1,this.postponed_macro=!1,this.layout_flag=!1,this.name=!1,this.form=!1,this.term=!1,this.macro={},this.macro_stack=[],this.text=!1,this.lang=!1,this.area="citation",this.root="citation",this.extension="",this.substitute_level=new CSL.Stack(0,CSL.LITERAL),this.names_level=0,this.render_nesting_level=0,this.render_seen=!1},CSL.Engine.Configure=function(){this.fail=[],this.succeed=[]},CSL.Engine.Citation=function(t){this.opt={inheritedAttributes:{}},this.tokens=[],this.srt=new CSL.Registry.Comparifier(t,"citation_sort"),this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="citation"},CSL.Engine.Bibliography=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt["line-spacing"]=1,this.opt["entry-spacing"]=1,this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="bibliography"},CSL.Engine.BibliographySort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.keys=[],this.opt.topdecor=[],this.root="bibliography"},CSL.Engine.CitationSort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.keys=[],this.opt.topdecor=[],this.root="citation"},CSL.Engine.prototype.previewCitationCluster=function(t,e,n,i){var r=this.opt.mode;this.setOutputFormat(i);var s=this.processCitationCluster(t,e,n,CSL.PREVIEW);return this.setOutputFormat(r),s[1]},CSL.Engine.prototype.appendCitationCluster=function(t){for(var e=[],n=this.registry.citationreg.citationByIndex.length,i=0;n>i;i+=1){var r=this.registry.citationreg.citationByIndex[i];e.push([""+r.citationID,r.properties.noteIndex])}return this.processCitationCluster(t,e,[])[1]},CSL.Engine.prototype.processCitationCluster=function(t,e,n,i){var r,s,o,a,u,l,c,h,f,p,d,m,g,v,b,y;this.debug=!1,this.tmp.loadedItemIDs={},this.tmp.citation_errors=[];var _={bibchange:!1};this.setCitationId(t);var S,x,C;if(i===CSL.PREVIEW){S=this.registry.citationreg.citationByIndex.slice(),x=this.registry.reflist.slice();var $=e.concat([[""+t.citationID,t.properties.noteIndex]]).concat(n),w={},L=[];for(s=0,o=$.length;o>s;s+=1)for(r=this.registry.citationreg.citationById[$[s][0]],a=0,u=r.citationItems.length;u>a;a+=1)w[r.citationItems[a].id]=!0,L.push(""+r.citationItems[a].id);for(C={},s=0,o=x.length;o>s;s+=1)if(!w[x[s].id]){var T=this.registry.registry[x[s].id].ambig,k=this.registry.ambigcites[T];if(k)for(a=0,u=k.length;u>a;a+=1)C[k[a]]=CSL.cloneAmbigConfig(this.registry.registry[k[a]].disambig)}}this.tmp.taintedCitationIDs={};var A=[],E={};for(s=0,o=t.citationItems.length;o>s;s+=1){m={};for(p in t.citationItems[s])m[p]=t.citationItems[s][p];if(d=this.retrieveItem(""+m.id),d.id&&this.transform.loadAbbreviation("default","hereinafter",d.id),m=CSL.parseLocator.call(this,m),this.opt.development_extensions.static_statute_locator&&this.remapSectionVariable([[d,m]]),this.opt.development_extensions.locator_label_parse&&m.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(d.type)&&(!m.label||"page"===m.label)&&(b=CSL.LOCATOR_LABELS_REGEXP.exec(m.locator))){var O=CSL.LOCATOR_LABELS_MAP[b[2]];this.getTerm(O)&&(m.label=O,m.locator=b[3])}var I=[d,m];A.push(I),t.citationItems[s].item=d}t.sortedItems=A;var N=[];for(s=0,o=e.length;o>s;s+=1)r=e[s],this.registry.citationreg.citationById[r[0]].properties.noteIndex=r[1],N.push(this.registry.citationreg.citationById[r[0]]);for(N.push(t),s=0,o=n.length;o>s;s+=1)r=n[s],this.registry.citationreg.citationById[r[0]].properties.noteIndex=r[1],N.push(this.registry.citationreg.citationById[r[0]]);this.registry.citationreg.citationByIndex=N,this.registry.citationreg.citationsByItemId={},this.opt.update_mode===CSL.POSITION&&(v=[],g=[],y={});var D=[];for(s=0,o=N.length;o>s;s+=1){for(N[s].properties.index=s,a=0,u=N[s].sortedItems.length;u>a;a+=1)m=N[s].sortedItems[a],this.registry.citationreg.citationsByItemId[m[1].id]||(this.registry.citationreg.citationsByItemId[m[1].id]=[],D.push(""+m[1].id)),-1===this.registry.citationreg.citationsByItemId[m[1].id].indexOf(N[s])&&this.registry.citationreg.citationsByItemId[m[1].id].push(N[s]);this.opt.update_mode===CSL.POSITION&&(N[s].properties.noteIndex?g.push(N[s]):(N[s].properties.noteIndex=0,v.push(N[s])))}if(i!==CSL.ASSUME_ALL_ITEMS_REGISTERED&&this.updateItems(D,null,null,!0),!this.opt.citation_number_sort&&A&&A.length>1&&this.citation_sort.tokens.length>0){for(s=0,o=A.length;o>s;s+=1)A[s][1].sortkeys=CSL.getSortKeys.call(this,A[s][0],"citation_sort");if(this.opt.grouped_sort&&!t.properties.unsorted){for(s=0,o=A.length;o>s;s+=1){var R=A[s][1].sortkeys;this.tmp.authorstring_request=!0;var j=this.registry.registry[A[s][0].id].disambig;this.tmp.authorstring_request=!0,CSL.getAmbiguousCite.call(this,A[s][0],j);var M=this.registry.authorstrings[A[s][0].id];this.tmp.authorstring_request=!1,A[s][1].sortkeys=[M].concat(R)}A.sort(this.citation.srt.compareCompositeKeys);var P=!1,U=!1,F=!1;for(s=0,o=A.length;o>s;s+=1)A[s][1].sortkeys[0]!==P&&(F=A[s][1].sortkeys[0],U=A[s][1].sortkeys[1]),A[s][1].sortkeys[0]=""+U+s,P=F}t.properties.unsorted||A.sort(this.citation.srt.compareCompositeKeys)}var q;if(this.opt.update_mode===CSL.POSITION)for(s=0;2>s;s+=1){q=[v,g][s];var B={},V={};for(a=0,u=q.length;u>a;a+=1){var H=q[a];for(q[a].properties.noteIndex||(q[a].properties.noteIndex=0),q[a].properties.noteIndex=parseInt(q[a].properties.noteIndex,10),a>0&&q[a-1].properties.noteIndex>q[a].properties.noteIndex&&(y={},B={},V={}),l=0,c=H.sortedItems.length;c>l;l+=1)this.registry.registry[H.sortedItems[l][1].id].parallel||(y[H.properties.noteIndex]?y[H.properties.noteIndex]+=1:y[H.properties.noteIndex]=1);for(l=0,c=q[a].sortedItems.length;c>l;l+=1){m=q[a].sortedItems[l];var z=m[0].id,G=m[1].locator,W=m[1].label;m[0].legislation_id&&(z=m[0].legislation_id);var X;if(l>0&&(X=H.sortedItems[l-1][0].legislation_id?H.sortedItems[l-1][0].legislation_id:H.sortedItems[l-1][1].id),i!==CSL.PREVIEW||H.citationID==t.citationID){var Y={};if(Y.position=m[1].position,Y["first-reference-note-number"]=m[1]["first-reference-note-number"],Y["near-note"]=m[1]["near-note"],m[1]["first-reference-note-number"]=0,m[1]["near-note"]=!1,this.registry.citationreg.citationsByItemId[z]&&"note"===this.opt.xclass&&this.opt.has_disambiguate){var K=this.registry.registry[z]["citation-count"],Q=this.registry.citationreg.citationsByItemId[z].length;if(this.registry.registry[z]["citation-count"]=this.registry.citationreg.citationsByItemId[z].length,"number"==typeof K){var J=2>K,Z=2>Q;if(J!==Z)for(var tt=0,et=this.registry.citationreg.citationsByItemId[z].length;et>tt;tt++)E[this.registry.registry[z].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[z][tt].citationID]=!0}else for(var tt=0,et=this.registry.citationreg.citationsByItemId[z].length;et>tt;tt++)E[this.registry.registry[z].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[z][tt].citationID]=!0}var nt;if("undefined"==typeof B[z])B[z]=H.properties.noteIndex,this.registry.registry[z]&&(this.registry.registry[z]["first-reference-note-number"]=H.properties.noteIndex),V[z]=H.properties.noteIndex,m[1].position=CSL.POSITION_FIRST;else{var it=!1,rt=!1;if(a>0&&(nt=q[a-1].sortedItems.slice(-1)[0][1].id,q[a-1].sortedItems[0].slice(-1)[0].legislation_id&&(nt=q[a-1].sortedItems[0].slice(-1)[0].legislation_id)),a>0&&0===parseInt(l,10)&&q[a-1].properties.noteIndex!==q[a].properties.noteIndex){var st=q[a-1].sortedItems,ot=!1,at=q[a-1].sortedItems[0][0].id;for(q[a-1].sortedItems[0][0].legislation_id&&(at=q[a-1].sortedItems[0][0].legislation_id),(at==z&&q[a-1].properties.noteIndex>=q[a].properties.noteIndex-1||q[a-1].sortedItems[0][1].id==this.registry.registry[m[1].id].parallel)&&(1===y[q[a-1].properties.noteIndex]||0===q[a-1].properties.noteIndex)&&(ot=!0),h=0,f=st.slice(1).length;f>h;h+=1){var ut=st.slice(1)[h];this.registry.registry[ut[1].id].parallel&&this.registry.registry[ut[1].id].parallel!=this.registry.registry[ut[1].id]||(ot=!1)}ot?it=!0:rt=!0}else l>0&&X==z?it=!0:0===l&&q[a-1].properties.noteIndex==q[a].properties.noteIndex&&q[a-1].sortedItems.length&&nt==z?it=!0:rt=!0;var lt,ct,ht,ft,pt;if(it&&(lt=l>0?H.sortedItems[l-1][1]:q[a-1].sortedItems[0][1],lt.locator?(ht=lt.label?lt.label:"",ct=""+lt.locator+ht):ct=lt.locator,G?(pt=W?W:"",ft=""+G+pt):ft=G),it&&ct&&!ft&&(it=!1,rt=!0),it&&(!ct&&ft?m[1].position=CSL.POSITION_IBID_WITH_LOCATOR:ct||ft?ct&&ft===ct?m[1].position=CSL.POSITION_IBID:ct&&ft&&ft!==ct?m[1].position=CSL.POSITION_IBID_WITH_LOCATOR:(it=!1,rt=!0):m[1].position=CSL.POSITION_IBID),rt&&(m[1].position=CSL.POSITION_SUBSEQUENT),(rt||it)&&B[z]!=H.properties.noteIndex&&(m[1]["first-reference-note-number"]=B[z],this.registry.registry[z])){var dt=this.registry.citationreg.citationsByItemId[z][0].properties.noteIndex,mt=H.properties.noteIndex;this.registry.registry[z]["first-reference-note-number"]=dt>mt?mt:dt}}if(H.properties.noteIndex){var gt=parseInt(H.properties.noteIndex,10)-parseInt(V[z],10);m[1].position!==CSL.POSITION_FIRST&&gt<=this.citation.opt["near-note-distance"]&&(m[1]["near-note"]=!0),V[z]=H.properties.noteIndex}if(H.citationID!=t.citationID)for(h=0,f=CSL.POSITION_TEST_VARS.length;f>h;h+=1){var vt=CSL.POSITION_TEST_VARS[h];m[1][vt]!==Y[vt]&&(this.registry.registry[z]&&"first-reference-note-number"===vt&&(E[this.registry.registry[z].ambig]=!0,this.tmp.taintedItemIDs[z]=!0),this.tmp.taintedCitationIDs[H.citationID]=!0)}this.sys.variableWrapper&&(m[1].index=H.properties.index,m[1].noteIndex=H.properties.noteIndex)}else"undefined"==typeof B[m[1].id]?(B[z]=H.properties.noteIndex,V[z]=H.properties.noteIndex):V[z]=H.properties.noteIndex}}}if(this.opt.citation_number_sort&&A&&A.length>1&&this.citation_sort.tokens.length>0&&!t.properties.unsorted){for(s=0,o=A.length;o>s;s+=1)A[s][1].sortkeys=CSL.getSortKeys.call(this,A[s][0],"citation_sort");A.sort(this.citation.srt.compareCompositeKeys)}for(p in this.tmp.taintedItemIDs)if(this.tmp.taintedItemIDs.hasOwnProperty(p)&&(q=this.registry.citationreg.citationsByItemId[p]))for(s=0,o=q.length;o>s;s+=1)this.tmp.taintedCitationIDs[q[s].citationID]=!0;var bt=[];if(i===CSL.PREVIEW){try{bt=this.process_CitationCluster.call(this,t.sortedItems,t.citationID)}catch(yt){CSL.error("Error running CSL processor for preview: "+yt)}for(this.registry.citationreg.citationByIndex=S,this.registry.citationreg.citationById={},s=0,o=S.length;o>s;s+=1)this.registry.citationreg.citationById[S[s].citationID]=S[s];var _t=[];for(s=0,o=x.length;o>s;s+=1)_t.push(""+x[s].id);this.updateItems(_t,null,null,!0);for(p in C)C.hasOwnProperty(p)&&(this.registry.registry[p].disambig=C[p])}else{for(var St in E)this.disambiguate.run(St,t);var xt;for(p in this.tmp.taintedCitationIDs)if(p!=t.citationID){var Ct=this.registry.citationreg.citationById[p];if(!Ct.properties.unsorted){for(s=0,o=Ct.sortedItems.length;o>s;s+=1)Ct.sortedItems[s][1].sortkeys=CSL.getSortKeys.call(this,Ct.sortedItems[s][0],"citation_sort");Ct.sortedItems.sort(this.citation.srt.compareCompositeKeys);
}this.tmp.citation_pos=Ct.properties.index,this.tmp.citation_note_index=Ct.properties.noteIndex,this.tmp.citation_id=""+Ct.citationID,xt=[],xt.push(Ct.properties.index),xt.push(this.process_CitationCluster.call(this,Ct.sortedItems,Ct.citationID)),xt.push(Ct.citationID),bt.push(xt)}this.tmp.taintedItemIDs={},this.tmp.taintedCitationIDs={},this.tmp.citation_pos=t.properties.index,this.tmp.citation_note_index=t.properties.noteIndex,this.tmp.citation_id=""+t.citationID,xt=[],xt.push(e.length),xt.push(this.process_CitationCluster.call(this,A,t.citationID)),xt.push(t.citationID),bt.push(xt),bt.sort(function(t,e){return t[0]>e[0]?1:t[0]<e[0]?-1:0})}return _.citation_errors=this.tmp.citation_errors.slice(),[_,bt]},CSL.Engine.prototype.process_CitationCluster=function(t,e){var n;return this.parallel.StartCitation(t),n=CSL.getCitationCluster.call(this,t,e)},CSL.Engine.prototype.makeCitationCluster=function(t){var e,n,i,r,s,o,a;for(e=[],s=t.length,r=0;s>r;r+=1){o={};for(var u in t[r])o[u]=t[r][u];if(a=this.retrieveItem(""+o.id),this.opt.development_extensions.locator_label_parse&&o.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(a.type)&&(!o.label||"page"===o.label)){var l=CSL.LOCATOR_LABELS_REGEXP.exec(o.locator);if(l){var c=CSL.LOCATOR_LABELS_MAP[l[2]];this.getTerm(c)&&(o.label=c,o.locator=l[3])}}o.locator&&(o.locator=(""+o.locator).replace(/\s+$/,"")),n=[a,o],e.push(n)}if(this.opt.development_extensions.static_statute_locator&&this.remapSectionVariable(e),e&&e.length>1&&this.citation_sort.tokens.length>0){for(s=e.length,r=0;s>r;r+=1)e[r][1].sortkeys=CSL.getSortKeys.call(this,e[r][0],"citation_sort");e.sort(this.citation.srt.compareCompositeKeys)}return this.tmp.citation_errors=[],this.parallel.StartCitation(e),i=CSL.getCitationCluster.call(this,e)},CSL.getAmbiguousCite=function(t,e,n,i){var r,s=this.tmp.group_context.tip,o={term_intended:s.term_intended,variable_attempt:s.variable_attempt,variable_success:s.variable_success,output_tip:s.output_tip,label_form:s.label_form,parallel_conditions:s.parallel_conditions,condition:s.condition,force_suppress:s.force_suppress,done_vars:s.done_vars.slice()};e?this.tmp.disambig_request=e:this.tmp.disambig_request=!1;var a={position:1,"near-note":!0};i&&(a.locator=i.locator,a.label=i.label),this.registry.registry[t.id]&&this.registry.citationreg.citationsByItemId&&this.registry.citationreg.citationsByItemId[t.id]&&this.registry.citationreg.citationsByItemId[t.id].length&&n&&"by-cite"===this.citation.opt["givenname-disambiguation-rule"]&&(a["first-reference-note-number"]=this.registry.registry[t.id]["first-reference-note-number"]),this.tmp.area="citation",this.tmp.root="citation",this.parallel.use_parallels=this.parallel.use_parallels===!0||null===this.parallel.use_parallels?null:!1,this.tmp.suppress_decorations=!0,this.tmp.just_looking=!0,CSL.getCite.call(this,t,a,null,!1);for(var u=0,l=this.output.queue.length;l>u;u+=1)CSL.Output.Queue.purgeEmptyBlobs(this.output.queue[u]);if(this.opt.development_extensions.clean_up_csl_flaws)for(var c=0,h=this.output.queue.length;h>c;c+=1)this.output.adjust.upward(this.output.queue[c]),this.output.adjust.leftward(this.output.queue[c]),this.output.adjust.downward(this.output.queue[c]),this.output.adjust.fix(this.output.queue[c]);return r=this.output.string(this,this.output.queue),this.tmp.just_looking=!1,this.tmp.suppress_decorations=!1,this.parallel.use_parallels=null===this.parallel.use_parallels?!0:!1,this.tmp.group_context.replace(o),r},CSL.getSpliceDelimiter=function(t,e){if(t&&!this.tmp.have_collapsed&&"string"==typeof this.citation.opt["after-collapse-delimiter"])this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"];else if(this.tmp.use_cite_group_delimiter)this.tmp.splice_delimiter=this.citation.opt.cite_group_delimiter;else if(this.tmp.have_collapsed&&"in-text"===this.opt.xclass&&this.opt.update_mode!==CSL.NUMERIC)this.tmp.splice_delimiter=", ";else if(this.tmp.cite_locales[e-1]){var n=this.tmp.cite_affixes[this.tmp.area][this.tmp.cite_locales[e-1]];n&&n.delimiter&&(this.tmp.splice_delimiter=n.delimiter)}return this.tmp.splice_delimiter},CSL.getCitationCluster=function(t,e){var n,i,r,s,o,a,u,l,c,h,f,p,d,m,g,v,b,y,_;t=t?t:[],this.tmp.last_primary_names_string=!1,y=CSL.getSafeEscape(this),this.tmp.area="citation",this.tmp.root="citation",n="",i=[],this.tmp.last_suffix_used="",this.tmp.last_names_used=[],this.tmp.last_years_used=[],this.tmp.backref_index=[],this.tmp.cite_locales=[],this.output.checkNestedBrace=new CSL.checkNestedBrace(this);var S=this.output.checkNestedBrace.update(this.citation.opt.layout_prefix),x=!1;if("note"===this.opt.xclass&&this.citation.opt.suppressTrailingPunctuation&&(x=!0),e&&this.registry.citationreg.citationById[e].properties["suppress-trailing-punctuation"]&&(x=!0),"note"===this.opt.xclass){for(var C=[],$=!1,w=!1,L=!1,T=[],k=0,A=t.length;A>k;k+=1){var E=t[k][0].type,O=t[k][0].title,I=t[k][1].position,N=t[k][0].id;O&&"legal_case"===E&&N!==L&&I&&((O!==$||0===C.length)&&(T=[],C.push(T)),T.push(t[k][1])),$=O,w=I,L=N}for(k=0,A=C.length;A>k;k+=1)if(T=C[k],!(T.length<2)){var D=T.slice(-1)[0].locator;if(D)for(var R=0,j=T.length-1;j>R;R+=1)T[R].locator&&(D=!1);D&&(T[0].locator=D,delete T.slice(-1)[0].locator,T[0].label=T.slice(-1)[0].label,T.slice(-1)[0].label&&delete T.slice(-1)[0].label)}}for(r=[],s=t.length,o=0;s>o;o+=1){if(d=t[o][0],a=t[o][1],a=CSL.parseLocator.call(this,a),u=this.tmp.have_collapsed,l={},this.tmp.shadow_numbers={},!this.tmp.just_looking&&this.opt.hasPlaceholderTerm){var M=this.output;this.output=new CSL.Output.Queue(this),this.output.adjust=new CSL.Output.Queue.adjust,CSL.getAmbiguousCite.call(this,d,null,!1,a),this.output=M}if(this.tmp.in_cite_predecessor=!1,o>0?CSL.getCite.call(this,d,a,""+t[o-1][0].id,!0):(this.tmp.term_predecessor=!1,CSL.getCite.call(this,d,a,null,!0)),this.tmp.cite_renders_content||(_={citationID:""+this.tmp.citation_id,index:this.tmp.citation_pos,noteIndex:this.tmp.citation_note_index,itemID:""+d.id,citationItems_pos:o,error_code:CSL.ERROR_NO_RENDERED_FORM},this.tmp.citation_errors.push(_)),o===t.length-1&&this.parallel.ComposeSet(),l.splice_delimiter=CSL.getSpliceDelimiter.call(this,u,o),a&&a["author-only"]&&(this.tmp.suppress_decorations=!0),o>0){b=t[o-1][1];var P=b.suffix&&[".",","].indexOf(b.suffix.slice(-1))>-1,U=!b.suffix&&a.prefix&&[".",","].indexOf(a.prefix.slice(0,1))>-1;if(P||U){var F=l.splice_delimiter.indexOf(" ");F>-1&&!U?l.splice_delimiter=l.splice_delimiter.slice(F):l.splice_delimiter=""}}l.suppress_decorations=this.tmp.suppress_decorations,l.have_collapsed=this.tmp.have_collapsed,r.push(l)}this.tmp.has_purged_parallel=!1,this.parallel.PruneOutputQueue(this),c=0,p=this.output.queue.slice();var q=({strings:{suffix:this.citation.opt.layout_suffix,delimiter:this.citation.opt.layout_delimiter}},this.citation.opt.layout_suffix),B=this.tmp.cite_locales[this.tmp.cite_locales.length-1];B&&this.tmp.cite_affixes[this.tmp.area][B]&&this.tmp.cite_affixes[this.tmp.area][B].suffix&&(q=this.tmp.cite_affixes[this.tmp.area][B].suffix),CSL.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(q.slice(0,1))>-1&&(q=q.slice(0,1));var V=this.citation.opt.layout_delimiter;V||(V=""),CSL.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(V.slice(0,1))>-1&&(V=V.slice(0,1)),q=this.output.checkNestedBrace.update(q);for(var k=0,A=this.output.queue.length;A>k;k+=1)CSL.Output.Queue.purgeEmptyBlobs(this.output.queue[k]);if(!this.tmp.suppress_decorations&&this.output.queue.length&&(this.opt.development_extensions.apply_citation_wrapper&&this.sys.wrapCitationEntry&&!this.tmp.just_looking&&"citation"===this.tmp.area||(x||(this.output.queue[this.output.queue.length-1].strings.suffix=q),this.output.queue[0].strings.prefix=S)),this.opt.development_extensions.clean_up_csl_flaws)for(var R=0,j=this.output.queue.length;j>R;R+=1)this.output.adjust.upward(this.output.queue[R]),this.output.adjust.leftward(this.output.queue[R]),this.output.adjust.downward(this.output.queue[R]),this.tmp.last_chr=this.output.adjust.fix(this.output.queue[R]);for(o=0,s=p.length;s>o;o+=1){var H=[];if(this.output.queue=[p[o]],this.tmp.suppress_decorations=r[o].suppress_decorations,this.tmp.splice_delimiter=r[o].splice_delimiter,p[o].parallel_delimiter&&(this.tmp.splice_delimiter=p[o].parallel_delimiter),this.tmp.have_collapsed=r[o].have_collapsed,h=this.output.string(this,this.output.queue),this.tmp.suppress_decorations=!1,"string"==typeof h)return this.tmp.suppress_decorations=!1,h;if("object"==typeof h&&0===h.length&&!a["suppress-author"])if(this.tmp.has_purged_parallel)h.push("");else{var z="[CSL STYLE ERROR: reference with no printed form.]",G=0===o?y(this.citation.opt.layout_prefix):"",W=o===p.length-1?y(this.citation.opt.layout_suffix):"";h.push(G+z+W)}if(H.length&&"string"==typeof h[0]){h.reverse();var X=h.pop();X&&","===X.slice(0,1)?H.push(X):"string"==typeof H.slice(-1)[0]&&","===H.slice(-1)[0].slice(-1)?H.push(" "+X):X&&H.push(y(this.tmp.splice_delimiter)+X)}else h.reverse(),f=h.pop(),"undefined"!=typeof f&&(H.length&&"string"==typeof H[H.length-1]&&(H[H.length-1]+=f.successor_prefix),H.push(f));for(m=h.length,g=0;m>g;g+=1)v=h[g],"string"!=typeof v?(f=h.pop(),"undefined"!=typeof f&&H.push(f)):H.push(y(this.tmp.splice_delimiter)+v);0!==H.length||t[o][1]["suppress-author"]||(c+=1),H.length>1&&"string"!=typeof H[0]&&(H=[this.output.renderBlobs(H)]),H.length&&("string"==typeof H[0]?o>0&&(p.length-1>o&&r[o+1].have_collapsed&&!r[o].have_collapsed&&(this.tmp.splice_delimiter=r[o-1].splice_delimiter),H[0]=y(this.tmp.splice_delimiter)+H[0]):o>0?H[0].splice_prefix=this.tmp.splice_delimiter:H[0].splice_prefix=""),i=i.concat(H)}if(n+=this.output.renderBlobs(i),n&&!this.tmp.suppress_decorations)for(s=this.citation.opt.layout_decorations.length,o=0;s>o;o+=1)l=this.citation.opt.layout_decorations[o],"normal"!==l[1]&&(a&&a["author-only"]||(n=this.fun.decorate[l[0]][l[1]](this,n)));return this.tmp.suppress_decorations=!1,n},CSL.getCite=function(t,e,n,i){var r,s;for(this.tmp.cite_renders_content=!1,this.parallel.StartCite(t,e,n),CSL.citeStart.call(this,t,e,i),r=0,this.tmp.name_node={},this.nameOutput=new CSL.NameOutput(this,t,e);r<this[this.tmp.area].tokens.length;)r=CSL.tokenExec.call(this,this[this.tmp.area].tokens[r],t,e);return CSL.citeEnd.call(this,t,e),this.parallel.CloseCite(this),this.tmp.cite_renders_content||this.tmp.just_looking||"bibliography"===this.tmp.area&&(s={index:this.tmp.bibliography_pos,itemID:""+t.id,error_code:CSL.ERROR_NO_RENDERED_FORM},this.tmp.bibliography_errors.push(s)),""+t.id},CSL.citeStart=function(t,e,n){if(n||(this.tmp.shadow_numbers={}),this.tmp.disambiguate_count=0,this.tmp.disambiguate_maxMax=0,this.tmp.same_author_as_previous_cite=!1,this.tmp.suppress_decorations?this.tmp.subsequent_author_substitute_ok=!1:this.tmp.subsequent_author_substitute_ok=!0,this.tmp.lastchr="","citation"===this.tmp.area&&this.citation.opt.collapse&&this.citation.opt.collapse.length?this.tmp.have_collapsed=!0:this.tmp.have_collapsed=!1,this.tmp.render_seen=!1,this.tmp.disambig_request&&!this.tmp.disambig_override?this.tmp.disambig_settings=this.tmp.disambig_request:this.registry.registry[t.id]&&!this.tmp.disambig_override?(this.tmp.disambig_request=this.registry.registry[t.id].disambig,this.tmp.disambig_settings=this.registry.registry[t.id].disambig):this.tmp.disambig_settings=new CSL.AmbigConfig,"citation"!==this.tmp.area)if(this.registry.registry[t.id]){if(this.tmp.disambig_restore=CSL.cloneAmbigConfig(this.registry.registry[t.id].disambig),"bibliography"===this.tmp.area&&this.tmp.disambig_settings&&this.tmp.disambig_override&&(this.opt["disambiguate-add-names"]&&(this.tmp.disambig_settings.names=this.registry.registry[t.id].disambig.names.slice(),this.tmp.disambig_request.names=this.registry.registry[t.id].disambig.names.slice()),this.opt["disambiguate-add-givenname"])){this.tmp.disambig_request=this.tmp.disambig_settings,this.tmp.disambig_settings.givens=this.registry.registry[t.id].disambig.givens.slice(),this.tmp.disambig_request.givens=this.registry.registry[t.id].disambig.givens.slice();for(var i=0,r=this.tmp.disambig_settings.givens.length;r>i;i+=1)this.tmp.disambig_settings.givens[i]=this.registry.registry[t.id].disambig.givens[i].slice();for(var i=0,r=this.tmp.disambig_request.givens.length;r>i;i+=1)this.tmp.disambig_request.givens[i]=this.registry.registry[t.id].disambig.givens[i].slice()}}else this.tmp.disambig_restore=new CSL.AmbigConfig;this.tmp.names_used=[],this.tmp.nameset_counter=0,this.tmp.years_used=[],this.tmp.names_max.clear(),this.tmp.splice_delimiter=this[this.tmp.area].opt.layout_delimiter,this.bibliography_sort.keys=[],this.citation_sort.keys=[],this.tmp.has_done_year_suffix=!1,this.tmp.last_cite_locale=!1,!this.tmp.just_looking&&e&&!e.position&&this.registry.registry[t.id]&&(this.tmp.disambig_restore=CSL.cloneAmbigConfig(this.registry.registry[t.id].disambig)),this.tmp.first_name_string=!1,this.tmp.authority_stop_last=0},CSL.citeEnd=function(t,e){if(this.tmp.disambig_restore){this.registry.registry[t.id].disambig.names=this.tmp.disambig_restore.names.slice(),this.registry.registry[t.id].disambig.givens=this.tmp.disambig_restore.givens.slice();for(var n=0,i=this.registry.registry[t.id].disambig.givens.length;i>n;n+=1)this.registry.registry[t.id].disambig.givens[n]=this.tmp.disambig_restore.givens[n].slice()}if(this.tmp.disambig_restore=!1,e&&e.suffix?this.tmp.last_suffix_used=e.suffix:this.tmp.last_suffix_used="",this.tmp.last_years_used=this.tmp.years_used.slice(),this.tmp.last_names_used=this.tmp.names_used.slice(),this.tmp.cut_var=!1,this.tmp.disambig_request=!1,this.tmp.cite_locales.push(this.tmp.last_cite_locale),this.tmp.issued_date&&this.tmp.renders_collection_number){for(var r=[],n=this.tmp.issued_date.list.length-1;n>this.tmp.issued_date.pos;n+=-1)r.push(this.tmp.issued_date.list.pop());for(this.tmp.issued_date.list.pop(),n=r.length-1;n>-1;n+=-1)this.tmp.issued_date.list.push(r.pop());this.parallel.use_parallels&&(this.parallel.cite.issued=!1)}this.tmp.issued_date=!1,this.tmp.renders_collection_number=!1},CSL.Engine.prototype.makeBibliography=function(t){var e,n,i,r,s,o,a,u,l;if(e=!1,!this.bibliography.tokens.length)return!1;"string"==typeof t&&(this.opt.citation_number_slug=t,t=!1),n=CSL.getBibliographyEntries.call(this,t),u=n[0],l=n[1];var c=n[2];for(i={maxoffset:0,entryspacing:this.bibliography.opt["entry-spacing"],linespacing:this.bibliography.opt["line-spacing"],"second-field-align":!1,entry_ids:u,bibliography_errors:this.tmp.bibliography_errors.slice(),done:c},this.bibliography.opt["second-field-align"]&&(i["second-field-align"]=this.bibliography.opt["second-field-align"]),r=0,o=this.registry.reflist.length,a=0;o>a;a+=1)s=this.registry.reflist[a],s.offset>i.maxoffset&&(i.maxoffset=s.offset);return this.bibliography.opt.hangingindent&&(i.hangingindent=this.bibliography.opt.hangingindent),i.bibstart=this.fun.decorate.bibstart,i.bibend=this.fun.decorate.bibend,this.opt.citation_number_slug=!1,[i,l]},CSL.getBibliographyEntries=function(t){function e(t,e){return t===e?!0:!1}function n(t,n){for(p=n.length,d=0;p>d;d+=1)if(e(t,n[d]))return!0;return!1}function i(t,i){return"none"!==t&&t||i?"string"==typeof i?e(t,i):i?n(t,i):!1:!0}var r,s,o,a,u,l,c,h,f,p,d,m,g,v,b,y,_,S,x,C,$,w,L;r=[],$=[],this.tmp.area="bibliography",this.tmp.root="bibliography",this.tmp.last_rendered_name=!1,this.tmp.bibliography_errors=[],this.tmp.bibliography_pos=0,s=t&&t.page_start&&t.page_length?this.registry.getSortedIds():this.retrieveItems(this.registry.getSortedIds()),this.tmp.disambig_override=!0,S={};var T;if(t&&t.page_start&&t.page_length&&(T=0,t.page_start!==!0))for(b=0,y=s.length;y>b&&(S[s[b]]=!0,t.page_start!=s[b]);b+=1);var k=[];for(b=0,y=s.length;y>b;b+=1){if(t&&t.page_start&&t.page_length){if(S[s[b]])continue;if(h=this.retrieveItem(s[b]),T===t.page_length)break}else if(h=s[b],S[h.id])continue;if(t){if(o=!0,t.include){for(o=!1,w=0,L=t.include.length;L>w;w+=1)if(f=t.include[w],i(f.value,h[f.field])){o=!0;break}}else if(t.exclude){for(a=!1,w=0,L=t.exclude.length;L>w;w+=1)if(f=t.exclude[w],i(f.value,h[f.field])){a=!0;break}a&&(o=!1)}else if(t.select){for(o=!1,u=!0,w=0,L=t.select.length;L>w;w+=1)f=t.select[w],i(f.value,h[f.field])||(u=!1);u&&(o=!0)}if(t.quash){for(u=!0,w=0,L=t.quash.length;L>w;w+=1)f=t.quash[w],i(f.value,h[f.field])||(u=!1);u&&(o=!1)}if(!o)continue}if(l=new CSL.Token("group",CSL.START),l.decorations=[["@bibliography","entry"]].concat(this.bibliography.opt.layout_decorations),this.output.startTag("bib_entry",l),h.system_id&&this.sys.embedBibliographyEntry?this.output.current.value().item_id=h.system_id:this.output.current.value().system_id=h.id,x=[[{id:""+h.id},h]],g=[],!this.registry.registry[h.id].master||t&&t.page_start&&t.page_length)this.registry.registry[h.id].siblings||(this.parallel.StartCitation(x),this.tmp.term_predecessor=!1,g.push(""+CSL.getCite.call(this,h)),t&&t.page_start&&t.page_length&&(T+=1));else{for(v=!0,this.parallel.StartCitation(x),this.output.queue[0].strings.delimiter=", ",this.tmp.term_predecessor=!1,g.push(""+CSL.getCite.call(this,h)),S[h.id]=!0,_=this.registry.registry[h.id].siblings,w=0,L=_.length;L>w;w+=1){var A=this.registry.registry[h.id].siblings[w];C=this.retrieveItem(A),g.push(""+CSL.getCite.call(this,C)),S[C.id]=!0}this.parallel.ComposeSet(),this.parallel.PruneOutputQueue()}$.push(""),this.tmp.bibliography_pos+=1,k.push(g),this.output.endTag("bib_entry"),this.output.queue[0].blobs.length&&this.output.queue[0].blobs[0].blobs.length&&(v||!this.output.queue[0].blobs[0].blobs[0].strings?(m=this.output.queue[0].blobs,v=!1):m=this.output.queue[0].blobs[0].blobs,m[0].strings.prefix=this.bibliography.opt.layout_prefix+m[0].strings.prefix);for(var w=0,L=this.output.queue.length;L>w;w+=1)CSL.Output.Queue.purgeEmptyBlobs(this.output.queue[w]);for(var w=0,L=this.output.queue.length;L>w;w+=1)this.output.adjust.upward(this.output.queue[w]),this.output.adjust.leftward(this.output.queue[w]),this.output.adjust.downward(this.output.queue[w],!0),this.output.adjust.fix(this.output.queue[w]);c=this.output.string(this,this.output.queue)[0],c||(c="\n[CSL STYLE ERROR: reference with no printed form.]\n"),r.push(c)}var E=!1;if(t&&t.page_start&&t.page_length){var O=s.slice(-1)[0],I=k.slice(-1)[0];O&&I&&O!=I||(E=!0)}return this.tmp.disambig_override=!1,[k,r,E]},CSL.Engine.prototype.setCitationId=function(t,e){var n,i,r;if(n=!1,!t.citationID||e){for(i=Math.floor(1e14*Math.random());;){if(r=0,!this.registry.citationreg.citationById[i]){t.citationID=i.toString(32);break}r=!r&&5e13>i?1:-1,i+=1===r?1:-1}n=""+i}return this.registry.citationreg.citationById[t.citationID]=t,n},CSL.Engine.prototype.rebuildProcessorState=function(t,e,n){t||(t=[]),e||(e="html");for(var i={},r=[],s=0,o=t.length;o>s;s+=1)for(var a=0,u=t[s].citationItems.length;u>a;a+=1){var l=""+t[s].citationItems[a].id;i[l]||r.push(l),i[l]=!0}this.updateItems(r);var c=[],h=[],f=[],p=this.opt.mode;this.setOutputFormat(e);for(var s=0,o=t.length;o>s;s+=1){var d=this.processCitationCluster(t[s],c,h,CSL.ASSUME_ALL_ITEMS_REGISTERED);c.push([t[s].citationID,t[s].properties.noteIndex]);for(var a=0,u=d[1].length;u>a;a+=1){var m=d[1][a][0];f[m]=[c[m][0],c[m][1],d[1][a][1]]}}return this.updateUncitedItems(n),this.setOutputFormat(p),f},CSL.Engine.prototype.restoreProcessorState=function(t){var e,n,i,r,s,o,a,u,l,c;u=[],l=[],t||(t=[]);var h=[],f={};for(e=0,n=t.length;n>e;e+=1)f[t[e].citationID]&&this.setCitationId(t[e],!0),f[t[e].citationID]=!0,h.push(t[e].properties.index);var p=t.slice();for(p.sort(function(t,e){return t.properties.index<e.properties.index?-1:t.properties.index>e.properties.index?1:0}),e=0,n=p.length;n>e;e+=1)p[e].properties.index=e;for(e=0,n=p.length;n>e;e+=1){for(c=[],i=0,r=p[e].citationItems.length;r>i;i+=1)s=p[e].citationItems[i],"undefined"==typeof s.sortkeys&&(s.sortkeys=[]),o=this.retrieveItem(""+s.id),a=[o,s],c.push(a),p[e].citationItems[i].item=o,l.push(""+s.id);p[e].properties.unsorted||c.sort(this.citation.srt.compareCompositeKeys),p[e].sortedItems=c,this.registry.citationreg.citationById[p[e].citationID]=p[e]}for(this.updateItems(l),e=0,n=t.length;n>e;e+=1)u.push([""+t[e].citationID,t[e].properties.noteIndex]);var d=[];return t&&t.length?d=this.processCitationCluster(t[0],[],u.slice(1)):(this.registry=new CSL.Registry(this),this.tmp=new CSL.Engine.Tmp,this.disambiguate=new CSL.Disambiguation(this)),d},CSL.Engine.prototype.updateItems=function(t,e,n,i){var r=this.tmp.area,s=this.tmp.root,o=this.tmp.extension;if(this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",i||(this.tmp.loadedItemIDs={}),this.registry.init(t),n)for(var a in this.registry.ambigcites)this.registry.ambigsTouched[a]=!0;return this.registry.dodeletes(this.registry.myhash),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(),this.registry.setsortkeys(),this.registry.setdisambigs(),e||this.registry.sorttokens(),this.registry.renumber(),this.tmp.extension=o,this.tmp.area=r,this.tmp.root=s,this.registry.getSortedIds()},CSL.Engine.prototype.updateUncitedItems=function(t,e){var n=this.tmp.area,i=this.tmp.root,r=this.tmp.extension;if(this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",this.tmp.loadedItemIDs={},t||(t=[]),"object"==typeof t)if("undefined"==typeof t.length){var s=t;t=[];for(var o in s)t.push(o)}else if("number"==typeof t.length)for(var s={},a=0,u=t.length;u>a;a+=1)s[t[a]]=!0;return this.registry.init(t,!0),this.registry.dopurge(s),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(),this.registry.setsortkeys(),this.registry.setdisambigs(),e||this.registry.sorttokens(),this.registry.renumber(),this.tmp.extension=r,this.tmp.area=n,this.tmp.root=i,this.registry.getSortedIds()},CSL.localeResolve=function(t,e){var n,i;return e||(e="en-US"),t||(t=e),n={},i=t.split(/[\-_]/),n.base=CSL.LANG_BASES[i[0]],"undefined"==typeof n.base?{base:e,best:t,bare:i[0]}:(1===i.length&&(n.generic=!0),1===i.length||"x"===i[1]?n.best=n.base.replace("_","-"):n.best=i.slice(0,2).join("-"),n.base=n.base.replace("_","-"),n.bare=i[0],n)},CSL.Engine.prototype.localeConfigure=function(t,e){var n;if((!e||!this.locale[t.best])&&(n=CSL.setupXml(this.sys.retrieveLocale("en-US")),this.localeSet(n,"en-US",t.best),"en-US"!==t.best&&(t.base!==t.best&&(n=CSL.setupXml(this.sys.retrieveLocale(t.base)),this.localeSet(n,t.base,t.best)),n=CSL.setupXml(this.sys.retrieveLocale(t.best)),this.localeSet(n,t.best,t.best)),this.localeSet(this.cslXml,"",t.best),this.localeSet(this.cslXml,t.bare,t.best),t.base!==t.best&&this.localeSet(this.cslXml,t.base,t.best),this.localeSet(this.cslXml,t.best,t.best),"undefined"==typeof this.locale[t.best].terms["page-range-delimiter"]&&(["fr","pt"].indexOf(t.best.slice(0,2).toLowerCase())>-1?this.locale[t.best].terms["page-range-delimiter"]="-":this.locale[t.best].terms["page-range-delimiter"]=""),"undefined"==typeof this.locale[t.best].terms["year-range-delimiter"]&&(this.locale[t.best].terms["year-range-delimiter"]=""),"undefined"==typeof this.locale[t.best].terms["citation-range-delimiter"]&&(this.locale[t.best].terms["citation-range-delimiter"]=""),this.opt.development_extensions.normalize_lang_keys_to_lowercase)){for(var i=["default-locale","locale-sort","locale-translit","locale-translat"],r=0,s=i.length;s>r;r+=1)for(var o=0,a=this.opt[i[r]].length;a>o;o+=1)this.opt[i[r]][o]=this.opt[i[r]][o].toLowerCase();this.opt.lang=this.opt.lang.toLowerCase()}},CSL.Engine.prototype.localeSet=function(t,e,n){var i,r,s,o,a,u,l,c,h,f,p,d,m,g,v,b;if(e=e.replace("_","-"),n=n.replace("_","-"),this.opt.development_extensions.normalize_lang_keys_to_lowercase&&(e=e.toLowerCase(),n=n.toLowerCase()),this.locale[n]||(this.locale[n]={},this.locale[n].terms={},this.locale[n].opts={},this.locale[n].opts["skip-words"]=CSL.SKIP_WORDS,this.locale[n].opts["leading-noise-words"]||(this.locale[n].opts["leading-noise-words"]=[]),this.locale[n].dates={},this.locale[n].ord={"1.0.1":!1,keys:{}},this.locale[n]["noun-genders"]={}),r=t.makeXml(),t.nodeNameIs(t.dataObj,"locale"))r=t.dataObj;else for(s=t.getNodesByName(t.dataObj,"locale"),a=0,d=t.numberofnodes(s);d>a;a+=1)if(i=s[a],t.getAttributeValue(i,"lang","xml")===e){r=i;break}for(s=t.getNodesByName(r,"type"),v=0,b=t.numberofnodes(s);b>v;v+=1){var y=s[v],_=t.getAttributeValue(y,"name"),S=t.getAttributeValue(y,"gender");this.opt.gender[_]=S}var x=t.getNodesByName(r,"term","ordinal").length;if(x){for(var C in this.locale[n].ord.keys)delete this.locale[n].terms[C];this.locale[n].ord={"1.0.1":!1,keys:{}}}s=t.getNodesByName(r,"term");var $={"last-digit":{},"last-two-digits":{},"whole-number":{}},w=!1,L={};for(a=0,d=t.numberofnodes(s);d>a;a+=1){if(u=s[a],c=t.getAttributeValue(u,"name"),"sub verbo"===c&&(c="sub-verbo"),"ordinal"===c.slice(0,7)){t.getNodeValue(u);if("ordinal"===c)w=!0;else{var T=t.getAttributeValue(u,"match"),k=c.slice(8),m=t.getAttributeValue(u,"gender-form");m||(m="neuter"),T||(T="last-two-digits","0"===k.slice(0,1)&&(T="last-digit")),"0"===k.slice(0,1)&&(k=k.slice(1)),$[T][k]||($[T][k]={}),$[T][k][m]=c}this.locale[n].ord.keys[c]=!0}"undefined"==typeof this.locale[n].terms[c]&&(this.locale[n].terms[c]={}),l="long",m=!1,t.getAttributeValue(u,"form")&&(l=t.getAttributeValue(u,"form")),t.getAttributeValue(u,"gender-form")&&(m=t.getAttributeValue(u,"gender-form")),t.getAttributeValue(u,"gender")&&(this.locale[n]["noun-genders"][c]=t.getAttributeValue(u,"gender")),m?(this.locale[n].terms[c][m]={},this.locale[n].terms[c][m][l]=[],g=this.locale[n].terms[c][m],L[c]=!0):(this.locale[n].terms[c][l]=[],g=this.locale[n].terms[c]),t.numberofnodes(t.getNodesByName(u,"multiple"))?(g[l][0]=t.getNodeValue(u,"single"),g[l][0].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0),g[l][1]=t.getNodeValue(u,"multiple"),g[l][1].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0)):(g[l]=t.getNodeValue(u),g[l].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0))}if(w){for(var A in L){var E={},O=0;for(var I in this.locale[n].terms[A])["masculine","feminine"].indexOf(I)>-1?E[I]=this.locale[n].terms[A][I]:O+=1;if(!O)if(E.feminine)for(var I in E.feminine)this.locale[n].terms[A][I]=E.feminine[I];else if(E.masculine)for(var I in E.masculine)this.locale[n].terms[A][I]=E.masculine[I]}this.locale[n].ord["1.0.1"]=$}for(c in this.locale[n].terms)for(v=0,b=2;b>v;v+=1)if(m=CSL.GENDERS[v],this.locale[n].terms[c][m])for(l in this.locale[n].terms[c])this.locale[n].terms[c][m][l]||(this.locale[n].terms[c][m][l]=this.locale[n].terms[c][l]);for(s=t.getNodesByName(r,"style-options"),a=0,d=t.numberofnodes(s);d>a;a+=1){h=s[a],o=t.attributes(h);for(p in o)if(o.hasOwnProperty(p))if("@punctuation-in-quote"===p||"@limit-day-ordinals-to-day-1"===p)"true"===o[p]?this.locale[n].opts[p.slice(1)]=!0:this.locale[n].opts[p.slice(1)]=!1;else if("@jurisdiction-preference"===p){var N=o[p].split(/\s*,\s*/);this.locale[n].opts[p.slice(1)]=N}else if("@skip-words"===p){var D=o[p].split(/\s*,\s*/);this.locale[n].opts[p.slice(1)]=D}else if("@leading-noise-words"===p){var R=o[p].split(/\s*,\s*/);this.locale[n].opts["leading-noise-words"]=R}else if("@name-as-sort-order"===p){this.locale[n].opts["name-as-sort-order"]={};for(var j=o[p].split(/\s+/),v=0,b=j.length;b>v;v+=1)this.locale[n].opts["name-as-sort-order"][j[v]]=!0}else if("@name-as-reverse-order"===p){this.locale[n].opts["name-as-reverse-order"]={};for(var j=o[p].split(/\s+/),v=0,b=j.length;b>v;v+=1)this.locale[n].opts["name-as-reverse-order"][j[v]]=!0}else if("@name-never-short"===p){this.locale[n].opts["name-never-short"]={};for(var j=o[p].split(/\s+/),v=0,b=j.length;b>v;v+=1)this.locale[n].opts["name-never-short"][j[v]]=!0}}for(s=t.getNodesByName(r,"date"),a=0,d=t.numberofnodes(s);d>a;a+=1)f=s[a],this.locale[n].dates[t.getAttributeValue(f,"form")]=f},CSL.getLocaleNames=function(t,e){function n(t,e){var n=["base","best"];if(e){normalizedLocale=CSL.localeResolve(e);for(var i=0,r=n.length;r>i;i++)normalizedLocale[n[i]]&&-1===t.indexOf(normalizedLocale[n[i]])&&t.push(normalizedLocale[n[i]])}}function i(t){for(var e=r.getNodesByName(r.dataObj,t),n=0,i=e.length;i>n;n++){var o=r.getAttributeValue(e[n],"locale");if(o){o=o.split(/ +/);for(var a=0,u=o.length;u>a;a++)this.extendLocaleList(s,o[a])}}}var r=CSL.setupXml(t),s=["en-US"];n(s,e);var o=r.getNodesByName(r.dataObj,"style")[0],a=r.getAttributeValue(o,"default-locale");n(s,a);for(var u=["layout","if","else-if","condition"],l=0,c=u.length;c>l;l++)i(r,s,u[l]);return s},CSL.Node={},CSL.Node.bibliography={build:function(t,e){if(this.tokentype===CSL.START){t.build.area="bibliography",t.build.root="bibliography",t.build.extension="";var n=function(t,e){t.tmp.area="bibliography",t.tmp.root="bibliography",t.tmp.extension=""};this.execs.push(n)}e.push(this)}},CSL.Node.choose={build:function(t,e){var n;this.tokentype===CSL.START&&(n=function(t,e){t.tmp.jump.push(void 0,CSL.LITERAL)}),this.tokentype===CSL.END&&(n=function(t,e){t.tmp.jump.pop()}),this.execs.push(n),e.push(this)},configure:function(t,e){this.tokentype===CSL.END?(t.configure.fail.push(e),t.configure.succeed.push(e)):(t.configure.fail.pop(),t.configure.succeed.pop())}},CSL.Node.citation={build:function(t,e){if(this.tokentype===CSL.START){t.build.area="citation",t.build.root="citation",t.build.extension="";var n=function(t,e){t.tmp.area="citation",t.tmp.root="citation",t.tmp.extension=""};this.execs.push(n)}if(this.tokentype===CSL.END){if(t.opt.grouped_sort="in-text"===t.opt.xclass&&t.citation.opt.collapse&&t.citation.opt.collapse.length||t.citation.opt.cite_group_delimiter&&t.citation.opt.cite_group_delimiter.length&&t.opt.update_mode!==CSL.POSITION&&t.opt.update_mode!==CSL.NUMERIC,t.opt.grouped_sort&&t.citation_sort.opt.sort_directions.length){var i=t.citation_sort.opt.sort_directions[0].slice();t.citation_sort.opt.sort_directions=[i].concat(t.citation_sort.opt.sort_directions)}t.citation.srt=new CSL.Registry.Comparifier(t,"citation_sort")}e.push(this)}},CSL.Node["#comment"]={build:function(t,e){}},CSL.Node.date={build:function(t,e){var n,i,r,s,o,a,u,l,c,h;(this.tokentype===CSL.START||this.tokentype===CSL.SINGLETON)&&(t.build.date_parts=[],t.build.date_variables=this.variables,t.build.extension||CSL.Util.substituteStart.call(this,t,e),n=t.build.extension?CSL.dateMacroAsSortKey:function(t,e,n){var f;if(t.tmp.element_rendered_ok=!1,t.tmp.donesies=[],t.tmp.dateparts=[],f=[],!this.variables.length||t.tmp.just_looking&&"accessed"===this.variables[0])t.tmp.date_object=!1;else{for(i=e[this.variables[0]],"undefined"==typeof i&&(i={"date-parts":[[0]]},t.opt.development_extensions.locator_date_and_revision&&n&&"locator-date"===this.variables[0]&&n["locator-date"]&&(i=n["locator-date"])),t.tmp.date_object=i,r=this.dateparts.length,s=0;r>s;s+=1)o=this.dateparts[s],"undefined"!=typeof t.tmp.date_object[o+"_end"]?f.push(o):"month"===o&&"undefined"!=typeof t.tmp.date_object.season_end&&f.push(o);for(a=[],u=["year","month","day"],r=u.length,s=0;r>s;s+=1)f.indexOf(u[s])>-1&&a.push(u[s]);for(f=a.slice(),l=2,r=f.length,s=0;r>s;s+=1)if(o=f[s],c=t.tmp.date_object[o],h=t.tmp.date_object[o+"_end"],c!==h){l=s;break}t.tmp.date_collapse_at=f.slice(l)}},this.execs.push(n),n=function(t,e){if(e[this.variables[0]]&&(t.parallel.StartVariable(this.variables[0]),t.output.startTag("date",this),"issued"===this.variables[0]&&"legal_case"===e.type&&!t.tmp.extension&&""+e["collection-number"]==""+t.tmp.date_object.year&&1===this.dateparts.length&&"year"===this.dateparts[0]))for(var n in t.tmp.date_object)if(t.tmp.date_object.hasOwnProperty(n)&&"year"===n.slice(0,4)){t.tmp.issued_date={};var i=t.output.current.mystack.slice(-2)[0].blobs;t.tmp.issued_date.list=i,t.tmp.issued_date.pos=i.length-1}},this.execs.push(n)),t.build.extension||this.tokentype!==CSL.END&&this.tokentype!==CSL.SINGLETON||(n=function(t,e){e[this.variables[0]]&&(t.output.endTag(),t.parallel.CloseVariable(this.variables[0]))},this.execs.push(n)),e.push(this),(this.tokentype===CSL.END||this.tokentype===CSL.SINGLETON)&&(t.build.extension||CSL.Util.substituteEnd.call(this,t,e))}},CSL.Node["date-part"]={build:function(t,e){var n,i,r,s,o,a,u,l,c,h,f,p,d,m,g,v,b,y,_,S,x,C,$,w;
this.strings.form||(this.strings.form="long"),t.build.date_parts.push(this.strings.name);var L=t.build.date_variables[0];n=function(t,e){if(t.tmp.date_object){if(s=!0,o="",a="",t.tmp.donesies.push(this.strings.name),t.tmp.date_object.literal&&"year"===this.strings.name&&(t.parallel.AppendToVariable(t.tmp.date_object.literal),t.output.append(t.tmp.date_object.literal,this)),t.tmp.date_object&&(o=t.tmp.date_object[this.strings.name],a=t.tmp.date_object[this.strings.name+"_end"]),"year"!==this.strings.name||0!==o||t.tmp.suppress_decorations||(o=!1),u=!t.tmp.suppress_decorations,l=t.tmp.have_collapsed,c="year-suffix"===t[t.tmp.area].opt.collapse||"year-suffix-ranged"===t[t.tmp.area].opt.collapse,h=t.opt["disambiguate-add-year-suffix"],u&&h&&c&&(t.tmp.years_used.push(o),f=t.tmp.last_years_used.length>=t.tmp.years_used.length,f&&l&&t.tmp.last_years_used[t.tmp.years_used.length-1]===o&&(o=!1)),"undefined"!=typeof o){p=!1,d=!1,m=!1,g=!1,"year"===this.strings.name&&(parseInt(o,10)<500&&parseInt(o,10)>0&&(d=t.getTerm("ad")),parseInt(o,10)<0&&(p=t.getTerm("bc"),o=-1*parseInt(o,10)),a&&(parseInt(a,10)<500&&parseInt(a,10)>0&&(g=t.getTerm("ad")),parseInt(a,10)<0&&(m=t.getTerm("bc"),a=-1*parseInt(a,10)))),t.parallel.AppendToVariable(o);for(var n=""+t.tmp.date_object.month;n.length<2;)n="0"+n;n="month-"+n;var T=t.locale[t.opt.lang]["noun-genders"][n];if(this.strings.form){var k=this.strings.form;if("day"===this.strings.name&&"ordinal"===k&&t.locale[t.opt.lang].opts["limit-day-ordinals-to-day-1"]&&""+o!="1"&&(k="numeric"),o=CSL.Util.Dates[this.strings.name][k](t,o,T,this.default_locale),"month"===this.strings.name)if(t.tmp.strip_periods)o=o.replace(/\./g,"");else for($=0,w=this.decorations.length;w>$;$+=1)if("@strip-periods"===this.decorations[$][0]&&"true"===this.decorations[$][1]){o=o.replace(/\./g,"");break}if(a)if(a=CSL.Util.Dates[this.strings.name][k](t,a,T,"accessed"===L,"_end"),t.tmp.strip_periods)a=a.replace(/\./g,"");else for($=0,w=this.decorations.length;w>$;$+=1)if("@strip-periods"===this.decorations[$][0]&&"true"===this.decorations[$][1]){a=a.replace(/\./g,"");break}}if(t.output.openLevel("empty"),t.tmp.date_collapse_at.length){for(v=!0,r=t.tmp.date_collapse_at.length,i=0;r>i;i+=1)if(C=t.tmp.date_collapse_at[i],-1===t.tmp.donesies.indexOf(C)){v=!1;break}if(v){if(""+a!="0"){if(0===t.dateput.queue.length&&(s=!0),t.opt["year-range-format"]&&"expanded"!==t.opt["year-range-format"]&&!t.tmp.date_object.day&&!t.tmp.date_object.month&&!t.tmp.date_object.season&&"year"===this.strings.name&&o&&a){a=t.fun.year_mangler(o+"-"+a,!0);var A=t.getTerm("year-range-delimiter");a=a.slice(a.indexOf(A)+1)}t.dateput.append(a,this),s&&(t.dateput.current.value()[0].strings.prefix="")}t.output.append(o,this),b=t.output.current.value(),b.blobs[b.blobs.length-1].strings.suffix="",t.output.append(t.getTerm("year-range-delimiter"),"empty"),y=t.dateput.current.value(),b.blobs=b.blobs.concat(y),t.dateput.string(t,t.dateput.queue),t.tmp.date_collapse_at=[]}else t.output.append(o,this),t.tmp.date_collapse_at.indexOf(this.strings.name)>-1&&""+a!="0"&&(0===t.dateput.queue.length&&(s=!0),t.dateput.openLevel("empty"),t.dateput.append(a,this),s&&(t.dateput.current.value().blobs[0].strings.prefix=""),p&&t.dateput.append(p),d&&t.dateput.append(d),t.dateput.closeLevel())}else t.output.append(o,this);p&&t.output.append(p),d&&t.output.append(d),t.output.closeLevel()}else"month"===this.strings.name&&t.tmp.date_object.season&&(o=""+t.tmp.date_object.season,o&&o.match(/^[1-4]$/)?(t.tmp.group_context.tip.variable_success=!0,t.output.append(t.getTerm("season-0"+o),this)):o&&t.output.append(o,this));t.tmp.value=[],!e[L]||!o&&!t.tmp.have_collapsed||t.opt.has_year_suffix||"year"!==this.strings.name||t.tmp.just_looking||t.registry.registry[e.id]&&t.registry.registry[e.id].disambig.year_suffix!==!1&&!t.tmp.has_done_year_suffix&&(t.tmp.has_done_year_suffix=!0,S=parseInt(t.registry.registry[e.id].disambig.year_suffix,10),_=new CSL.NumericBlob(!1,S,this,e.id),this.successor_prefix=t[t.build.area].opt.layout_delimiter,this.splice_prefix=t[t.build.area].opt.layout_delimiter,x=new CSL.Util.Suffixator(CSL.SUFFIX_CHARS),_.setFormatter(x),"year-suffix-ranged"===t[t.tmp.area].opt.collapse&&(_.range_prefix=t.getTerm("citation-range-delimiter")),t[t.tmp.area].opt.cite_group_delimiter?_.successor_prefix=t[t.tmp.area].opt.cite_group_delimiter:t[t.tmp.area].opt["year-suffix-delimiter"]?_.successor_prefix=t[t.tmp.area].opt["year-suffix-delimiter"]:_.successor_prefix=t[t.tmp.area].opt.layout_delimiter,_.UGLY_DELIMITER_SUPPRESS_HACK=!0,t.output.append(_,"literal"))}},this.execs.push(n),e.push(this)}},CSL.Node["else-if"]={build:function(t,e){CSL.Conditions.TopNode.call(this,t,e),e.push(this)},configure:function(t,e){CSL.Conditions.Configure.call(this,t,e)}},CSL.Node["else"]={build:function(t,e){e.push(this)},configure:function(t,e){this.tokentype===CSL.START&&(t.configure.fail[t.configure.fail.length-1]=e)}},CSL.Node["et-al"]={build:function(t,e){if("citation"===t.build.area||"bibliography"===t.build.area){var n=function(t,e,n){t.tmp.etal_node=this,"string"==typeof this.strings.term&&(t.tmp.etal_term=this.strings.term)};this.execs.push(n)}e.push(this)}},CSL.Node.group={build:function(t,e,n){var i,r;if(this.realGroup=n,this.tokentype===CSL.START&&(CSL.Util.substituteStart.call(this,t,e),t.build.substitute_level.value()&&t.build.substitute_level.replace(t.build.substitute_level.value()+1),this.juris||e.push(this),i=function(t,e){if(t.output.startTag("group",this),this.strings.label_form_override&&(t.tmp.group_context.tip.label_form||(t.tmp.group_context.tip.label_form=this.strings.label_form_override)),this.realGroup){var n=!1,i=!1;t.tmp.group_context.mystack.length&&(t.output.current.value().parent=t.tmp.group_context.tip.output_tip);var r=t.tmp.group_context.tip.label_form;r||(r=this.strings.label_form_override),t.tmp.group_context.tip.condition?(n=t.tmp.group_context.tip.condition,i=t.tmp.group_context.tip.force_suppress):this.strings.reject?(n={test:this.strings.reject,not:!0},i=!0,done_vars=[]):this.strings.require&&(n={test:this.strings.require,not:!1},done_vars=[]),t.tmp.group_context.push({term_intended:!1,variable_attempt:!1,variable_success:!1,variable_success_parent:t.tmp.group_context.tip.variable_success,output_tip:t.output.current.tip,label_form:r,parallel_conditions:this.strings.set_parallel_condition,condition:n,force_suppress:i,done_vars:t.tmp.group_context.tip.done_vars.slice()})}},r=[],r.push(i),this.execs=r.concat(this.execs),this.strings["has-publisher-and-publisher-place"]&&(t.build["publisher-special"]=!0,i=function(t,e){if(this.strings["subgroup-delimiter"]&&e.publisher&&e["publisher-place"]){var n=e.publisher.split(/;\s*/),i=e["publisher-place"].split(/;\s*/);n.length>1&&n.length===i.length&&(t.publisherOutput=new CSL.PublisherOutput(t,this),t.publisherOutput["publisher-list"]=n,t.publisherOutput["publisher-place-list"]=i)}},this.execs.push(i)),this.juris)){for(var s=0,o=e.length;o>s;s++){e[s]}var a=new CSL.Token("choose",CSL.START);CSL.Node.choose.build.call(a,t,e);var u=new CSL.Token("if",CSL.START);i=function(e){return function(n){if(!t.sys.retrieveStyleModule||!CSL.MODULE_MACROS[e]||!n.jurisdiction)return!1;var i=t.getJurisdictionList(n.jurisdiction);if(!t.opt.jurisdictions_seen[i[0]]){var r=t.retrieveAllStyleModules(i);for(var s in r){var o=0;t.juris[s]={};for(var a=CSL.setupXml(r[s]),u=a.getNodesByName(a.dataObj,"law-module"),l=0,c=u.length;c>l;l++){var h=a.getAttributeValue(u[l],"types");if(h){t.juris[s].types={},h=h.split(/\s+/);for(var f=0,p=h.length;p>f;f++)t.juris[s].types[h[f]]=!0}}t.juris[s].types||(t.juris[s].types=CSL.MODULE_TYPES);for(var u=a.getNodesByName(a.dataObj,"macro"),l=0,c=u.length;c>l;l++){var d=a.getAttributeValue(u[l],"name");CSL.MODULE_MACROS[d]?(o++,t.juris[s][d]=[],t.buildTokenLists(u[l],t.juris[s][d]),t.configureTokenList(t.juris[s][d])):CSL.debug('CSL: skipping non-modular macro name "'+d+'" in module context')}}}for(var l=0,c=i.length;c>l;l++){var s=i[l];if(t.juris[s]&&t.juris[s].types[n.type])return n["best-jurisdiction"]=s,!0}return!1}}(this.juris),u.tests.push(i),u.test=t.fun.match.any(u,t,u.tests),e.push(u);var l=new CSL.Token("text",CSL.SINGLETON);i=function(t,e,n){var i=0;if(t.juris[e["best-jurisdiction"]][this.juris])for(;i<t.juris[e["best-jurisdiction"]][this.juris].length;)i=CSL.tokenExec.call(t,t.juris[e["best-jurisdiction"]][this.juris][i],e,n)},l.juris=this.juris,l.execs.push(i),e.push(l);var c=new CSL.Token("if",CSL.END);CSL.Node["if"].build.call(c,t,e);var h=new CSL.Token("else",CSL.START);CSL.Node["else"].build.call(h,t,e)}if(this.tokentype===CSL.END&&(t.build["publisher-special"]&&(t.build["publisher-special"]=!1,"string"==typeof t[t.build.root].opt["name-delimiter"]&&(i=function(t,e){t.publisherOutput&&(t.publisherOutput.render(),t.publisherOutput=!1)},this.execs.push(i))),i=function(t,e){if(t.output.endTag(),this.realGroup){var n=t.tmp.group_context.pop();if(t.tmp.group_context.tip.condition&&(t.tmp.group_context.tip.force_suppress=n.force_suppress),!n.force_suppress&&(n.variable_success||n.term_intended&&!n.variable_attempt)){this.isJurisLocatorLabel||(t.tmp.group_context.tip.variable_success=!0);var i=t.output.current.value().blobs,r=t.output.current.value().blobs.length-1;if(!t.tmp.just_looking&&"undefined"!=typeof n.parallel_conditions){var s={blobs:i,conditions:n.parallel_conditions,id:e.id,pos:r};t.parallel.parallel_conditional_blobs_list.push(s)}}else{if(t.tmp.group_context.tip.variable_attempt=n.variable_attempt,n.force_suppress&&!t.tmp.group_context.tip.condition){t.tmp.group_context.tip.variable_attempt=!0,t.tmp.group_context.tip.variable_success=n.variable_success_parent;for(var o=0,a=n.done_vars.length;a>o;o++)t.tmp.done_vars.indexOf(n.done_vars[o])>-1&&(t.tmp.done_vars=t.tmp.done_vars.slice(0,o).concat(t.tmp.done_vars.slice(o+1)))}t.output.current.value().blobs&&t.output.current.value().blobs.pop()}}},this.execs.push(i),this.juris)){var f=new CSL.Token("else",CSL.END);CSL.Node["else"].build.call(f,t,e);var p=new CSL.Token("choose",CSL.END);CSL.Node.choose.build.call(p,t,e)}this.tokentype===CSL.END&&(this.juris||e.push(this),t.build.substitute_level.value()&&t.build.substitute_level.replace(t.build.substitute_level.value()-1),CSL.Util.substituteEnd.call(this,t,e))}},CSL.Node["if"]={build:function(t,e){CSL.Conditions.TopNode.call(this,t,e),e.push(this)},configure:function(t,e){CSL.Conditions.Configure.call(this,t,e)}},CSL.Node.conditions={build:function(t,e){this.tokentype===CSL.START&&t.tmp.conditions.addMatch(this.match),this.tokentype===CSL.END&&t.tmp.conditions.matchCombine()}},CSL.Node.condition={build:function(t,e){if(this.tokentype===CSL.SINGLETON){var n=t.fun.match[this.match](this,t,this.tests);t.tmp.conditions.addTest(n)}}},CSL.Conditions={},CSL.Conditions.TopNode=function(t,e){var n;(this.tokentype===CSL.START||this.tokentype===CSL.SINGLETON)&&(this.locale&&(t.opt.lang=this.locale),this.tests&&this.tests.length?this.test=t.fun.match[this.match](this,t,this.tests):t.tmp.conditions=new CSL.Conditions.Engine(t,this)),(this.tokentype===CSL.END||this.tokentype===CSL.SINGLETON)&&(n=function(t,e){this.locale_default&&(t.output.current.value().old_locale=this.locale_default,t.output.closeLevel("empty"),t.opt.lang=this.locale_default);var n=this[t.tmp.jump.value()];return n},this.execs.push(n),this.locale_default&&(t.opt.lang=this.locale_default))},CSL.Conditions.Configure=function(t,e){this.tokentype===CSL.START?(this.fail=t.configure.fail.slice(-1)[0],this.succeed=this.next,t.configure.fail[t.configure.fail.length-1]=e):this.tokentype===CSL.SINGLETON?(this.fail=this.next,this.succeed=t.configure.succeed.slice(-1)[0],t.configure.fail[t.configure.fail.length-1]=e):(this.succeed=t.configure.succeed.slice(-1)[0],this.fail=this.next)},CSL.Conditions.Engine=function(t,e){this.token=e,this.state=t},CSL.Conditions.Engine.prototype.addTest=function(t){this.token.tests.push(t)},CSL.Conditions.Engine.prototype.addMatch=function(t){this.token.match=t},CSL.Conditions.Engine.prototype.matchCombine=function(){this.token.test=this.state.fun.match[this.token.match](this.token,this.state,this.token.tests)},CSL.Node.info={build:function(t,e){this.tokentype===CSL.START?t.build.skip="info":t.build.skip=!1}},CSL.Node.institution={build:function(t,e){if([CSL.SINGLETON,CSL.START].indexOf(this.tokentype)>-1){var n=function(t,e){"string"==typeof this.strings.delimiter?t.tmp.institution_delimiter=this.strings.delimiter:t.tmp.institution_delimiter=t.tmp.name_delimiter;"text"===t.inheritOpt(this,"and")?this.and_term=t.getTerm("and","long",0):"symbol"===t.inheritOpt(this,"and")?t.opt.development_extensions.expect_and_symbol_form?this.and_term=t.getTerm("and","symbol",0):this.and_term="&":"none"===t.inheritOpt(this,"and")&&(this.and_term=t.tmp.institution_delimiter),"undefined"==typeof this.and_term&&t.tmp.and_term&&(this.and_term=t.getTerm("and","long",0)),CSL.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"==typeof t.tmp.institution_delimiter&&(this.and_prefix_multiple=t.tmp.institution_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===t.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=t.tmp.institution_delimiter:"never"===t.inheritOpt(this,"delimiter-precedes-last")&&this.and_prefix_multiple&&(this.and_prefix_multiple=" "),this.and={},"undefined"!=typeof this.and_term?(t.output.append(this.and_term,"empty",!0),this.and.single=t.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,t.output.append(this.and_term,"empty",!0),this.and.multiple=t.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):"undefined"!==this.strings.delimiter&&(this.and.single=new CSL.Blob(t.tmp.institution_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new CSL.Blob(t.tmp.institution_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),t.nameOutput.institution=this};this.execs.push(n)}e.push(this)},configure:function(t,e){[CSL.SINGLETON,CSL.START].indexOf(this.tokentype)>-1&&(t.build.has_institution=!0)}},CSL.Node["institution-part"]={build:function(t,e){var n;"long"===this.strings.name?n=this.strings["if-short"]?function(t,e){t.nameOutput.institutionpart["long-with-short"]=this}:function(t,e){t.nameOutput.institutionpart["long"]=this}:"short"===this.strings.name&&(n=function(t,e){t.nameOutput.institutionpart["short"]=this}),this.execs.push(n),e.push(this)}},CSL.Node.key={build:function(t,e){e=t[t.build.root+"_sort"].tokens;var n,i=new CSL.Token("key",CSL.START);t.tmp.root=t.build.root,i.strings["et-al-min"]=t.inheritOpt(this,"et-al-min"),i.strings["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first"),i.strings["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last"),n=function(t,e){t.tmp.done_vars=[]},i.execs.push(n),t.opt.citation_number_sort_direction=this.strings.sort_direction,n=function(t,e){t.output.openLevel("empty")},i.execs.push(n);var r=[];if(this.strings.sort_direction===CSL.DESCENDING?(r.push(1),r.push(-1)):(r.push(-1),r.push(1)),t[t.build.area].opt.sort_directions.push(r),CSL.DATE_VARIABLES.indexOf(this.variables[0])>-1&&(t.build.date_key=!0),n=function(t,e){t.tmp.sort_key_flag=!0,t.inheritOpt(this,"et-al-min")&&(t.tmp["et-al-min"]=t.inheritOpt(this,"et-al-min")),t.inheritOpt(this,"et-al-use-first")&&(t.tmp["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first")),"boolean"==typeof t.inheritOpt(this,"et-al-use-last")&&(t.tmp["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last"))},i.execs.push(n),e.push(i),this.variables.length){var s=this.variables[0];if("citation-number"===s&&("citation"===t.build.area&&"_sort"===t.build.extension&&(t.opt.citation_number_sort=!0),"bibliography"===t.build.root&&"_sort"===t.build.extension&&(t.opt.citation_number_sort_used=!0)),CSL.CREATORS.indexOf(s)>-1){var o=new CSL.Token("names",CSL.START);o.tokentype=CSL.START,o.variables=this.variables,CSL.Node.names.build.call(o,t,e);var a=new CSL.Token("name",CSL.SINGLETON);a.tokentype=CSL.SINGLETON,a.strings["name-as-sort-order"]="all",a.strings["sort-separator"]=" ",a.strings["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last"),a.strings["et-al-min"]=t.inheritOpt(this,"et-al-min"),a.strings["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first"),CSL.Node.name.build.call(a,t,e);var u=new CSL.Token("institution",CSL.SINGLETON);u.tokentype=CSL.SINGLETON,CSL.Node.institution.build.call(u,t,e);var l=new CSL.Token("names",CSL.END);l.tokentype=CSL.END,CSL.Node.names.build.call(l,t,e)}else{var c=new CSL.Token("text",CSL.SINGLETON);if(c.dateparts=this.dateparts,CSL.NUMERIC_VARIABLES.indexOf(s)>-1)n=function(t,e){var n;n=!1,n="citation-number"===s?t.registry.registry[e.id].seq.toString():e[s],n&&(n=CSL.Util.padding(n)),t.output.append(n,this)};else if("citation-label"===s)n=function(t,e){var n=t.getCitationLabel(e);t.output.append(n,this)};else if(CSL.DATE_VARIABLES.indexOf(s)>-1)n=CSL.dateAsSortKey,c.variables=this.variables;else if("title"===s){var h="title",f=!1,p=!1,d=!0;n=t.transform.getOutputFunction(this.variables,h,f,p,d)}else n=function(t,e){var n=e[s];t.output.append(n,"empty")};c.execs.push(n),e.push(c)}}else{var m=new CSL.Token("text",CSL.SINGLETON);m.postponed_macro=this.postponed_macro,CSL.expandMacro.call(t,m,e)}var g=new CSL.Token("key",CSL.END);n=function(t,e){var n=t.output.string(t,t.output.queue);t.sys.normalizeUnicode&&(n=t.sys.normalizeUnicode(n)),n=n?n.split(" ").join(t.opt.sort_sep)+t.opt.sort_sep:"",""===n&&(n=void 0),("string"!=typeof n||t.tmp.empty_date)&&(n=void 0,t.tmp.empty_date=!1),t[t[t.tmp.area].root+"_sort"].keys.push(n),t.tmp.value=[]},g.execs.push(n),t.build.date_key&&("citation"===t.build.area&&"_sort"===t.build.extension&&(t[t.build.area].opt.sort_directions.push([-1,1]),n=function(t,e){var n=t.registry.registry[e.id].disambig.year_suffix;n||(n=0);var i=CSL.Util.padding(""+n);t[t.tmp.area].keys.push(i)},g.execs.push(n)),t.build.date_key=!1),n=function(t,e){t.tmp["et-al-min"]=void 0,t.tmp["et-al-use-first"]=void 0,t.tmp["et-al-use-last"]=void 0,t.tmp.sort_key_flag=!1},g.execs.push(n),e.push(g)}},CSL.Node.label={build:function(t,e){if(this.strings.term){!this.strings.form;var n=function(t,e,n){var i=CSL.evaluateLabel(this,t,e,n);n&&"locator"===this.strings.term&&(t.parallel.StartVariable("label"),t.parallel.AppendToVariable(n.label),n.section_form_override=this.strings.form),i&&(t.tmp.group_context.tip.term_intended=!0),CSL.UPDATE_GROUP_CONTEXT_CONDITION(t,i),-1===i.indexOf("%s")&&t.output.append(i,this),n&&"locator"===this.strings.term&&t.parallel.CloseVariable()};this.execs.push(n)}else{var i=t.build.names_variables.slice(-1)[0];t.build.name_label||(t.build.name_label={});for(var r=0,s=i.length;s>r;r+=1)t.build.name_label[i[r]]||(t.build.name_label[i[r]]={});if(t.build.name_flag)for(var r=0,s=i.length;s>r;r+=1)t.build.name_label[i[r]].after=this;else for(var r=0,s=i.length;s>r;r+=1)t.build.name_label[i[r]].before=this}e.push(this)}},CSL.Node.layout={build:function(t,e){function n(){"bibliography"===t.build.area&&(s=new CSL.Token("text",CSL.SINGLETON),i=function(t,e,n){var i;t.tmp.cite_locales[t.tmp.cite_locales.length-1];i=t.tmp.cite_affixes[t.tmp.area][t.tmp.last_cite_locale]?t.tmp.cite_affixes[t.tmp.area][t.tmp.last_cite_locale].suffix:t.bibliography.opt.layout_suffix;var r=t.output.current.value();t.opt.using_display?r.blobs[r.blobs.length-1].strings.suffix=i:r.strings.suffix=i,t.bibliography.opt["second-field-align"]&&t.output.endTag("bib_other")},s.execs.push(i),e.push(s))}var i,r,s,o;this.tokentype===CSL.START&&(this.locale_raw?t.build.current_default_locale=this.locale_raw:t.build.current_default_locale=t.opt["default-locale"],i=function(t,e,n){t.opt.development_extensions.apply_citation_wrapper&&t.sys.wrapCitationEntry&&!t.tmp.just_looking&&e.system_id&&"citation"===t.tmp.area&&(cite_entry=new CSL.Token("group",CSL.START),cite_entry.decorations=[["@cite","entry"]],t.output.startTag("cite_entry",cite_entry),t.output.current.value().item_id=e.system_id,n&&(t.output.current.value().locator_txt=n.locator_txt,t.output.current.value().suffix_txt=n.suffix_txt))},this.execs.push(i)),this.tokentype!==CSL.START||t.tmp.cite_affixes[t.build.area]||(i=function(t,e){t.tmp.done_vars=[],!t.tmp.just_looking&&t.registry.registry[e.id].parallel&&t.tmp.done_vars.push("first-reference-note-number"),t.tmp.rendered_name=!1},this.execs.push(i),i=function(t,e){t.tmp.sort_key_flag=!1},this.execs.push(i),i=function(t,e){t.tmp.nameset_counter=0},this.execs.push(i),i=function(t,e){var n=new CSL.Token;t.opt.development_extensions.rtl_support&&["ar","he","fa","ur","yi","ps","syr"].indexOf(e.language)>-1&&(n=new CSL.Token,n.strings.prefix="",n.strings.suffix=""),t.output.openLevel(n)},this.execs.push(i),e.push(this),t.opt.development_extensions.rtl_support,1,"citation"===t.build.area&&(r=new CSL.Token("text",CSL.SINGLETON),i=function(t,e,n){var i;if(n&&n.prefix){i="";var r=n.prefix.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,""),s=r.slice(-1);r.match(CSL.ENDSWITH_ROMANESQUE_REGEXP)?i=" ":CSL.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(s)>-1?i=" ":s.match(/[\)\],0-9]/)&&(i=" ");var o=!1;CSL.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(s)>-1&&n.prefix.trim().indexOf(" ")>-1&&(t.tmp.term_predecessor=!1,o=!0),prefix=(n.prefix+i).replace(/\s+/g," "),t.tmp.just_looking||(prefix=t.output.checkNestedBrace.update(prefix)),t.output.append(prefix,this,!1,o)}},r.execs.push(i),e.push(r)));var a;if(this.locale_raw&&(a=new CSL.Token("dummy",CSL.START),a.locale=this.locale_raw,a.strings.delimiter=this.strings.delimiter,a.strings.suffix=this.strings.suffix,t.tmp.cite_affixes[t.build.area]||(t.tmp.cite_affixes[t.build.area]={})),this.tokentype===CSL.START&&(t.build.layout_flag=!0,this.locale_raw||(t[t.tmp.area].opt.topdecor=[this.decorations],t[t.tmp.area+"_sort"].opt.topdecor=[this.decorations],t[t.build.area].opt.layout_prefix=this.strings.prefix,t[t.build.area].opt.layout_suffix=this.strings.suffix,t[t.build.area].opt.layout_delimiter=this.strings.delimiter,t[t.build.area].opt.layout_decorations=this.decorations,t.tmp.cite_affixes[t.build.area]&&(o=new CSL.Token("else",CSL.START),CSL.Node["else"].build.call(o,t,e))),this.locale_raw)){if(t.build.layout_locale_flag)a.name="else-if",CSL.Attributes["@locale-internal"].call(a,t,this.locale_raw),CSL.Node["else-if"].build.call(a,t,e);else{var u=new CSL.Token("choose",CSL.START);CSL.Node.choose.build.call(u,t,e),a.name="if",CSL.Attributes["@locale-internal"].call(a,t,this.locale_raw),CSL.Node["if"].build.call(a,t,e)}t.tmp.cite_affixes[t.build.area][a.locale]={},t.tmp.cite_affixes[t.build.area][a.locale].delimiter=this.strings.delimiter,t.tmp.cite_affixes[t.build.area][a.locale].suffix=this.strings.suffix}this.tokentype===CSL.END&&(this.locale_raw&&(n(),t.build.layout_locale_flag?(a.name="else-if",a.tokentype=CSL.END,CSL.Attributes["@locale-internal"].call(a,t,this.locale_raw),CSL.Node["else-if"].build.call(a,t,e)):(a.name="if",a.tokentype=CSL.END,CSL.Attributes["@locale-internal"].call(a,t,this.locale_raw),CSL.Node["if"].build.call(a,t,e),t.build.layout_locale_flag=!0)),this.locale_raw||(n(),t.tmp.cite_affixes[t.build.area]&&t.build.layout_locale_flag&&(o=new CSL.Token("else",CSL.END),CSL.Node["else"].build.call(o,t,e),o=new CSL.Token("choose",CSL.END),CSL.Node.choose.build.call(o,t,e)),t.build_layout_locale_flag=!0,"citation"===t.build.area&&(s=new CSL.Token("text",CSL.SINGLETON),i=function(t,e,n){var i;if(n&&n.suffix){i="",(n.suffix.match(CSL.STARTSWITH_ROMANESQUE_REGEXP)||["[","("].indexOf(n.suffix.slice(0,1))>-1)&&(i=" ");var r=n.suffix;t.tmp.just_looking||(r=t.output.checkNestedBrace.update(r)),t.output.append(i+r,this)}},s.execs.push(i),e.push(s)),i=function(t,e){t.output.closeLevel()},this.execs.push(i),i=function(t,e){t.opt.development_extensions.apply_citation_wrapper&&t.sys.wrapCitationEntry&&!t.tmp.just_looking&&e.system_id&&"citation"===t.tmp.area&&t.output.endTag()},this.execs.push(i),e.push(this),t.build.layout_flag=!1,t.build.layout_locale_flag=!1))}},CSL.Node.macro={build:function(t,e){}},CSL.NameOutput=function(t,e,n,i){this.debug=!1,this.state=t,this.Item=e,this.item=n,this.nameset_base=0,this.etal_spec={},this._first_creator_variable=!1,this._please_chop=!1},CSL.NameOutput.prototype.init=function(t){this.state.tmp.term_predecessor&&(this.state.tmp.subsequent_author_substitute_ok=!1),this.nameset_offset&&(this.nameset_base=this.nameset_base+this.nameset_offset),this.nameset_offset=0,this.names=t,this.variables=t.variables,this.state.tmp.value=[],this.state.tmp.rendered_name=[],this.state.tmp.label_blob=!1,this.state.tmp.etal_node=!1,this.state.tmp.etal_term=!1;for(var e=0,n=this.variables.length;n>e;e+=1)this.Item[this.variables[e]]&&this.Item[this.variables[e]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[e]]));this["et-al"]=void 0,this["with"]=void 0,this.name=void 0,this.institutionpart={},this.state.tmp.group_context.tip.variable_attempt=!0,!this.state.tmp.value.length},CSL.NameOutput.prototype.reinit=function(t){if(this.state.tmp.can_substitute.value()){this.nameset_offset=0,this.variables=t.variables;var e=this.state.tmp.value.slice();this.state.tmp.value=[];for(var n=0,i=this.variables.length;i>n;n+=1)this.Item[this.variables[n]]&&this.Item[this.variables[n]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[n]]));this.state.tmp.value.length&&this.state.tmp.can_substitute.replace(!1,CSL.LITERAL),this.state.tmp.value=e}},CSL.NameOutput.prototype.outputNames=function(){var t,e,n=this.variables;if(this.institution.and&&(this.institution.and.single.blobs&&this.institution.and.single.blobs.length||(this.institution.and.single.blobs=this.name.and.single.blobs),this.institution.and.multiple.blobs&&this.institution.and.multiple.blobs.length||(this.institution.and.multiple.blobs=this.name.and.multiple.blobs)),this.variable_offset={},this.family)for(this.family_decor=CSL.Util.cloneToken(this.family),this.family_decor.strings.prefix="",this.family_decor.strings.suffix="",t=0,e=this.family.execs.length;e>t;t+=1)this.family.execs[t].call(this.family_decor,this.state,this.Item);else this.family_decor=!1;if(this.given)for(this.given_decor=CSL.Util.cloneToken(this.given),this.given_decor.strings.prefix="",this.given_decor.strings.suffix="",t=0,e=this.given.execs.length;e>t;t+=1)this.given.execs[t].call(this.given_decor,this.state,this.Item);else this.given_decor=!1;if(this.getEtAlConfig(),this.divideAndTransliterateNames(),this.truncatePersonalNameLists(),this.disambigNames(),this.constrainNames(),"count"===this.name.strings.form)return void((this.state.tmp.extension||0!=this.names_count)&&(this.state.output.append(this.names_count,"empty"),this.state.tmp.group_context.tip.variable_success=!0));this.setEtAlParameters(),this.setCommonTerm(),this.state.tmp.name_node={},this.state.tmp.name_node.children=[],this.renderAllNames();var i=[];for(t=0,e=n.length;e>t;t+=1){var r=n[t],s=[],o=!1,a=null;if(this.state.opt.development_extensions.spoof_institutional_affiliations){for(var u=0,l=this.institutions[r].length;l>u;u+=1)s.push(this.joinPersonsAndInstitutions([this.persons[r][u],this.institutions[r][u]]));if(this.institutions[r].length){var c=this.nameset_base+this.variable_offset[r];this.freeters[r].length&&(c+=1),o=this.joinInstitutionSets(s,c)}var a=this.joinFreetersAndInstitutionSets([this.freeters[r],o])}else a=this._join([this.freeters[r]],"");if(a&&(this.state.tmp.extension||(a=this._applyLabels(a,r)),i.push(a)),this.common_term)break}for(this.state.output.openLevel("empty"),this.state.output.current.value().strings.delimiter=this.state.inheritOpt(this.names,"delimiter","names-delimiter"),t=0,e=i.length;e>t;t+=1)this.state.output.append(i[t],"literal",!0);this.state.output.closeLevel("empty");var h=this.state.output.pop(),f=CSL.Util.cloneToken(this.names);if(this.state.output.append(h,f),this.state.tmp.term_predecessor_name&&(this.state.tmp.term_predecessor=!0),this.state.tmp.name_node.top=this.state.output.current.value(),"authority"!==n[0]){var p=[],d=this.Item[n[0]];if(d)for(var t=0,e=d.length;e>t;t+=1)substring=CSL.Util.Names.getRawName(d[t]),substring&&p.push(substring);p=p.join(", "),p&&(this.state.tmp.name_node.string=p)}if(this.state.tmp.name_node.string&&!this.state.tmp.first_name_string&&(this.state.tmp.first_name_string=this.state.tmp.name_node.string),"classic"===this.Item.type){var m=[];this.state.tmp.first_name_string&&m.push(this.state.tmp.first_name_string),this.Item.title&&m.push(this.Item.title),m=m.join(", "),m&&this.state.sys.getAbbreviation&&(this.state.transform.loadAbbreviation("default","classic",m),this.state.transform.abbrevs["default"].classic[m]&&(this.state.tmp.done_vars.push("title"),this.state.output.append(this.state.transform.abbrevs["default"].classic[m],"empty",!0),h=this.state.output.pop(),this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.top.blobs.push(h)))}this._collapseAuthor(),this.variables=[]},CSL.NameOutput.prototype._applyLabels=function(t,e){var n;if(!this.label||!this.label[e])return t;var i=0,r=this.freeters_count[e]+this.institutions_count[e];if(r>1)i=1;else{for(var s=0,o=this.persons[e].length;o>s;s+=1)r+=this.persons_count[e][s];r>1&&(i=1)}return this.label[e].before?("number"==typeof this.label[e].before.strings.plural&&(i=this.label[e].before.strings.plural),n=this._buildLabel(e,i,"before",e),this.state.output.openLevel("empty"),this.state.output.append(n,this.label[e].before,!0),this.state.output.append(t,"literal",!0),this.state.output.closeLevel("empty"),t=this.state.output.pop()):this.label[e].after&&("number"==typeof this.label[e].after.strings.plural&&(i=this.label[e].after.strings.plural),n=this._buildLabel(e,i,"after",e),this.state.output.openLevel("empty"),this.state.output.append(t,"literal",!0),this.state.output.append(n,this.label[e].after,!0),this.state.tmp.label_blob=this.state.output.pop(),this.state.output.append(this.state.tmp.label_blob,"literal",!0),this.state.output.closeLevel("empty"),t=this.state.output.pop()),t},CSL.NameOutput.prototype._buildLabel=function(t,e,n,i){this.common_term&&(t=this.common_term);var r=!1,s=this.label[i][n];return s&&(r=CSL.castLabel(this.state,s,t,e,CSL.TOLERANT)),r},CSL.NameOutput.prototype._collapseAuthor=function(){var t,e,n;0===this.nameset_base&&this.Item[this.variables[0]]&&!this._first_creator_variable&&(this._first_creator_variable=this.variables[0]),(this.item&&this.item["suppress-author"]&&this._first_creator_variable==this.variables[0]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter.length)&&(this.state.tmp.authorstring_request?(e="",t=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,n=this.state.tmp.offset_characters,t&&(e=this.state.output.string(this.state,t,!1)),this.state.tmp.offset_characters=n,this.state.registry.authorstrings[this.Item.id]=e):this.state.tmp.just_looking||this.state.tmp.suppress_decorations||!(this.item["suppress-author"]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter)||(e="",t=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,n=this.state.tmp.offset_characters,t&&(e=this.state.output.string(this.state,t,!1)),e===this.state.tmp.last_primary_names_string?((this.item["suppress-author"]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length)&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=n),this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!0)):(this.state.tmp.last_primary_names_string=e,
this.variables.indexOf(this._first_creator_variable)>-1&&this.item&&this.item["suppress-author"]&&"legal_case"!==this.Item.type&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=n,this.state.tmp.term_predecessor=!1),this.state.tmp.have_collapsed=!1,this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!1))))},CSL.NameOutput.prototype.isPerson=function(t){return t.literal||!t.given&&t.family&&t.isInstitution?!1:!0},CSL.NameOutput.prototype.truncatePersonalNameLists=function(){var t,e,n,i,r,s,o;this.freeters_count={},this.persons_count={},this.institutions_count={};for(t in this.freeters)this.freeters.hasOwnProperty(t)&&(this.freeters_count[t]=this.freeters[t].length,this.freeters[t]=this._truncateNameList(this.freeters,t));for(t in this.persons)if(this.persons.hasOwnProperty(t))for(this.institutions_count[t]=this.institutions[t].length,this._truncateNameList(this.institutions,t),this.persons[t]=this.persons[t].slice(0,this.institutions[t].length),this.persons_count[t]=[],i=0,r=this.persons[t].length;r>i;i+=1)this.persons_count[t][i]=this.persons[t][i].length,this.persons[t][i]=this._truncateNameList(this.persons,t,i);if(s=1!==this.etal_min||1!==this.etal_use_first||this.state.tmp.extension||this.state.tmp.just_looking?!1:t,s||this._please_chop)for(e=0,n=this.variables.length;n>e;e+=1){t=this.variables[e],this.freeters[t].length&&(this._please_chop===t?(this.freeters[t]=this.freeters[t].slice(1),this.freeters_count[t]+=-1,this._please_chop=!1):s&&!this._please_chop&&(this.freeters[t]=this.freeters[t].slice(0,1),this.freeters_count[t]=1,this.institutions[t]=[],this.persons[t]=[],this._please_chop=s));for(var i=0,r=this.persons[t].length;r>i;i++)if(this.persons[t][i].length){if(this._please_chop===t){this.persons[t][i]=this.persons[t][i].slice(1),this.persons_count[t][i]+=-1,this._please_chop=!1;break}if(s&&!this._please_chop){this.freeters[t]=this.persons[t][i].slice(0,1),this.freeters_count[t]=1,this.institutions[t]=[],this.persons[t]=[],o=[],this._please_chop=s;break}}this.institutions[t].length&&(this._please_chop===t?(this.institutions[t]=this.institutions[t].slice(1),this.institutions_count[t]+=-1,this._please_chop=!1):s&&!this._please_chop&&(this.institutions[t]=this.institutions[t].slice(0,1),this.institutions_count[t]=1,o=[],this._please_chop=s))}for(e=0,n=this.variables.length;n>e;e+=1){this.institutions[t].length&&(this.nameset_offset+=1);for(var i=0,r=this.persons[t].length;r>i;i++)this.persons[t][i].length&&(this.nameset_offset+=1)}},CSL.NameOutput.prototype._truncateNameList=function(t,e,n){var i;if(i="undefined"==typeof n?t[e]:t[e][n],this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names&&i.length>50&&i.length>this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names+2){var r=this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names;i=i.slice(0,r+1).concat(i.slice(-1))}return i},CSL.NameOutput.prototype.divideAndTransliterateNames=function(){var t,e,n,i,r=this.Item,s=this.variables;for(this.varnames=s.slice(),this.freeters={},this.persons={},this.institutions={},t=0,e=s.length;e>t;t+=1){var o=s[t];this.variable_offset[o]=this.nameset_offset;var a=this._normalizeVariableValue(r,o);if(this.name.strings["suppress-min"]&&a.length>=this.name.strings["suppress-min"]&&(a=[]),this.name.strings["suppress-max"]&&a.length<=this.name.strings["suppress-max"]&&(a=[]),this._getFreeters(o,a),this._getPersonsAndInstitutions(o,a),this.state.opt.development_extensions.spoof_institutional_affiliations)if(0===this.name.strings["suppress-min"])for(this.freeters[o]=[],n=0,i=this.persons[o].length;i>n;n+=1)this.persons[o][n]=[];else if(0===this.institution.strings["suppress-min"]){for(this.institutions[o]=[],this.freeters[o]=this.freeters[o].concat(this.persons[o]),n=0,i=this.persons[o].length;i>n;n+=1)for(var u=0,l=this.persons[o][n].length;l>u;u+=1)this.freeters[o].push(this.persons[o][n][u]);this.persons[o]=[]}}},CSL.NameOutput.prototype._normalizeVariableValue=function(t,e){var n;return"string"==typeof t[e]||"number"==typeof t[e]?(CSL.debug('name variable "'+e+'" is string or number, not array. Attempting to fix.'),n=[{literal:t[e]+""}]):t[e]?"number"!=typeof t[e].length?(CSL.debug('name variable "'+e+'" is object, not array. Attempting to fix.'),t[e]=[t[e]],n=t[e].slice()):n=t[e].slice():n=[],n},CSL.NameOutput.prototype._getFreeters=function(t,e){if(this.freeters[t]=[],this.state.opt.development_extensions.spoof_institutional_affiliations)for(var n=e.length-1;n>-1&&this.isPerson(e[n]);n--){var i=this._checkNickname(e.pop());i&&this.freeters[t].push(i)}else for(var n=e.length-1;n>-1;n--){var i=e.pop();if(this.isPerson(i))var i=this._checkNickname(i);this.freeters[t].push(i)}this.freeters[t].reverse(),this.freeters[t].length&&(this.nameset_offset+=1)},CSL.NameOutput.prototype._getPersonsAndInstitutions=function(t,e){if(this.persons[t]=[],this.institutions[t]=[],this.state.opt.development_extensions.spoof_institutional_affiliations){for(var n=[],i=!1,r=!0,s=e.length-1;s>-1;s+=-1)if(this.isPerson(e[s])){var o=this._checkNickname(e[s]);o&&n.push(o)}else i=!0,this.institutions[t].push(e[s]),r||(n.reverse(),this.persons[t].push(n),n=[]),r=!1;i&&(n.reverse(),this.persons[t].push(n),this.persons[t].reverse(),this.institutions[t].reverse())}},CSL.NameOutput.prototype._clearValues=function(t){for(var e=t.length-1;e>-1;e+=-1)t.pop()},CSL.NameOutput.prototype._checkNickname=function(t){if(["interview","personal_communication"].indexOf(this.Item.type)>-1){var e="";if(e=CSL.Util.Names.getRawName(t),e&&this.state.sys.getAbbreviation&&(!this.item||!this.item["suppress-author"])){this.state.transform.loadAbbreviation("default","nickname",e);var n=this.state.transform.abbrevs["default"].nickname[e];n&&(t="!here>>>"===n?!1:{family:n,given:""})}}return t},CSL.NameOutput.prototype.joinPersons=function(t,e,n,i){var r;return i||(i="name"),r="undefined"==typeof n?1===this.etal_spec[e].freeters?this._joinEtAl(t,i):2===this.etal_spec[e].freeters?this._joinEllipsis(t,i):this.state.tmp.sort_key_flag?this._join(t," "):this._joinAnd(t,i):1===this.etal_spec[e].persons[n]?this._joinEtAl(t,i):2===this.etal_spec[e].persons[n]?this._joinEllipsis(t,i):this.state.tmp.sort_key_flag?this._join(t," "):this._joinAnd(t,i)},CSL.NameOutput.prototype.joinInstitutionSets=function(t,e){var n;return n=1===this.etal_spec[e].institutions?this._joinEtAl(t,"institution"):2===this.etal_spec[e].institutions?this._joinEllipsis(t,"institution"):this._joinAnd(t,"institution")},CSL.NameOutput.prototype.joinPersonsAndInstitutions=function(t){return this._join(t,this.state.tmp.name_delimiter)},CSL.NameOutput.prototype.joinFreetersAndInstitutionSets=function(t){var e=this._join(t,"[never here]",this["with"].single,this["with"].multiple);return e},CSL.NameOutput.prototype._joinEtAl=function(t,e){var n=this._join(t,this.state.tmp.name_delimiter);return this.state.output.openLevel(this._getToken(e)),this.state.output.current.value().strings.delimiter="",this.state.output.append(n,"literal",!0),t.length>1?this.state.output.append(this["et-al"].multiple,"literal",!0):1===t.length&&this.state.output.append(this["et-al"].single,"literal",!0),this.state.output.closeLevel(),this.state.output.pop()},CSL.NameOutput.prototype._joinEllipsis=function(t,e){return this._join(t,this.state.tmp.name_delimiter,this.name.ellipsis.single,this.name.ellipsis.multiple,e)},CSL.NameOutput.prototype._joinAnd=function(t,e){return this._join(t,this.state.inheritOpt(this[e],"delimiter",e+"-delimiter",", "),this[e].and.single,this[e].and.multiple,e)},CSL.NameOutput.prototype._join=function(t,e,n,i,r){var s,o;if(!t)return!1;for(s=t.length-1;s>-1;s+=-1)t[s]&&0!==t[s].length&&t[s].blobs.length||(t=t.slice(0,s).concat(t.slice(s+1)));if(!t.length)return!1;if(n&&2===t.length)n&&(n=new CSL.Blob(n.blobs,n)),t=[t[0],n,t[1]];else{var a;for(a=i?2:1,s=0,o=t.length-a;o>s;s+=1)t[s].strings.suffix+=e;if(t.length>1){var u=t.pop();i?(i=new CSL.Blob(i.blobs,i),t.push(i)):(n&&(n=new CSL.Blob(n.blobs,n)),t.push(n)),t.push(u)}}for(this.state.output.openLevel(),n&&i&&(this.state.output.current.value().strings.delimiter=""),s=0,o=t.length;o>s;s+=1)this.state.output.append(t[s],!1,!0);return this.state.output.closeLevel(),this.state.output.pop()},CSL.NameOutput.prototype._getToken=function(t){var e=this[t];if("institution"===t){var n=new CSL.Token;return n}return e},CSL.NameOutput.prototype.setCommonTerm=function(){var t=this.variables,e=t.slice();if(e.sort(),this.common_term=e.join(""),!this.common_term)return!1;var n=!1;if(this.label&&this.label[this.variables[0]]&&(this.label[this.variables[0]].before?n=this.state.getTerm(this.common_term,this.label[this.variables[0]].before.strings.form,0):this.label[this.variables[0]].after&&(n=this.state.getTerm(this.common_term,this.label[this.variables[0]].after.strings.form,0))),!this.state.locale[this.state.opt.lang].terms[this.common_term]||!n||this.variables.length<2)return void(this.common_term=!1);for(var i=0,r=0,s=this.variables.length-1;s>r;r+=1){var o=this.variables[r],a=this.variables[r+1];if(this.freeters[o].length||this.freeters[a].length){if(this.etal_spec[o].freeters!==this.etal_spec[a].freeters||!this._compareNamesets(this.freeters[o],this.freeters[a]))return void(this.common_term=!1);i+=1}if(this.persons[o].length!==this.persons[a].length)return void(this.common_term=!1);for(var u=0,l=this.persons[o].length;l>u;u+=1)if(this.etal_spec[o].persons[u]!==this.etal_spec[a].persons[u]||!this._compareNamesets(this.persons[o][u],this.persons[a][u]))return void(this.common_term=!1)}},CSL.NameOutput.prototype._compareNamesets=function(t,e){if(t.length!==e.length)return!1;for(var n=0,i=e.length;i>n;n+=1)for(var r=(e[n],0),s=CSL.NAME_PARTS.length;s>r;r+=1){var o=CSL.NAME_PARTS[r];if(!t[n]||t[n][o]!=e[n][o])return!1}return!0},CSL.NameOutput.prototype.constrainNames=function(){this.names_count=0;for(var t,e=0,n=this.variables.length;n>e;e+=1){var i=this.variables[e];t=this.nameset_base+e,this.freeters[i].length&&(this.state.tmp.names_max.push(this.freeters[i].length,"literal"),this._imposeNameConstraints(this.freeters,this.freeters_count,i,t),this.names_count+=this.freeters[i].length),this.institutions[i].length&&(this.state.tmp.names_max.push(this.institutions[i].length,"literal"),this._imposeNameConstraints(this.institutions,this.institutions_count,i,t),this.persons[i]=this.persons[i].slice(0,this.institutions[i].length),this.names_count+=this.institutions[i].length);for(var r=0,s=this.persons[i].length;s>r;r+=1)this.persons[i][r].length&&(this.state.tmp.names_max.push(this.persons[i][r].length,"literal"),this._imposeNameConstraints(this.persons[i],this.persons_count[i],r,t),this.names_count+=this.persons[i][r].length)}},CSL.NameOutput.prototype._imposeNameConstraints=function(t,e,n,i){var r=t[n],s=this.state.tmp["et-al-min"];this.state.tmp.suppress_decorations?this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[i]?s=this.state.tmp.disambig_request.names[i]:e[n]>=this.etal_min&&(s=this.etal_use_first):(this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[i]>this.etal_use_first?s=e[n]<this.etal_min?e[n]:this.state.tmp.disambig_request.names[i]:e[n]>=this.etal_min&&(s=this.etal_use_first),this.etal_use_last&&s>this.etal_min-2&&(s=this.etal_min-2));var o=this.etal_min>=this.etal_use_first,a=e[n]>s;s>e[n]&&(s=r.length),o&&a&&(this.etal_use_last?t[n]=r.slice(0,s).concat(r.slice(-1)):t[n]=r.slice(0,s)),this.state.tmp.disambig_settings.names[i]=t[n].length,this.state.disambiguate.padBase(this.state.tmp.disambig_settings)},CSL.NameOutput.prototype.disambigNames=function(){for(var t,e=0,n=this.variables.length;n>e;e+=1){var i=this.variables[e];if(t=this.nameset_base+e,this.freeters[i].length&&this._runDisambigNames(this.freeters[i],t),this.institutions[i].length){"undefined"==typeof this.state.tmp.disambig_settings.givens[t]&&(this.state.tmp.disambig_settings.givens[t]=[]);for(var r=0,s=this.institutions[i].length;s>r;r+=1)"undefined"==typeof this.state.tmp.disambig_settings.givens[t][r]&&this.state.tmp.disambig_settings.givens[t].push(2)}for(var r=0,s=this.persons[i].length;s>r;r+=1)this.persons[i][r].length&&this._runDisambigNames(this.persons[i][r],t)}},CSL.NameOutput.prototype._runDisambigNames=function(t,e){var n,i,r,s,o,a,u;for(o=0,a=t.length;a>o;o+=1)if(t[o].given||t[o].family){if(r=this.state.inheritOpt(this.name,"initialize-with"),this.state.registry.namereg.addname(""+this.Item.id,t[o],o),n=this.state.tmp.disambig_settings.givens[e],"undefined"==typeof n)for(var l=0,c=e+1;c>l;l+=1)this.state.tmp.disambig_settings.givens[l]||(this.state.tmp.disambig_settings.givens[l]=[]);if(n=this.state.tmp.disambig_settings.givens[e][o],"undefined"==typeof n&&(i=this.state.inheritOpt(this.name,"form","name-form"),s=this.state.registry.namereg.evalname(""+this.Item.id,t[o],o,0,i,r),this.state.tmp.disambig_settings.givens[e].push(s)),i=this.state.inheritOpt(this.name,"form","name-form"),u=this.state.registry.namereg.evalname(""+this.Item.id,t[o],o,0,i,r),this.state.tmp.disambig_request){var h=this.state.tmp.disambig_settings.givens[e][o];1!==h||"by-cite"!==this.state.citation.opt["givenname-disambiguation-rule"]||"undefined"!=typeof this.state.inheritOpt(this.name,"initialize-with")&&"undefined"!=typeof t[o].given||(h=2),s=h,this.state.opt["disambiguate-add-givenname"]&&t[o].given&&(s=this.state.registry.namereg.evalname(""+this.Item.id,t[o],o,s,this.state.inheritOpt(this.name,"form","name-form"),this.state.inheritOpt(this.name,"initialize-with")))}else s=u;!this.state.tmp.just_looking&&this.item&&this.item.position===CSL.POSITION_FIRST&&u>s&&(s=u),this.state.tmp.sort_key_flag||(this.state.tmp.disambig_settings.givens[e][o]=s,"string"!=typeof r||"undefined"!=typeof this.name.strings.initialize&&!0!==this.name.strings.initialize||(this.state.tmp.disambig_settings.use_initials=!0))}},CSL.NameOutput.prototype.getEtAlConfig=function(){var t=this.item;this["et-al"]={},this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].single=this.state.output.pop(),this["et-al"].single.strings.suffix=this.etal_suffix,this["et-al"].single.strings.prefix=this.etal_prefix_single,this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].multiple=this.state.output.pop(),this["et-al"].multiple.strings.suffix=this.etal_suffix,this["et-al"].multiple.strings.prefix=this.etal_prefix_multiple,"undefined"==typeof t&&(t={}),t.position?(this.state.inheritOpt(this.name,"et-al-subsequent-min")?this.etal_min=this.state.inheritOpt(this.name,"et-al-subsequent-min"):this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.inheritOpt(this.name,"et-al-subsequent-use-first")?this.etal_use_first=this.state.inheritOpt(this.name,"et-al-subsequent-use-first"):this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first")):(this.state.tmp["et-al-min"]?this.etal_min=this.state.tmp["et-al-min"]:this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.tmp["et-al-use-first"]?this.etal_use_first=this.state.tmp["et-al-use-first"]:this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first"),"boolean"==typeof this.state.tmp["et-al-use-last"]?this.etal_use_last=this.state.tmp["et-al-use-last"]:this.etal_use_last=this.state.inheritOpt(this.name,"et-al-use-last")),this.state.tmp["et-al-min"]||(this.state.tmp["et-al-min"]=this.etal_min)},CSL.NameOutput.prototype.setEtAlParameters=function(){var t,e,n,i;for(t=0,e=this.variables.length;e>t;t+=1){var r=this.variables[t];for("undefined"==typeof this.etal_spec[r]&&(this.etal_spec[r]={freeters:0,institutions:0,persons:[]}),this.etal_spec[this.nameset_base+t]=this.etal_spec[r],this.freeters[r].length&&this._setEtAlParameter("freeters",r),n=0,i=this.persons[r].length;i>n;n+=1)"undefined"==typeof this.etal_spec[r][n]&&(this.etal_spec[r].persons[n]=0),this._setEtAlParameter("persons",r,n);this.institutions[r].length&&this._setEtAlParameter("institutions",r)}},CSL.NameOutput.prototype._setEtAlParameter=function(t,e,n){var i,r;"persons"===t?(i=this.persons[e][n],r=this.persons_count[e][n]):(i=this[t][e],r=this[t+"_count"][e]),i.length<r&&!this.state.tmp.sort_key_flag?this.etal_use_last?"persons"===t?this.etal_spec[e].persons[n]=2:this.etal_spec[e][t]=2:"persons"===t?this.etal_spec[e].persons[n]=1:this.etal_spec[e][t]=1:"persons"===t?this.etal_spec[e].persons[n]=0:this.etal_spec[e][t]=0},CSL.NameOutput.prototype.renderAllNames=function(){for(var t,e=0,n=this.variables.length;n>e;e+=1){var i=this.variables[e];(this.freeters[i].length||this.institutions[i].length)&&(this.state.tmp.group_context.tip.condition||(this.state.tmp.just_did_number=!1)),t=this.nameset_base+e,this.freeters[i].length&&(this.freeters[i]=this._renderNames(i,this.freeters[i],t));for(var r=0,s=this.institutions[i].length;s>r;r+=1)this.persons[i][r]=this._renderNames(i,this.persons[i][r],t,r)}this.renderInstitutionNames()},CSL.NameOutput.prototype.renderInstitutionNames=function(){for(var t=0,e=this.variables.length;e>t;t+=1)for(var n=this.variables[t],i=0,r=this.institutions[n].length;r>i;i+=1){var s,i,r,o,a=this.institutions[n][i];if(o=this.state.tmp.extension?["sort"]:a.isInstitution||a.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons,slot={primary:"locale-orig",secondary:!1,tertiary:!1},o)for(var u=["primary","secondary","tertiary"],l=0,c=u.length;c>l&&!(o.length-1<l);l+=1)o[l]&&(slot[u[l]]="locale-"+o[l]);else slot.primary="locale-translat";"bibliography"===this.state.tmp.area||"citation"===this.state.tmp.area&&"note"===this.state.opt.xclass&&this.item&&!this.item.position||(slot.secondary=!1,slot.tertiary=!1);this.setRenderedName(a);var s=this._renderInstitutionName(n,a,slot,i);this.institutions[n][i]=s}},CSL.NameOutput.prototype._renderInstitutionName=function(t,e,n,i){res=this.getName(e,n.primary,!0);var r=res.name,s=res.usedOrig;r&&(r=this.fixupInstitution(r,t,i)),secondary=!1,n.secondary&&(res=this.getName(e,n.secondary,!1,s),secondary=res.name,s=res.usedOrig,secondary&&(secondary=this.fixupInstitution(secondary,t,i))),tertiary=!1,n.tertiary&&(res=this.getName(e,n.tertiary,!1,s),tertiary=res.name,tertiary&&(tertiary=this.fixupInstitution(tertiary,t,i)));var o={l:{pri:!1,sec:!1,ter:!1},s:{pri:!1,sec:!1,ter:!1}};switch(r&&(o.l.pri=r["long"],o.s.pri=r["short"].length?r["short"]:r["long"]),secondary&&(o.l.sec=secondary["long"],o.s.sec=secondary["short"].length?secondary["short"]:secondary["long"]),tertiary&&(o.l.ter=tertiary["long"],o.s.ter=tertiary["short"].length?tertiary["short"]:tertiary["long"]),this.institution.strings["institution-parts"]){case"short":r["short"].length?(short_style=this._getShortStyle(),institution=[this._composeOneInstitutionPart([o.s.pri,o.s.sec,o.s.ter],n,short_style,t)]):(long_style=this._getLongStyle(r,t,i),institution=[this._composeOneInstitutionPart([o.l.pri,o.l.sec,o.l.ter],n,long_style,t)]);break;case"short-long":long_style=this._getLongStyle(r,t,i),short_style=this._getShortStyle(),institution_short=this._renderOneInstitutionPart(r["short"],short_style),institution_long=this._composeOneInstitutionPart([o.l.pri,o.l.sec,o.l.ter],n,long_style,t),institution=[institution_short,institution_long];break;case"long-short":long_style=this._getLongStyle(r,t,i),short_style=this._getShortStyle(),institution_short=this._renderOneInstitutionPart(r["short"],short_style),institution_long=this._composeOneInstitutionPart([o.l.pri,o.l.sec,o.l.ter],n,long_style,t),institution=[institution_long,institution_short];break;default:long_style=this._getLongStyle(r,t,i),institution=[this._composeOneInstitutionPart([o.l.pri,o.l.sec,o.l.ter],n,long_style,t)]}return this._join(institution," ")},CSL.NameOutput.prototype._composeOneInstitutionPart=function(t,e,n,i){var r,s,o,a=!1,u=!1,l=!1;if(t[0]){if(r=CSL.Util.cloneToken(n),this.state.opt.citeAffixes[e.primary]&&"<i>"===this.state.opt.citeAffixes.institutions[e.primary].prefix){for(var c=!1,h=0,f=r.decorations.length;f>h;h+=1)"@font-style"===n.decorations[h][0]&&"italic"===r.decorations[h][1]&&(c=!0);c||r.decorations.push(["@font-style","italic"])}a=this._renderOneInstitutionPart(t[0],r)}t[1]&&(u=this._renderOneInstitutionPart(t[1],n)),t[2]&&(l=this._renderOneInstitutionPart(t[2],n));var p;if(u||l){this.state.output.openLevel("empty"),this.state.output.append(a),s=CSL.Util.cloneToken(n),e.secondary&&(s.strings.prefix=this.state.opt.citeAffixes.institutions[e.secondary].prefix,s.strings.suffix=this.state.opt.citeAffixes.institutions[e.secondary].suffix,s.strings.prefix||(s.strings.prefix=" "));var d=new CSL.Token;d.decorations.push(["@font-style","normal"]),d.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(d),this.state.output.append(u,s),this.state.output.closeLevel(),o=CSL.Util.cloneToken(n),e.tertiary&&(o.strings.prefix=this.state.opt.citeAffixes.institutions[e.tertiary].prefix,o.strings.suffix=this.state.opt.citeAffixes.institutions[e.tertiary].suffix,o.strings.prefix||(o.strings.prefix=" "));var m=new CSL.Token;m.decorations.push(["@font-style","normal"]),m.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(m),this.state.output.append(l,o),this.state.output.closeLevel(),this.state.output.closeLevel(),p=this.state.output.pop()}else p=a;return p},CSL.NameOutput.prototype._renderOneInstitutionPart=function(t,e){for(var n=0,i=t.length;i>n;n+=1)if(t[n]){var r=t[n];if(this.state.tmp.strip_periods)r=r.replace(/\./g,"");else for(var s=0,o=e.decorations.length;o>s;s+=1)if("@strip-periods"===e.decorations[s][0]&&"true"===e.decorations[s][1]){r=r.replace(/\./g,"");break}this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,CSL.LITERAL),"!here>>>"===r?t[n]=!1:(this.state.output.append(r,e,!0),t[n]=this.state.output.pop())}return"undefined"==typeof this.institution.strings["part-separator"]&&(this.institution.strings["part-separator"]=this.state.tmp.name_delimiter),this._join(t,this.institution.strings["part-separator"])},CSL.NameOutput.prototype._renderNames=function(t,e,n,i){var r=!1;if(e.length){for(var s=[],o=0,a=e.length;a>o;o+=1){var r,u,l=e[o];if(u=this.state.tmp.extension?["sort"]:l.isInstitution||l.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons,slot={primary:"locale-orig",secondary:!1,tertiary:!1},u)for(var c=["primary","secondary","tertiary"],h=0,f=c.length;f>h&&!(u.length-1<h);h+=1)slot[c[h]]="locale-"+u[h];else slot.primary="locale-translat";if((this.state.tmp.sort_key_flag||"bibliography"!==this.state.tmp.area&&("citation"!==this.state.tmp.area||"note"!==this.state.opt.xclass||!this.item||this.item.position))&&(slot.secondary=!1,slot.tertiary=!1),this.setRenderedName(l),l.literal||l.isInstitution)s.push(this._renderInstitutionName(t,l,slot,i));else{var p=this._renderPersonalName(t,l,slot,n,o,i),d=CSL.Util.cloneToken(this.name);this.state.output.append(p,d,!0),s.push(this.state.output.pop())}}r=this.joinPersons(s,n,i)}return r},CSL.NameOutput.prototype._renderPersonalName=function(t,e,n,i,r,s){var o=this.getName(e,n.primary,!0),a=this._renderOnePersonalName(o.name,i,r,s);secondary=!1,n.secondary&&(o=this.getName(e,n.secondary,!1,o.usedOrig),o.name&&(secondary=this._renderOnePersonalName(o.name,i,r,s))),tertiary=!1,n.tertiary&&(o=this.getName(e,n.tertiary,!1,o.usedOrig),o.name&&(tertiary=this._renderOnePersonalName(o.name,i,r,s)));var u;return secondary||tertiary?(this.state.output.openLevel("empty"),this.state.output.append(a),secondary_tok=new CSL.Token,n.secondary&&(secondary_tok.strings.prefix=this.state.opt.citeAffixes.persons[n.secondary].prefix,secondary_tok.strings.suffix=this.state.opt.citeAffixes.persons[n.secondary].suffix,secondary_tok.strings.prefix||(secondary_tok.strings.prefix=" ")),this.state.output.append(secondary,secondary_tok),tertiary_tok=new CSL.Token,n.tertiary&&(tertiary_tok.strings.prefix=this.state.opt.citeAffixes.persons[n.tertiary].prefix,tertiary_tok.strings.suffix=this.state.opt.citeAffixes.persons[n.tertiary].suffix,tertiary_tok.strings.prefix||(tertiary_tok.strings.prefix=" ")),this.state.output.append(tertiary,tertiary_tok),this.state.output.closeLevel(),u=this.state.output.pop()):u=a,u},CSL.NameOutput.prototype._isRomanesque=function(t){var e=2;if(t.family.replace(/\"/g,"").match(CSL.ROMANESQUE_REGEXP)||(e=0),!e&&t.given&&t.given.match(CSL.STARTSWITH_ROMANESQUE_REGEXP)&&(e=1),2==e){if(t.multi&&t.multi.main)var n=t.multi.main.slice(0,2);else this.Item.language&&(n=this.Item.language.slice(0,2));["ja","zh"].indexOf(n)>-1&&(e=1)}return e},CSL.NameOutput.prototype._renderOnePersonalName=function(t,e,n,i){var r=t,s=this._droppingParticle(r,e,i),o=this._familyName(r),a=this._nonDroppingParticle(r),u=this._givenName(r,e,n),l=this._nameSuffix(r);this._isShort(e,n)&&!r["full-form-always"]&&(s=!1,u=!1,l=!1);var c=this.state.inheritOpt(this.name,"sort-separator");c||(c="");var h;h=r["comma-suffix"]?", ":" ";var f,p,d,m,g=this._isRomanesque(r),v=a&&["","'","-"," "].indexOf(a.blobs.slice(-1))>-1;if(0===g)f=this._join([a,o,u],"");else if(1===g||r["static-ordering"])f=this._join([a,o,u]," ");else if(r["reverse-ordering"])f=this._join([u,a,o]," ");else if(this.state.tmp.sort_key_flag)"never"===this.state.opt["demote-non-dropping-particle"]?(d=this._join([a,o,s]," "),p=this._join([d,u],this.state.opt.sort_sep),f=this._join([p,l]," ")):(m=this._join([u,s,a]," "),p=this._join([o,m],this.state.opt.sort_sep),f=this._join([p,l]," "));else if("all"===this.state.inheritOpt(this.name,"name-as-sort-order")||"first"===this.state.inheritOpt(this.name,"name-as-sort-order")&&0===n&&(0===i||"undefined"==typeof i))["Lord","Lady"].indexOf(r.given)>-1&&(c=", "),["always","display-and-sort"].indexOf(this.state.opt["demote-non-dropping-particle"])>-1?(m=this._join([u,s],r["comma-dropping-particle"]+" "),m=this._join([m,a]," "),m&&this.given&&(m.strings.prefix=this.given.strings.prefix,m.strings.suffix=this.given.strings.suffix),o&&this.family&&(o.strings.prefix=this.family.strings.prefix,o.strings.suffix=this.family.strings.suffix),p=this._join([o,m],c),f=this._join([p,l],c)):(d=v?this._join([a,o],""):this._join([a,o]," "),d&&this.family&&(d.strings.prefix=this.family.strings.prefix,d.strings.suffix=this.family.strings.suffix),m=this._join([u,s],r["comma-dropping-particle"]+" "),m&&this.given&&(m.strings.prefix=this.given.strings.prefix,m.strings.suffix=this.given.strings.suffix),p=this._join([d,m],c),f=this._join([p,l],c));else{r["dropping-particle"]&&r.family&&!r["non-dropping-particle"]&&["'","","","-"].indexOf(r["dropping-particle"].slice(-1))>-1&&(o=this._join([s,o],""),s=!1),!this.state.tmp.term_predecessor;var b=" ";this.state.inheritOpt(this.name,"initialize-with")&&this.state.inheritOpt(this.name,"initialize-with").match(/[\u00a0\ufeff]/)&&["fr","ru","cs"].indexOf(this.state.opt["default-locale"][0].slice(0,2))>-1&&(b=""),v?(m=this._join([a,o],""),m=this._join([s,m],b)):m=this._join([s,a,o],b),m=this._join([m,l],h),m&&this.family&&(m.strings.prefix=this.family.strings.prefix,m.strings.suffix=this.family.strings.suffix),u&&this.given&&(u.strings.prefix=this.given.strings.prefix,u.strings.suffix=this.given.strings.suffix),m.strings.prefix&&(r["comma-dropping-particle"]=""),f=this._join([u,m],r["comma-dropping-particle"]+b)}return this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,CSL.LITERAL),this.state.tmp.term_predecessor=!0,this.state.tmp.name_node.children.push(f),f},CSL.NameOutput.prototype._isShort=function(t,e){return 0===this.state.tmp.disambig_settings.givens[t][e]?!0:!1},CSL.NameOutput.prototype._normalizeNameInput=function(t){var e={literal:t.literal,family:t.family,isInstitution:t.isInstitution,given:t.given,suffix:t.suffix,"comma-suffix":t["comma-suffix"],"non-dropping-particle":t["non-dropping-particle"],"dropping-particle":t["dropping-particle"],"static-ordering":t["static-ordering"],"static-particles":t["static-particles"],"reverse-ordering":t["reverse-ordering"],"full-form-always":t["full-form-always"],"parse-names":t["parse-names"],"comma-dropping-particle":"",block_initialize:t.block_initialize,multi:t.multi};return this._parseName(e),e},CSL.NameOutput.prototype._stripPeriods=function(t,e){var n=this[t+"_decor"];if(e)if(this.state.tmp.strip_periods)e=e.replace(/\./g,"");else if(n)for(var i=0,r=n.decorations.length;r>i;i+=1)if("@strip-periods"===n.decorations[i][0]&&"true"===n.decorations[i][1]){e=e.replace(/\./g,"");break}return e},CSL.NameOutput.prototype._nonDroppingParticle=function(t){var e=t["non-dropping-particle"];e&&this.state.tmp.sort_key_flag&&(e=e.replace(/[\'\u2019]/,""));var n=this._stripPeriods("family",e);return this.state.output.append(n,this.family_decor,!0)?this.state.output.pop():!1},CSL.NameOutput.prototype._droppingParticle=function(t,e,n){var i=t["dropping-particle"];i&&this.state.tmp.sort_key_flag&&(i=i.replace(/[\'\u2019]/,""));var r=this._stripPeriods("given",i);if(t["dropping-particle"]&&t["dropping-particle"].match(/^et.?al[^a-z]$/))this.state.inheritOpt(this.name,"et-al-use-last")?"undefined"==typeof n?this.etal_spec[e].freeters=2:this.etal_spec[e].persons=2:"undefined"==typeof n?this.etal_spec[e].freeters=1:this.etal_spec[e].persons=1,t["comma-dropping-particle"]="";else if(this.state.output.append(r,this.given_decor,!0))return this.state.output.pop();return!1},CSL.NameOutput.prototype._familyName=function(t){var e=this._stripPeriods("family",t.family);return this.state.output.append(e,this.family_decor,!0)?this.state.output.pop():!1},CSL.NameOutput.prototype._givenName=function(t,e,n){if(this.state.inheritOpt(this.name,"initialize")===!1)t.family&&t.given&&this.state.inheritOpt(this.name,"initialize")===!1&&(t.given=CSL.Util.Names.initializeWith(this.state,t.given,this.state.inheritOpt(this.name,"initialize-with"),!0)),t.given=CSL.Util.Names.unInitialize(this.state,t.given);else if(t.family&&1===this.state.tmp.disambig_settings.givens[e][n]&&!t.block_initialize){var i=this.state.inheritOpt(this.name,"initialize-with");t.given=CSL.Util.Names.initializeWith(this.state,t.given,i)}else t.given=CSL.Util.Names.unInitialize(this.state,t.given);var r=this._stripPeriods("given",t.given),s=this.state.output.append(r,this.given_decor,!0);return s?(ret=this.state.output.pop(),ret):!1},CSL.NameOutput.prototype._nameSuffix=function(t){var e=t.suffix;"string"==typeof this.state.inheritOpt(this.name,"initialize-with")&&(e=CSL.Util.Names.initializeWith(this.state,t.suffix,this.state.inheritOpt(this.name,"initialize-with"),!0)),e=this._stripPeriods("family",e);var n="";e&&"."===e.slice(-1)&&(e=e.slice(0,-1),n=".");var i=this.state.output.append(e,"empty",!0);return i?(ret=this.state.output.pop(),ret.strings.suffix=n+ret.strings.suffix,ret):!1},CSL.NameOutput.prototype._getLongStyle=function(t,e,n){var i;return i=t["short"].length&&this.institutionpart["long-with-short"]?this.institutionpart["long-with-short"]:this.institutionpart["long"],i||(i=new CSL.Token),i},CSL.NameOutput.prototype._getShortStyle=function(){var t;return t=this.institutionpart["short"]?this.institutionpart["short"]:new CSL.Token},CSL.NameOutput.prototype._parseName=function(t){if(!t["parse-names"]&&"undefined"!=typeof t["parse-names"])return t;t.family&&!t.given&&t.isInstitution&&(t.literal=t.family,t.family=void 0,t.isInstitution=void 0);var e;t.family&&'"'===t.family.slice(0,1)&&'"'===t.family.slice(-1)||!t["parse-names"]&&"undefined"!=typeof t["parse-names"]?(t.family=t.family.slice(1,-1),e=!0,t["parse-names"]=0):e=!1,this.state.opt.development_extensions.parse_names&&!t["non-dropping-particle"]&&t.family&&!e&&t.given&&(t["static-particles"]||CSL.parseParticles(t,!0))},CSL.NameOutput.prototype.getName=function(t,e,n,r){if(r&&"locale-orig"===e)return{name:!1,usedOrig:r};t.family||(t.family=""),t.given||(t.given="");var s={};s["static-ordering"]=this.getStaticOrder(t);var o=!0;if("locale-orig"!==e&&(o=!1,t.multi)){
var a=this.state.opt[e];for(i=0,ilen=a.length;i<ilen;i+=1)if(l=a[i],t.multi._key[l]){o=!0;var u=t.isInstitution;t=t.multi._key[l],t.isInstitution=u,s=this.getNameParams(l),s.transliterated=!0;break}}if(!o){var l=!1;t.multi&&t.multi.main?l=t.multi.main:this.Item.language&&(l=this.Item.language),l&&(s=this.getNameParams(l))}if(!n&&!o)return{name:!1,usedOrig:r};t.family||(t.family=""),t.given||(t.given=""),t={family:t.family,given:t.given,"non-dropping-particle":t["non-dropping-particle"],"dropping-particle":t["dropping-particle"],suffix:t.suffix,"static-ordering":s["static-ordering"],"static-particles":t["static-particles"],"reverse-ordering":s["reverse-ordering"],"full-form-always":s["full-form-always"],"parse-names":t["parse-names"],"comma-suffix":t["comma-suffix"],"comma-dropping-particle":t["comma-dropping-particle"],transliterated:s.transliterated,block_initialize:s["block-initialize"],literal:t.literal,isInstitution:t.isInstitution,multi:t.multi},!t.literal&&!t.given&&t.family&&t.isInstitution&&(t.literal=t.family),t.literal&&(delete t.family,delete t.given),t=this._normalizeNameInput(t);var c;return c=r?r:!o,{name:t,usedOrig:c}},CSL.NameOutput.prototype.getNameParams=function(t){var e={},n=CSL.localeResolve(this.Item.language,this.state.opt["default-locale"][0]),i=this.state.locale[n.best]?n.best:this.state.opt["default-locale"][0],r=this.state.locale[i].opts["name-as-sort-order"],s=this.state.locale[i].opts["name-as-reverse-order"],o=this.state.locale[i].opts["name-never-short"],a=t.split("-")[0];return r&&r[a]&&(e["static-ordering"]=!0,e["reverse-ordering"]=!1),s&&s[a]&&(e["reverse-ordering"]=!0,e["static-ordering"]=!1),o&&o[a]&&(e["full-form-always"]=!0),e["static-ordering"]&&(e["block-initialize"]=!0),e},CSL.NameOutput.prototype.setRenderedName=function(t){if("bibliography"===this.state.tmp.area){for(var e="",n=0,i=CSL.NAME_PARTS.length;i>n;n+=1)t[CSL.NAME_PARTS[n]]&&(e+=t[CSL.NAME_PARTS[n]]);this.state.tmp.rendered_name.push(e)}},CSL.NameOutput.prototype.fixupInstitution=function(t,e,n){this.state.sys.getHumanForm&&"legal_case"===this.Item.type&&"authority"===e&&(t.literal=this.state.sys.getHumanForm(this.Item.jurisdiction,t.literal)),t=this._splitInstitution(t,e,n),this.institution.strings["reverse-order"]&&t["long"].reverse();var i=t["long"],r=t["long"].slice(),s=!1;if(this.state.sys.getAbbreviation)for(var o=this.Item.jurisdiction,a=0,u=i.length;u>a;a+=1)o=this.state.transform.loadAbbreviation(o,"institution-part",i[a]),this.state.transform.abbrevs[o]["institution-part"][i[a]]&&(r[a]=this.state.transform.abbrevs[o]["institution-part"][i[a]],s=!0);return s?t["short"]=r:t["short"]=[],t},CSL.NameOutput.prototype.getStaticOrder=function(t,e){var n=!1;return!e&&t["static-ordering"]?n=!0:0===this._isRomanesque(t)?n=!0:(!t.multi||!t.multi.main)&&this.Item.language&&["vi","hu"].indexOf(this.Item.language)>-1?n=!0:t.multi&&t.multi.main&&["vi","hu"].indexOf(t.multi.main.slice(0,2))>-1?n=!0:this.state.opt["auto-vietnamese-names"]&&CSL.VIETNAMESE_NAMES.exec(t.family+" "+t.given)&&CSL.VIETNAMESE_SPECIALS.exec(t.family+t.given)&&(n=!0),n},CSL.NameOutput.prototype._splitInstitution=function(t,e,n){var i={},r=t.literal.replace(/\s*\|\s*/g,"|");if(r=r.split("|"),"short"===this.institution.strings.form&&this.state.sys.getAbbreviation)for(var s=this.Item.jurisdiction,o=r.length;o>0;o+=-1){var a=r.slice(0,o).join("|");if(s=this.state.transform.loadAbbreviation(s,"institution-entire",a),this.state.transform.abbrevs[s]["institution-entire"][a]){var u=this.state.transform.abbrevs[s]["institution-entire"][a];u=this.state.transform.quashCheck(u);var l=u.split(/>>[0-9]{4}>>/),c=u.match(/>>([0-9]{4})>>/);if(u=l.pop(),l.length>0&&this.Item["original-date"]&&this.Item["original-date"].year)for(var h=c.length-1;h>0&&!(parseInt(this.Item["original-date"].year,10)>=parseInt(c[h],10));h+=-1)u=l.pop();u=u.replace(/\s*\|\s*/g,"|"),r=[u];break}}return r.reverse(),i["long"]=this._trimInstitution(r,e,n),i},CSL.NameOutput.prototype._trimInstitution=function(t,e,n){var i=!1,r=!1,s=t.slice(),o=!1;return this.institution&&("undefined"!=typeof this.institution.strings["use-first"]&&(i=this.institution.strings["use-first"]),"undefined"!=typeof this.institution.strings["stop-last"]?o=this.institution.strings["stop-last"]:"authority"===e&&this.state.tmp.authority_stop_last&&(o=this.state.tmp.authority_stop_last),o&&(s=s.slice(0,o),t=t.slice(0,o)),"undefined"!=typeof this.institution.strings["use-last"]&&(r=this.institution.strings["use-last"]),"authority"===e&&(o&&(this.state.tmp.authority_stop_last=o),r&&(this.state.tmp.authority_stop_last+=-1*r))),!1===i&&(0===this.persons[e].length&&(i=this.institution.strings["substitute-use-first"]),i||(i=0)),!1===r&&(r=i?0:t.length),i>t.length-r&&(i=t.length-r),t=t.slice(0,i),s=s.slice(i),r&&(r>s.length&&(r=s.length),r&&(t=t.concat(s.slice(s.length-r)))),t},CSL.PublisherOutput=function(t,e){this.state=t,this.group_tok=e,this.varlist=[]},CSL.PublisherOutput.prototype.render=function(){this.clearVars(),this.composeAndBlob(),this.composeElements(),this.composePublishers(),this.joinPublishers()},CSL.PublisherOutput.prototype.composeAndBlob=function(){this.and_blob={};var t=!1;"text"===this.group_tok.strings.and?t=this.state.getTerm("and"):"symbol"===this.group_tok.strings.and&&(t="&");var e=new CSL.Token;e.strings.suffix=" ",e.strings.prefix=" ",this.state.output.append(t,e,!0);var n=this.state.output.pop();e.strings.prefix=this.group_tok.strings["subgroup-delimiter"],this.state.output.append(t,e,!0);var i=this.state.output.pop();this.and_blob.single=!1,this.and_blob.multiple=!1,t&&("always"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?this.and_blob.single=i:"never"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?(this.and_blob.single=n,this.and_blob.multiple=n):(this.and_blob.single=n,this.and_blob.multiple=i))},CSL.PublisherOutput.prototype.composeElements=function(){for(var t=0,e=2;e>t;t+=1)for(var n=["publisher","publisher-place"][t],i=0,r=this["publisher-list"].length;r>i;i+=1){var s=this[n+"-list"][i],o=this[n+"-token"];this.state.output.append(s,o,!0),this[n+"-list"][i]=this.state.output.pop()}},CSL.PublisherOutput.prototype.composePublishers=function(){for(var t,e=0,n=this["publisher-list"].length;n>e;e+=1){t=[this[this.varlist[0]+"-list"][e],this[this.varlist[1]+"-list"][e]],this["publisher-list"][e]=this._join(t,this.group_tok.strings.delimiter)}},CSL.PublisherOutput.prototype.joinPublishers=function(){var t=this["publisher-list"],e=(this.name_delimiter,this._join(t,this.group_tok.strings["subgroup-delimiter"],this.and_blob.single,this.and_blob.multiple,this.group_tok));this.state.output.append(e,"literal")},CSL.PublisherOutput.prototype._join=CSL.NameOutput.prototype._join,CSL.PublisherOutput.prototype._getToken=CSL.NameOutput.prototype._getToken,CSL.PublisherOutput.prototype.clearVars=function(){this.state.tmp["publisher-list"]=!1,this.state.tmp["publisher-place-list"]=!1,this.state.tmp["publisher-group-token"]=!1,this.state.tmp["publisher-token"]=!1,this.state.tmp["publisher-place-token"]=!1},CSL.evaluateLabel=function(t,e,n,i){var r;"locator"===t.strings.term?(i&&i.label&&(r="sub verbo"===i.label?"sub-verbo":i.label),r||(r="page")):r=t.strings.term;var s=t.strings.plural;if("number"!=typeof s){var o="locator"===t.strings.term?i:n;e.processNumber(!1,o,t.strings.term,n.type),s=e.tmp.shadow_numbers[t.strings.term].plural,e.tmp.shadow_numbers[t.strings.term].labelForm||e.tmp.shadow_numbers[t.strings.term].labelDecorations||(e.tmp.shadow_numbers[t.strings.term].labelForm=t.strings.form,e.tmp.shadow_numbers[t.strings.term].labelDecorations=t.decorations.slice()),["locator","number","page"].indexOf(t.strings.term)>-1&&e.tmp.shadow_numbers[t.strings.term].label&&(r=e.tmp.shadow_numbers[t.strings.term].label),t.decorations&&(e.opt.development_extensions.csl_reverse_lookup_support||e.sys.csl_reverse_lookup_support)&&(t.decorations.reverse(),t.decorations.push(["@showid","true",t.cslid]),t.decorations.reverse())}return CSL.castLabel(e,t,r,s,CSL.TOLERANT)},CSL.castLabel=function(t,e,n,i,r){var s=e.strings.form;t.tmp.group_context.tip.label_form&&"static"!==s&&(s=t.tmp.group_context.tip.label_form);var o=t.getTerm(n,s,i,!1,r,e.default_locale);if(t.tmp.strip_periods)o=o.replace(/\./g,"");else for(var a=0,u=e.decorations.length;u>a;a+=1)if("@strip-periods"===e.decorations[a][0]&&"true"===e.decorations[a][1]){o=o.replace(/\./g,"");break}return o},CSL.Node.name={build:function(t,e){var n;if([CSL.SINGLETON,CSL.START].indexOf(this.tokentype)>-1){if("undefined"==typeof t.tmp.root){var i=void 0;t.tmp.root="citation"}else var i=t.tmp.root;t.inheritOpt(this,"et-al-subsequent-min")&&t.inheritOpt(this,"et-al-subsequent-min")!==t.inheritOpt(this,"et-al-min")&&(t.opt.update_mode=CSL.POSITION),t.inheritOpt(this,"et-al-subsequent-use-first")&&t.inheritOpt(this,"et-al-subsequent-use-first")!==t.inheritOpt(this,"et-al-use-first")&&(t.opt.update_mode=CSL.POSITION),t.tmp.root=i,n=function(t,e){t.tmp.etal_term="et-al",t.tmp.name_delimiter=t.inheritOpt(this,"delimiter","name-delimiter",", "),t.tmp["delimiter-precedes-et-al"]=t.inheritOpt(this,"delimiter-precedes-et-al"),"text"===t.inheritOpt(this,"and")?this.and_term=t.getTerm("and","long",0):"symbol"===t.inheritOpt(this,"and")&&(t.opt.development_extensions.expect_and_symbol_form?this.and_term=t.getTerm("and","symbol",0):this.and_term="&"),t.tmp.and_term=this.and_term,CSL.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"==typeof t.tmp.name_delimiter&&(this.and_prefix_multiple=t.tmp.name_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===t.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=t.tmp.name_delimiter:"never"===t.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_multiple&&(this.and_prefix_multiple=" "):"after-inverted-name"===t.inheritOpt(this,"delimiter-precedes-last")&&(this.and_prefix_single&&(this.and_prefix_single=t.tmp.name_delimiter),this.and_prefix_multiple&&(this.and_prefix_multiple=" ")),this.and={},t.inheritOpt(this,"and")?(t.output.append(this.and_term,"empty",!0),this.and.single=t.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,t.output.append(this.and_term,"empty",!0),this.and.multiple=t.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):t.tmp.name_delimiter&&(this.and.single=new CSL.Blob(t.tmp.name_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new CSL.Blob(t.tmp.name_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),this.ellipsis={},t.inheritOpt(this,"et-al-use-last")&&(this.ellipsis_term="",this.ellipsis_prefix_single=" ",this.ellipsis_prefix_multiple=t.inheritOpt(this,"delimiter","name-delimiter",", "),this.ellipsis_suffix=" ",this.ellipsis.single=new CSL.Blob(this.ellipsis_term),this.ellipsis.single.strings.prefix=this.ellipsis_prefix_single,this.ellipsis.single.strings.suffix=this.ellipsis_suffix,this.ellipsis.multiple=new CSL.Blob(this.ellipsis_term),this.ellipsis.multiple.strings.prefix=this.ellipsis_prefix_multiple,this.ellipsis.multiple.strings.suffix=this.ellipsis_suffix),"undefined"==typeof t.tmp["et-al-min"]&&(t.tmp["et-al-min"]=t.inheritOpt(this,"et-al-min")),"undefined"==typeof t.tmp["et-al-use-first"]&&(t.tmp["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first")),"undefined"==typeof t.tmp["et-al-use-last"]&&(t.tmp["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last")),t.nameOutput.name=this},t.build.name_flag=!0,this.execs.push(n)}e.push(this)}},CSL.Node["name-part"]={build:function(t,e){t.build[this.strings.name]=this}},CSL.Node.names={build:function(t,e){var n;if((this.tokentype===CSL.START||this.tokentype===CSL.SINGLETON)&&(CSL.Util.substituteStart.call(this,t,e),t.build.substitute_level.push(1)),this.tokentype===CSL.SINGLETON){t.build.names_variables.push(this.variables);for(var i=0,r=this.variables.length;r>i;i+=1)t.build.name_label[this.variables[i]]=t.build.name_label[t.build.names_variables.slice(0)[0]];n=function(t,e,n){t.nameOutput.reinit(this)},this.execs.push(n)}if(this.tokentype===CSL.START&&(t.build.names_flag=!0,t.build.names_level+=1,1===t.build.names_level&&(t.build.names_variables=[],t.build.name_label={}),t.build.names_variables.push(this.variables),n=function(t,e,n){t.tmp.can_substitute.push(!0),t.parallel.StartVariable("names",this.variables[0]),t.nameOutput.init(this)},this.execs.push(n)),this.tokentype===CSL.END){for(var i=0,r=3;r>i;i+=1){var s=["family","given","et-al"][i];this[s]=t.build[s],1===t.build.names_level&&(t.build[s]=void 0)}this.label=t.build.name_label,1===t.build.names_level&&(t.build.name_label={}),t.build.names_level+=-1,t.build.names_variables.pop(),n=function(t,e,n){t.tmp.etal_node?this.etal_style=t.tmp.etal_node:this.etal_style="empty",this.etal_term=t.getTerm(t.tmp.etal_term,"long",0),CSL.STARTSWITH_ROMANESQUE_REGEXP.test(this.etal_term)?(this.etal_prefix_single=" ",this.etal_prefix_multiple=t.tmp.name_delimiter,"always"===t.tmp["delimiter-precedes-et-al"]?this.etal_prefix_single=t.tmp.name_delimiter:"never"===t.tmp["delimiter-precedes-et-al"]?this.etal_prefix_multiple=" ":"after-inverted-name"===t.tmp["delimiter-precedes-et-al"]&&(this.etal_prefix_single=t.tmp.name_delimiter,this.etal_prefix_multiple=" "),this.etal_suffix=""):(this.etal_prefix_single="",this.etal_prefix_multiple="",this.etal_suffix="");for(var i=0,r=3;r>i;i+=1){var s=["family","given"][i];t.nameOutput[s]=this[s]}t.nameOutput["with"]=this["with"];var o="with",a="",u="";CSL.STARTSWITH_ROMANESQUE_REGEXP.test(o)&&(a=" ",u=" ");var l={};l.single=new CSL.Blob(o),l.single.strings.suffix=u,l.multiple=new CSL.Blob(o),l.multiple.strings.suffix=u,"always"===t.inheritOpt(t.nameOutput.name,"delimiter-precedes-last")?(l.single.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter"),l.multiple.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter")):"contextual"===t.inheritOpt(t.nameOutput.name,"delimiter-precedes-last")?(l.single.strings.prefix=a,l.multiple.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter")):"after-inverted-name"===t.inheritOpt(t.nameOutput.name,"delimiter-precedes-last")?(l.single.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter"),l.multiple.strings.prefix=a):(l.single.strings.prefix=a,l.multiple.strings.prefix=a),t.nameOutput["with"]=l,t.nameOutput.label=this.label,t.nameOutput.etal_style=this.etal_style,t.nameOutput.etal_term=this.etal_term,t.nameOutput.etal_prefix_single=this.etal_prefix_single,t.nameOutput.etal_prefix_multiple=this.etal_prefix_multiple,t.nameOutput.etal_suffix=this.etal_suffix,t.nameOutput.outputNames(),t.tmp["et-al-use-first"]=void 0,t.tmp["et-al-min"]=void 0,t.tmp["et-al-use-last"]=void 0},this.execs.push(n),n=function(t,e){t.tmp.can_substitute.pop()||t.tmp.can_substitute.replace(!1,CSL.LITERAL),t.parallel.CloseVariable("names"),1===t.tmp.can_substitute.mystack.length&&(t.tmp.can_block_substitute=!1)},this.execs.push(n),t.build.name_flag=!1}e.push(this),(this.tokentype===CSL.END||this.tokentype===CSL.SINGLETON)&&(t.build.substitute_level.pop(),CSL.Util.substituteEnd.call(this,t,e))}},CSL.Node.number={build:function(t,e){var n;CSL.Util.substituteStart.call(this,t,e),"roman"===this.strings.form?this.formatter=t.fun.romanizer:"ordinal"===this.strings.form?this.formatter=t.fun.ordinalizer:"long-ordinal"===this.strings.form&&(this.formatter=t.fun.long_ordinalizer),"undefined"==typeof this.successor_prefix&&(this.successor_prefix=t[t.build.area].opt.layout_delimiter),"undefined"==typeof this.splice_prefix&&(this.splice_prefix=t[t.build.area].opt.layout_delimiter),n=function(t,e,n){if(0!==this.variables.length){if("undefined"==typeof n)var n={};var i;if(i=this.variables[0],"locator"!==i||!t.tmp.just_looking){t.parallel.StartVariable(this.variables[0]),"locator"===this.variables[0]?t.parallel.AppendToVariable(e.section):t.parallel.AppendToVariable(e[this.variables[0]]);new RegExp("(?:&|, | and |"+t.getTerm("page-range-delimiter")+")");"collection-number"===i&&"legal_case"===e.type&&(t.tmp.renders_collection_number=!0);var r=(e[this.variables[0]],"long");this.strings.label_form_override&&(r=this.strings.label_form_override);var s=this;if(t.tmp.group_context.tip.force_suppress)return!1;"locator"===i?t.processNumber(s,n,i,e.type):(!t.tmp.group_context.tip.condition&&e[i]&&(t.tmp.just_did_number=!0),t.processNumber(s,e,i,e.type)),CSL.Util.outputNumericField(t,i,e.id),t.parallel.CloseVariable("number"),["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!t.tmp.just_looking&&(t.tmp.done_vars.push(this.variables_real[0]),t.tmp.group_context.tip.done_vars.push(this.variables_real[0]))}}},this.execs.push(n),e.push(this),CSL.Util.substituteEnd.call(this,t,e)}},CSL.Node.sort={build:function(t,e){if(e=t[t.build.root+"_sort"].tokens,this.tokentype===CSL.START){"citation"===t.build.area&&(t.parallel.use_parallels=!1,t.opt.sort_citations=!0),t.build.area=t.build.root+"_sort",t.build.extension="_sort";var n=function(t,e){if(t.opt.has_layout_locale){for(var n,i=CSL.localeResolve(e.language,t.opt["default-locale"][0]),r=t[t.tmp.area.slice(0,-5)].opt.sort_locales,s=0,o=r.length;o>s&&(n=r[s][i.bare],n||(n=r[s][i.best]),!n);s+=1);n||(n=t.opt["default-locale"][0]),t.tmp.lang_sort_hold=t.opt.lang,t.opt.lang=n}};this.execs.push(n)}if(this.tokentype===CSL.END){t.build.area=t.build.root,t.build.extension="";var n=function(t,e){t.opt.has_layout_locale&&(t.opt.lang=t.tmp.lang_sort_hold,delete t.tmp.lang_sort_hold)};this.execs.push(n)}e.push(this)}},CSL.Node.substitute={build:function(t,e){var n;this.tokentype===CSL.START&&(n=function(t,e){t.tmp.can_block_substitute=!0,t.tmp.value.length&&t.tmp.can_substitute.replace(!1,CSL.LITERAL)},this.execs.push(n)),e.push(this)}},CSL.Node.text={build:function(t,e){var n,i,r,s,o,a,u,l,c,h,f,p,d;if(this.postponed_macro){var m=CSL.Util.cloneToken(this);m.name="group",m.tokentype=CSL.START,CSL.Node.group.build.call(m,t,e),CSL.expandMacro.call(t,this,e);var g=CSL.Util.cloneToken(this);g.name="group",g.tokentype=CSL.END,"juris-locator-label"===this.postponed_macro&&(g.isJurisLocatorLabel=!0),CSL.Node.group.build.call(g,t,e)}else{if(CSL.Util.substituteStart.call(this,t,e),this.variables_real||(this.variables_real=[]),this.variables||(this.variables=[]),i="long",r=0,this.strings.form&&(i=this.strings.form),this.strings.plural&&(r=this.strings.plural),"citation-number"===this.variables_real[0]||"year-suffix"===this.variables_real[0]||"citation-label"===this.variables_real[0])"citation-number"===this.variables_real[0]?("citation"===t.build.root&&(t.opt.update_mode=CSL.NUMERIC),"bibliography"===t.build.root&&(t.opt.bib_mode=CSL.NUMERIC),"bibliography_sort"===t.build.area&&(t.opt.citation_number_sort_used=!0),"citation-number"===t[t.tmp.area].opt.collapse&&(this.range_prefix=t.getTerm("citation-range-delimiter")),this.successor_prefix=t[t.build.area].opt.layout_delimiter,this.splice_prefix=t[t.build.area].opt.layout_delimiter,n=function(t,e,n){if(s=""+e.id,!t.tmp.just_looking){if(n&&n["author-only"]){t.tmp.element_trace.replace("do-not-suppress-me");var i=t.getTerm("reference","long","singular");"undefined"==typeof i&&(i="reference"),p=CSL.Output.Formatters["capitalize-first"](t,i),t.output.append(p+" "),t.tmp.last_element_trace=!0}n&&n["suppress-author"]&&(t.tmp.last_element_trace&&t.tmp.element_trace.replace("suppress-me"),t.tmp.last_element_trace=!1),o=t.registry.registry[s].seq,t.opt.citation_number_slug?t.output.append(t.opt.citation_number_slug,this):(a=new CSL.NumericBlob(!1,o,this,e.id),t.tmp.in_cite_predecessor&&(!t.tmp.just_looking,a.suppress_splice_prefix=!0),t.output.append(a,"literal"))}},this.execs.push(n)):"year-suffix"===this.variables_real[0]?(t.opt.has_year_suffix=!0,"year-suffix-ranged"===t[t.tmp.area].opt.collapse&&(this.range_prefix=t.getTerm("citation-range-delimiter")),this.successor_prefix=t[t.build.area].opt.layout_delimiter,t[t.tmp.area].opt["year-suffix-delimiter"]&&(this.successor_prefix=t[t.build.area].opt["year-suffix-delimiter"]),n=function(t,e){if(t.registry.registry[e.id]&&t.registry.registry[e.id].disambig.year_suffix!==!1&&!t.tmp.just_looking){o=parseInt(t.registry.registry[e.id].disambig.year_suffix,10),t[t.tmp.area].opt.cite_group_delimiter&&(this.successor_prefix=t[t.tmp.area].opt.cite_group_delimiter),a=new CSL.NumericBlob(!1,o,this,e.id),u=new CSL.Util.Suffixator(CSL.SUFFIX_CHARS),a.setFormatter(u),t.output.append(a,"literal"),l=!1;for(var n=0,i=t.tmp.group_context.mystack.length;i>n;n++)if(flags=t.tmp.group_context.mystack[n],!flags.variable_success&&(flags.variable_attempt||!flags.variable_attempt&&!flags.term_intended)){l=!0;break}c=t[t.tmp.area].opt["year-suffix-delimiter"],l&&c&&!t.tmp.sort_key_flag&&(t.tmp.splice_delimiter=t[t.tmp.area].opt["year-suffix-delimiter"])}},this.execs.push(n)):"citation-label"===this.variables_real[0]&&(t.opt.has_year_suffix=!0,n=function(t,e){h=e["citation-label"],h||(h=t.getCitationLabel(e)),t.tmp.just_looking||(f="",t.registry.registry[e.id]&&t.registry.registry[e.id].disambig.year_suffix!==!1&&(o=parseInt(t.registry.registry[e.id].disambig.year_suffix,10),f=t.fun.suffixator.format(o)),h+=f),t.output.append(h,this)},this.execs.push(n));else if(this.strings.term)n=function(t,e,n){var s=t.opt.gender[e.type],o=this.strings.term;o=t.getTerm(o,i,r,s,!1,this.default_locale);var a;if(""!==o&&(t.tmp.group_context.tip.term_intended=!0),CSL.UPDATE_GROUP_CONTEXT_CONDITION(t,o),a=t.tmp.term_predecessor||"in-text"===t.opt["class"]&&"citation"===t.tmp.area?o:CSL.Output.Formatters["capitalize-first"](t,o),t.tmp.strip_periods)a=a.replace(/\./g,"");else for(var u=0,l=this.decorations.length;l>u;u+=1)if("@strip-periods"===this.decorations[u][0]&&"true"===this.decorations[u][1]){a=a.replace(/\./g,"");break}t.output.append(a,this)},this.execs.push(n),t.build.term=!1,t.build.form=!1,t.build.plural=!1;else if(this.variables_real.length){if(n=function(t,e,n){var r=this.variables[0];"title"!==r||"short"!==i&&!e["title-short"]||(r="title-short"),t.parallel.StartVariable(r),t.parallel.AppendToVariable(e[r],r),!t.tmp.group_context.tip.condition&&e[this.variables[0]]&&(t.tmp.just_did_number=!1)},this.execs.push(n),CSL.MULTI_FIELDS.indexOf(this.variables_real[0])>-1||["language-name","language-name-original"].indexOf(this.variables_real[0])>-1){var v=this.variables[0],b=!1,y=!1,_=!1;"short"===i?"container-title"===this.variables_real[0]?y="journalAbbreviation":"title"===this.variables_real[0]&&(y="title-short"):v=!1,t.build.extension?_=!0:(_=!0,b=!0),n=t.transform.getOutputFunction(this.variables,v,b,y,_)}else n=CSL.CITE_FIELDS.indexOf(this.variables_real[0])>-1?function(t,e,n){n&&n[this.variables[0]]&&(t.processNumber(this,n,this.variables[0],e.type),CSL.Util.outputNumericField(t,this.variables[0],e.id),t.output.append(d,this,!1,!1,!0),["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!t.tmp.just_looking&&t.tmp.done_vars.push(this.variables_real[0]))}:["page","page-first","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume"].indexOf(this.variables_real[0])>-1?function(t,e){t.processNumber(this,e,this.variables[0],e.type),CSL.Util.outputNumericField(t,this.variables[0],e.id)}:["URL","DOI"].indexOf(this.variables_real[0])>-1?function(t,e){var n;this.variables[0]&&(n=t.getVariable(e,this.variables[0],i),n&&(t.opt.development_extensions.wrap_url_and_doi?this.decorations.length&&this.decorations[0][0]==="@"+this.variables[0]||(this.decorations=[["@"+this.variables[0],"true"]].concat(this.decorations)):this.decorations.length&&this.decorations[0][0]==="@"+this.variables[0]&&(this.decorations=this.decorations.slice(1)),t.output.append(n,this,!1,!1,!0)))}:"section"===this.variables_real[0]?function(t,e){var n;n=t.getVariable(e,this.variables[0],i),n&&t.output.append(n,this)}:"hereinafter"===this.variables_real[0]?function(t,e){var n=t.transform.abbrevs["default"].hereinafter[e.id];n&&(t.output.append(n,this),t.tmp.group_context.tip.variable_success=!0)}:function(t,e){var n;this.variables[0]&&(n=t.getVariable(e,this.variables[0],i),n&&(n=""+n,n=n.split("\\").join(""),t.output.append(n,this)))};this.execs.push(n),n=function(t,e){t.parallel.CloseVariable("text")},this.execs.push(n)}else this.strings.value&&(n=function(t,e){t.tmp.group_context.tip.term_intended=!0,CSL.UPDATE_GROUP_CONTEXT_CONDITION(t,this.strings.value,!0),t.output.append(this.strings.value,this)},this.execs.push(n));e.push(this),CSL.Util.substituteEnd.call(this,t,e)}}},CSL.Attributes={},CSL.Attributes["@genre"]=function(t,e){e=e.replace("-"," ");var n=function(t,n){return e===t.genre?!0:!1};this.tests.push(n)},CSL.Attributes["@disambiguate"]=function(t,e){if("true"===e){t.opt.has_disambiguate=!0;var n=function(e,n){return t.tmp.disambiguate_maxMax+=1,t.tmp.disambig_settings.disambiguate&&t.tmp.disambiguate_count<t.tmp.disambig_settings.disambiguate?(t.tmp.disambiguate_count+=1,!0):!1};this.tests.push(n)}else if("check-ambiguity-and-backreference"===e){var n=function(e,n){return t.registry.registry[e.id].disambig.disambiguate&&t.registry.registry[e.id]["citation-count"]>1?!0:!1};this.tests.push(n)}},CSL.Attributes["@is-numeric"]=function(t,e,n){for(var i=e.split(/\s+/),r=function(e){return function(n,i){var r=n;if(["locator","locator-extra"].indexOf(e)>-1&&(r=i),"undefined"==typeof r)return!1;if(CSL.NUMERIC_VARIABLES.indexOf(e)>-1){if(t.tmp.shadow_numbers[e]||t.processNumber(!1,r,e,n.type),r[e]&&t.tmp.shadow_numbers[e].numeric)return!0}else if(["title","locator-extra","version"].indexOf(e)>-1&&r[e]&&r[e].slice(-1)===""+parseInt(r[e].slice(-1),10))return!0;return!1}},s=0;s<i.length;s+=1)this.tests.push(r(i[s]))},CSL.Attributes["@is-uncertain-date"]=function(t,e){for(var n=e.split(/\s+/),i=function(t){return function(e,n){return e[t]&&e[t].circa?!0:!1}},r=0,s=n.length;s>r;r+=1)this.tests.push(i(n[r]))},CSL.Attributes["@locator"]=function(t,e){var n=e.replace("sub verbo","sub-verbo");n=n.split(/\s+/);for(var i=function(e){return function(n,i){var r;return t.processNumber(!1,i,"locator"),r=t.tmp.shadow_numbers.locator.label,e===r?!0:!1}},r=0,s=n.length;s>r;r+=1)this.tests.push(i(n[r]))},CSL.Attributes["@position"]=function(t,e){var n;t.opt.update_mode=CSL.POSITION,t.parallel.use_parallels=null;for(var i=e.split(/\s+/),r=function(e){return function(n,i){if("bibliography"===t.tmp.area)return!1;if(i&&"undefined"==typeof i.position&&(i.position=0),i&&"number"==typeof i.position){if(0===i.position&&0===e)return!0;if(e>0&&i.position>=e)return!0}else if(0===e)return!0;return!1}},s=0,o=i.length;o>s;s+=1){var n=i[s];"first"===n?n=CSL.POSITION_FIRST:"subsequent"===n?n=CSL.POSITION_SUBSEQUENT:"ibid"===n?n=CSL.POSITION_IBID:"ibid-with-locator"===n&&(n=CSL.POSITION_IBID_WITH_LOCATOR),"near-note"===n?this.tests.push(function(t,e){return e&&e.position>=CSL.POSITION_SUBSEQUENT&&e["near-note"]?!0:!1}):"far-note"===n?this.tests.push(function(t,e){return e&&e.position==CSL.POSITION_SUBSEQUENT&&!e["near-note"]?!0:!1}):this.tests.push(r(n))}},CSL.Attributes["@type"]=function(t,e){for(var n=e.split(/\s+/),i=function(t){return function(e,n){var i=e.type===t;return i?!0:!1}},r=[],s=0,o=n.length;o>s;s+=1)r.push(i(n[s]));this.tests.push(t.fun.match.any(this,t,r))},CSL.Attributes["@variable"]=function(t,e){var n;if(this.variables=e.split(/\s+/),this.variables_real=this.variables.slice(),"label"===this.name&&this.variables[0])this.strings.term=this.variables[0];else if(["names","date","text","number"].indexOf(this.name)>-1)n=function(t,e,n){for(var i=this.variables.length-1;i>-1;i+=-1)this.variables.pop();for(var i=0,r=this.variables_real.length;r>i;i++)-1!==t.tmp.done_vars.indexOf(this.variables_real[i])||n&&"legal_case"===e.type&&n["suppress-author"]&&"title"===this.variables_real[i]||this.variables.push(this.variables_real[i]),t.tmp.can_block_substitute&&t.tmp.done_vars.push(this.variables_real[i])},this.execs.push(n),n=function(t,e,n){output=!1;for(var i=0,r=this.variables.length;r>i;i++){var s=this.variables[i];if(["authority","committee"].indexOf(s)>-1&&"string"==typeof e[s]&&"names"===this.name){var o=!0,a=e[s].split(/\s*;\s*/),u={};if(e.multi&&e.multi._keys[s])for(var l in e.multi._keys[s])if(u[l]=e.multi._keys[s][l].split(/\s*;\s*/),u[l].length!==a.length){o=!1;break}o||(a=[e[s]],u=e.multi._keys[s]);for(var c=0,h=a.length;h>c;c++){var f={literal:a[c],multi:{_key:{}}};for(var l in u){var p={literal:u[l][c]};f.multi._key[l]=p}a[c]=f}e[s]=a}if("short"!==this.strings.form||e[s]||("title"===s?s="title-short":"container-title"===s&&(s="journalAbbreviation")),"year-suffix"===s){output=!0;break}if(CSL.DATE_VARIABLES.indexOf(s)>-1){if(t.opt.development_extensions.locator_date_and_revision&&"locator-date"===s){output=!0;break}if(e[s]){for(var d in e[s])if((-1!==this.dateparts.indexOf(d)||"literal"===d)&&e[s][d]){output=!0;break}if(output)break}}else{if("locator"===s){n&&n.locator&&(output=!0);break}if("locator-extra"===s){n&&n["locator-extra"]&&(output=!0);break}if(["citation-number","citation-label"].indexOf(s)>-1){output=!0;break}if("first-reference-note-number"===s){n&&n["first-reference-note-number"]&&(output=!0);break}if("hereinafter"===s){t.transform.abbrevs["default"].hereinafter[e.id]&&t.sys.getAbbreviation&&e.id&&(output=!0);break}if("object"==typeof e[s]){e[s].length;break}if("string"==typeof e[s]&&e[s]){output=!0;break}if("number"==typeof e[s]){output=!0;break}}if(output)break}if(output){for(var i=0,r=this.variables_real.length;r>i;i++){var s=this.variables_real[i];("citation-number"!==s||"bibliography"!==t.tmp.area)&&(t.tmp.cite_renders_content=!0),t.tmp.group_context.tip.variable_success=!0,t.tmp.can_substitute.value()&&"bibliography"===t.tmp.area&&"string"==typeof e[s]&&(t.tmp.name_node.top=t.output.current.value(),t.tmp.rendered_name.push(e[s]))}t.tmp.can_substitute.replace(!1,CSL.LITERAL)}else t.tmp.group_context.tip.variable_attempt=!0},this.execs.push(n);else if(["if","else-if","condition"].indexOf(this.name)>-1)for(var i=function(e){return function(n,i){var r=n;if(i&&["locator","locator-extra","first-reference-note-number","locator-date"].indexOf(e)>-1&&(r=i),"hereinafter"===e&&t.sys.getAbbreviation&&r.id){if(t.transform.abbrevs["default"].hereinafter[r.id])return!0}else if(r[e]){if("number"==typeof r[e]||"string"==typeof r[e])return!0;if("object"==typeof r[e])for(key in r[e])if(r[e][key])return!0}return!1}},r=0,s=this.variables.length;s>r;r+=1)this.tests.push(i(this.variables[r]))},CSL.Attributes["@page"]=function(t,e){var n=e.replace("sub verbo","sub-verbo");n=n.split(/\s+/);for(var i=function(e){return function(n,i){var r;return t.processNumber(!1,n,"page",n.type),r=t.tmp.shadow_numbers.page.label?"sub verbo"===t.tmp.shadow_numbers.page.label?"sub-verbo":t.tmp.shadow_numbers.page.label:"page",e===r?!0:!1}},r=0,s=n.length;s>r;r+=1)this.tests.push(i(n[r]))},CSL.Attributes["@number"]=function(t,e){var n=e.replace("sub verbo","sub-verbo");n=n.split(/\s+/);for(var i=function(e){return function(n,i){var r;return t.processNumber(!1,n,"number",n.type),r=t.tmp.shadow_numbers.number.label?"sub verbo"===t.tmp.shadow_numbers.number.label?"sub-verbo":t.tmp.shadow_numbers.number.label:"number",e===r?!0:!1}},r=0,s=n.length;s>r;r+=1)this.tests.push(i(n[r]))},CSL.Attributes["@jurisdiction"]=function(t,e){for(var n=e.split(/\s+/),i=0,r=n.length;r>i;i+=1)n[i]=n[i].split(":");for(var s=function(t){return function(e,n){if(!e.jurisdiction)return!1;for(var i=e.jurisdiction.split(":"),r=0,s=i.length;s>r;r+=1)i[r]=i[r].split(":");for(r=t.length;r>0;r+=-1){var o=t.slice(0,r).join(":"),a=i.slice(0,r).join(":");if(o!==a)return!1}return!0}},i=0,r=n.length;r>i;i+=1){var o=n[i].slice();this.tests.push(s(o))}},CSL.Attributes["@context"]=function(t,e){var n=function(n,i){var r=t.tmp.area.slice(0,e.length);return r===e?!0:!1};this.tests.push(n)},CSL.Attributes["@has-year-only"]=function(t,e){for(var n=e.split(/\s+/),i=function(t){
return function(e,n){var i=e[t];return!i||i.month||i.season?!1:!0}},r=0,s=n.length;s>r;r+=1)this.tests.push(i(n[r]))},CSL.Attributes["@has-to-month-or-season"]=function(t,e){for(var n=e.split(/\s+/),i=function(t){return function(e,n){var i=e[t];return!i||!i.month&&!i.season||i.day?!1:!0}},r=0,s=n.length;s>r;r+=1)this.tests.push(i(n[r]))},CSL.Attributes["@has-day"]=function(t,e){for(var n=e.split(/\s+/),i=function(t){return function(e,n){var i=e[t];return i&&i.day?!0:!1}},r=0,s=n.length;s>r;r+=1)this.tests.push(i(n[r]))},CSL.Attributes["@subjurisdictions"]=function(t,e){var n=parseInt(e,10),i=function(t,e){var i=0;return t.jurisdiction&&(i=t.jurisdiction.split(":").length),i&&(i+=-1),i>=n?!0:!1};this.tests.push(i)},CSL.Attributes["@is-plural"]=function(t,e){var n=function(n,i){var r=n[e];if(r&&r.length){for(var s=0,o=0,a=!1,u=0,l=r.length;l>u;u+=1)t.opt.development_extensions.spoof_institutional_affiliations&&(r[u].literal||r[u].isInstitution&&r[u].family&&!r[u].given)?(o+=1,a=!1):(s+=1,a=!0);if(s>1)return!0;if(o>1)return!0;if(o&&a)return!0}return!1};this.tests.push(n)},CSL.Attributes["@locale"]=function(t,e){var n,i,r,s,o,a,u=t.opt["default-locale"][0];if("layout"===this.name){if(this.locale_raw=e,this.tokentype===CSL.START){var l=e.split(/\s+/),c={},h=CSL.localeResolve(l[0],u);h.generic?c[h.generic]=h.best:c[h.best]=h.best;for(var o=1,a=l.length;a>o;o+=1){var f=CSL.localeResolve(l[o],u);f.generic?c[f.generic]=h.best:c[f.best]=h.best}t[t.build.area].opt.sort_locales.push(c)}t.opt.has_layout_locale=!0}else{s=e.split(/\s+/);var p=[];for(o=0,a=s.length;a>o;o+=1)r=s[o],i=CSL.localeResolve(r,u),2===s[o].length&&p.push(i.bare),t.localeConfigure(i,!0),s[o]=i;var d=s.slice(),m=function(t,e,i){return function(r,s){var u;n=[],u=!1;var l,c=!1;for(l=r.language?r.language:e,c=CSL.localeResolve(l,e),o=0,a=t.length;a>o;o+=1)if(c.best===t[o].best){u=!0;break}return!u&&i.indexOf(c.bare)>-1&&(u=!0),u}};this.tests.push(m(d,u,p))}},CSL.Attributes["@authority-residue"]=function(t,e){var n=function(){var n="true"===e?!0:!1;return function(e,i){if(!e.authority||!e.authority[0]||!e.authority[0].family)return!n;var r=e.authority[0].family.split("|").length,s=t.tmp.authority_stop_last;return r+s>0?n:!n}};this.tests.push(n())},CSL.Attributes["@locale-internal"]=function(t,e){var n,i,r,s,o,a;for(s=e.split(/\s+/),this.locale_bares=[],o=0,a=s.length;a>o;o+=1)r=s[o],i=CSL.localeResolve(r,t.opt["default-locale"][0]),2===s[o].length&&this.locale_bares.push(i.bare),t.localeConfigure(i),s[o]=i;this.locale_default=t.opt["default-locale"][0],this.locale=s[0].best,this.locale_list=s.slice();var u=function(e){return function(i,s){var u;n=[],u=!1;var l=!1;if(i.language&&(r=i.language,l=CSL.localeResolve(r,t.opt["default-locale"][0]),l.best===t.opt["default-locale"][0]&&(l=!1)),l){for(o=0,a=e.locale_list.length;a>o;o+=1)if(l.best===e.locale_list[o].best){t.opt.lang=e.locale,t.tmp.last_cite_locale=e.locale,t.output.openLevel("empty"),t.output.current.value().new_locale=e.locale,u=!0;break}!u&&e.locale_bares.indexOf(l.bare)>-1&&(t.opt.lang=e.locale,t.tmp.last_cite_locale=e.locale,t.output.openLevel("empty"),t.output.current.value().new_locale=e.locale,u=!0)}return u}},l=this;this.tests.push(u(l))},CSL.Attributes["@is-parallel"]=function(t,e){for(var n=e.split(" "),i=0,r=n.length;r>i;i+=1)"true"===n[i]?n[i]=!0:"false"===n[i]&&(n[i]=!1);this.strings.set_parallel_condition=n},CSL.Attributes["@require"]=function(t,e){this.strings.require=e},CSL.Attributes["@reject"]=function(t,e){this.strings.reject=e},CSL.Attributes["@gender"]=function(t,e){this.gender=e},CSL.Attributes["@cslid"]=function(t,e){this.cslid=parseInt(e,10)},CSL.Attributes["@label-form"]=function(t,e){this.strings.label_form_override=e},CSL.Attributes["@part-separator"]=function(t,e){this.strings["part-separator"]=e},CSL.Attributes["@leading-noise-words"]=function(t,e){this["leading-noise-words"]=e},CSL.Attributes["@name-never-short"]=function(t,e){this["name-never-short"]=e},CSL.Attributes["@class"]=function(t,e){t.opt["class"]=e},CSL.Attributes["@version"]=function(t,e){t.opt.version=e},CSL.Attributes["@value"]=function(t,e){this.strings.value=e},CSL.Attributes["@name"]=function(t,e){this.strings.name=e},CSL.Attributes["@form"]=function(t,e){this.strings.form=e},CSL.Attributes["@date-parts"]=function(t,e){this.strings["date-parts"]=e},CSL.Attributes["@range-delimiter"]=function(t,e){this.strings["range-delimiter"]=e},CSL.Attributes["@macro"]=function(t,e){this.postponed_macro=e},CSL.Attributes["@term"]=function(t,e){"sub verbo"===e?this.strings.term="sub-verbo":this.strings.term=e},CSL.Attributes["@xmlns"]=function(t,e){},CSL.Attributes["@lang"]=function(t,e){e&&(t.build.lang=e)},CSL.Attributes["@lingo"]=function(t,e){},CSL.Attributes["@macro-has-date"]=function(t,e){this["macro-has-date"]=!0},CSL.Attributes["@suffix"]=function(t,e){this.strings.suffix=e},CSL.Attributes["@prefix"]=function(t,e){this.strings.prefix=e},CSL.Attributes["@delimiter"]=function(t,e){this.strings.delimiter=e},CSL.Attributes["@match"]=function(t,e){this.match=e},CSL.Attributes["@names-min"]=function(t,e){var n=parseInt(e,10);t[t.build.area].opt.max_number_of_names<n&&(t[t.build.area].opt.max_number_of_names=n),this.strings["et-al-min"]=n},CSL.Attributes["@names-use-first"]=function(t,e){this.strings["et-al-use-first"]=parseInt(e,10)},CSL.Attributes["@names-use-last"]=function(t,e){"true"===e?this.strings["et-al-use-last"]=!0:this.strings["et-al-use-last"]=!1},CSL.Attributes["@sort"]=function(t,e){"descending"===e&&(this.strings.sort_direction=CSL.DESCENDING)},CSL.Attributes["@plural"]=function(t,e){"always"===e||"true"===e?this.strings.plural=1:"never"===e||"false"===e?this.strings.plural=0:"contextual"===e&&(this.strings.plural=!1)},CSL.Attributes["@has-publisher-and-publisher-place"]=function(t,e){this.strings["has-publisher-and-publisher-place"]=!0},CSL.Attributes["@publisher-delimiter-precedes-last"]=function(t,e){this.strings["publisher-delimiter-precedes-last"]=e},CSL.Attributes["@publisher-delimiter"]=function(t,e){this.strings["publisher-delimiter"]=e},CSL.Attributes["@publisher-and"]=function(t,e){this.strings["publisher-and"]=e},CSL.Attributes["@newdate"]=function(t,e){},CSL.Attributes["@givenname-disambiguation-rule"]=function(t,e){CSL.GIVENNAME_DISAMBIGUATION_RULES.indexOf(e)>-1&&(t.citation.opt["givenname-disambiguation-rule"]=e)},CSL.Attributes["@collapse"]=function(t,e){e&&(t[this.name].opt.collapse=e)},CSL.Attributes["@cite-group-delimiter"]=function(t,e){e&&(t[t.tmp.area].opt.cite_group_delimiter=e)},CSL.Attributes["@names-delimiter"]=function(t,e){t.setOpt(this,"names-delimiter",e)},CSL.Attributes["@name-form"]=function(t,e){t.setOpt(this,"name-form",e)},CSL.Attributes["@subgroup-delimiter"]=function(t,e){this.strings["subgroup-delimiter"]=e},CSL.Attributes["@subgroup-delimiter-precedes-last"]=function(t,e){this.strings["subgroup-delimiter-precedes-last"]=e},CSL.Attributes["@name-delimiter"]=function(t,e){t.setOpt(this,"name-delimiter",e)},CSL.Attributes["@et-al-min"]=function(t,e){var n=parseInt(e,10);t[t.build.area].opt.max_number_of_names<n&&(t[t.build.area].opt.max_number_of_names=n),t.setOpt(this,"et-al-min",n)},CSL.Attributes["@et-al-use-first"]=function(t,e){t.setOpt(this,"et-al-use-first",parseInt(e,10))},CSL.Attributes["@et-al-use-last"]=function(t,e){"true"===e?t.setOpt(this,"et-al-use-last",!0):t.setOpt(this,"et-al-use-last",!1)},CSL.Attributes["@et-al-subsequent-min"]=function(t,e){var n=parseInt(e,10);t[t.build.area].opt.max_number_of_names<n&&(t[t.build.area].opt.max_number_of_names=n),t.setOpt(this,"et-al-subsequent-min",n)},CSL.Attributes["@et-al-subsequent-use-first"]=function(t,e){t.setOpt(this,"et-al-subsequent-use-first",parseInt(e,10))},CSL.Attributes["@suppress-min"]=function(t,e){this.strings["suppress-min"]=parseInt(e,10)},CSL.Attributes["@suppress-max"]=function(t,e){this.strings["suppress-max"]=parseInt(e,10)},CSL.Attributes["@and"]=function(t,e){t.setOpt(this,"and",e)},CSL.Attributes["@delimiter-precedes-last"]=function(t,e){t.setOpt(this,"delimiter-precedes-last",e)},CSL.Attributes["@delimiter-precedes-et-al"]=function(t,e){t.setOpt(this,"delimiter-precedes-et-al",e)},CSL.Attributes["@initialize-with"]=function(t,e){t.setOpt(this,"initialize-with",e)},CSL.Attributes["@initialize"]=function(t,e){"false"===e&&t.setOpt(this,"initialize",!1)},CSL.Attributes["@name-as-reverse-order"]=function(t,e){this["name-as-reverse-order"]=e},CSL.Attributes["@name-as-sort-order"]=function(t,e){"style-options"===this.name?this["name-as-sort-order"]=e:t.setOpt(this,"name-as-sort-order",e)},CSL.Attributes["@sort-separator"]=function(t,e){t.setOpt(this,"sort-separator",e)},CSL.Attributes["@year-suffix-delimiter"]=function(t,e){t[this.name].opt["year-suffix-delimiter"]=e},CSL.Attributes["@after-collapse-delimiter"]=function(t,e){t[this.name].opt["after-collapse-delimiter"]=e},CSL.Attributes["@subsequent-author-substitute"]=function(t,e){t[this.name].opt["subsequent-author-substitute"]=e},CSL.Attributes["@subsequent-author-substitute-rule"]=function(t,e){t[this.name].opt["subsequent-author-substitute-rule"]=e},CSL.Attributes["@disambiguate-add-names"]=function(t,e){"true"===e&&(t.opt["disambiguate-add-names"]=!0)},CSL.Attributes["@disambiguate-add-givenname"]=function(t,e){"true"===e&&(t.opt["disambiguate-add-givenname"]=!0)},CSL.Attributes["@disambiguate-add-year-suffix"]=function(t,e){"true"===e&&"numeric"!==t.opt.xclass&&(t.opt["disambiguate-add-year-suffix"]=!0)},CSL.Attributes["@second-field-align"]=function(t,e){("flush"===e||"margin"===e)&&(t[this.name].opt["second-field-align"]=e)},CSL.Attributes["@hanging-indent"]=function(t,e){"true"===e&&(t[this.name].opt.hangingindent=2)},CSL.Attributes["@line-spacing"]=function(t,e){e&&e.match(/^[.0-9]+$/)&&(t[this.name].opt["line-spacing"]=parseFloat(e,10))},CSL.Attributes["@entry-spacing"]=function(t,e){e&&e.match(/^[.0-9]+$/)&&(t[this.name].opt["entry-spacing"]=parseFloat(e,10))},CSL.Attributes["@near-note-distance"]=function(t,e){t[this.name].opt["near-note-distance"]=parseInt(e,10)},CSL.Attributes["@text-case"]=function(t,e){var n=function(t,n){if("normal"===e)this.text_case_normal=!0;else if(this.strings["text-case"]=e,"title"===e){t.opt["default-locale"][0].slice(0,2);n.jurisdiction&&(this.strings["text-case"]="passthrough")}};this.execs.push(n)},CSL.Attributes["@page-range-format"]=function(t,e){t.opt["page-range-format"]=e},CSL.Attributes["@year-range-format"]=function(t,e){t.opt["year-range-format"]=e},CSL.Attributes["@default-locale"]=function(t,e){if("style"===this.name){var n,i,r,s,o;if(s=e.match(/-x-(sort|translit|translat)-/g))for(r=0,i=s.length;i>r;r+=1)s[r]=s[r].replace(/^-x-/,"").replace(/-$/,"");for(n=e.split(/-x-(?:sort|translit|translat)-/),o=[n[0]],r=1,i=n.length;i>r;r+=1)o.push(s[r-1]),o.push(n[r]);for(n=o.slice(),i=n.length,r=1;i>r;r+=2)t.opt["locale-"+n[r]].push(n[r+1].replace(/^\s*/g,"").replace(/\s*$/g,""));n.length?t.opt["default-locale"]=n.slice(0,1):t.opt["default-locale"]=["en"]}else"true"===e&&(this.default_locale=!0)},CSL.Attributes["@default-locale-sort"]=function(t,e){t.opt["default-locale-sort"]=e},CSL.Attributes["@demote-non-dropping-particle"]=function(t,e){t.opt["demote-non-dropping-particle"]=e},CSL.Attributes["@initialize-with-hyphen"]=function(t,e){"false"===e&&(t.opt["initialize-with-hyphen"]=!1)},CSL.Attributes["@institution-parts"]=function(t,e){this.strings["institution-parts"]=e},CSL.Attributes["@if-short"]=function(t,e){"true"===e&&(this.strings["if-short"]=!0)},CSL.Attributes["@substitute-use-first"]=function(t,e){this.strings["substitute-use-first"]=parseInt(e,10)},CSL.Attributes["@use-first"]=function(t,e){this.strings["use-first"]=parseInt(e,10)},CSL.Attributes["@stop-last"]=function(t,e){this.strings["stop-last"]=-1*parseInt(e,10)},CSL.Attributes["@use-last"]=function(t,e){this.strings["use-last"]=parseInt(e,10)},CSL.Attributes["@reverse-order"]=function(t,e){"true"===e&&(this.strings["reverse-order"]=!0)},CSL.Attributes["@display"]=function(t,e){t.opt.using_display=!0,this.strings.cls=e},CSL.Stack=function(t,e){this.mystack=[],(e||t)&&this.mystack.push(t),this.tip=this.mystack[0]},CSL.Stack.prototype.push=function(t,e){e||t?this.mystack.push(t):this.mystack.push(""),this.tip=this.mystack[this.mystack.length-1]},CSL.Stack.prototype.clear=function(){this.mystack=[],this.tip={}},CSL.Stack.prototype.replace=function(t,e){if(0===this.mystack.length)throw"Internal CSL processor error: attempt to replace nonexistent stack item with "+t;e||t?this.mystack[this.mystack.length-1]=t:this.mystack[this.mystack.length-1]="",this.tip=this.mystack[this.mystack.length-1]},CSL.Stack.prototype.pop=function(){var t=this.mystack.pop();return this.mystack.length?this.tip=this.mystack[this.mystack.length-1]:this.tip={},t},CSL.Stack.prototype.value=function(){return this.mystack.slice(-1)[0]},CSL.Stack.prototype.length=function(){return this.mystack.length},CSL.Parallel=function(t){this.state=t,this.sets=new CSL.Stack([]),this.try_cite=!0,this.use_parallels=!1,this.midVars=["section","volume","container-title","collection-number","issue","page-first","page","number"],this.ignoreVarsLawGeneral=["first-reference-note-number","locator","label","page-first","page","genre"],this.ignoreVarsLawProceduralHistory=["issued","first-reference-note-number","locator","label","page-first","page","genre","jurisdiction"],this.ignoreVarsOrders=["first-reference-note-number"],this.ignoreVarsOther=["first-reference-note-number","locator","label","section","page-first","page"]},CSL.Parallel.prototype.isMid=function(t){return this.midVars.indexOf(t)>-1},CSL.Parallel.prototype.StartCitation=function(t,e){this.parallel_conditional_blobs_list=[],this.use_parallels&&(this.sortedItems=t,this.sortedItemsPos=-1,this.sets.clear(),this.sets.push([]),this.in_series=!0,this.delim_counter=0,this.delim_pointers=[],e?this.out=e:this.out=this.state.output.queue,this.master_was_neutral_cite=!0)},CSL.Parallel.prototype.StartCite=function(t,e,n){var i,r,s,o,a,u,l,c;if(this.use_parallels){this.sets.value().length&&this.sets.value()[0].itemId==t.id&&this.ComposeSet(),this.sortedItemsPos+=1,e&&(i=e.position),this.try_cite=!0;for(var h=!1,f=0,p=CSL.PARALLEL_MATCH_VARS.length;p>f;f+=1)if(t[CSL.PARALLEL_MATCH_VARS[f]]){h=!0;break}var d=!0,m=this.sets.value().slice(-1)[0];if(m&&m.Item){var g=m.Item.jurisdiction?m.Item.jurisdiction.split(":")[0]:"",v=t.jurisdiction?t.jurisdiction.split(":")[0]:"";m.Item.title!==t.title?d=!1:g!==v?d=!1:m.Item.type!==t.type?d=!1:["article-journal","article-magazine"].indexOf(t.type)>-1&&(this.state.opt.development_extensions.handle_parallel_articles&&m.Item["container-title"]===t["container-title"]||(d=!1))}if(d&&h&&-1!==CSL.PARALLEL_TYPES.indexOf(t.type)||(this.try_cite=!0,this.in_series&&(this.in_series=!1)),this.cite={},this.cite.front=[],this.cite.mid=[],this.cite.back=[],this.cite.front_collapse={},this.cite.back_forceme=[],this.cite.position=i,this.cite.Item=t,this.cite.itemId=""+t.id,this.cite.prevItemID=""+n,this.target="front",["treaty"].indexOf(t.type)>-1)this.ignoreVars=this.ignoreVarsOrders;else if(["article-journal","article-magazine"].indexOf(t.type)>-1)this.ignoreVars=this.ignoreVarsOther;else if(e&&e.prefix){this.ignoreVars=this.ignoreVarsLawProceduralHistory,this.cite.useProceduralHistory=!0;var b=this.sets.value()[this.sets.value().length-1];if(b&&b.back)for(var f=b.back.length-1;f>-1;f+=-1)b.back[f]&&b[b.back[f]]&&delete b[b.back[f]]}else this.ignoreVars=this.ignoreVarsLawGeneral;if(this.sortedItems&&this.sortedItemsPos>0&&this.sortedItemsPos<this.sortedItems.length){if(o=this.sortedItems[this.sortedItemsPos][1],u=""+this.sortedItems[this.sortedItemsPos-1][1].id,a=this.state.registry.registry[u].parallel,l=!1,a==o.id){for(r=this.sortedItemsPos-1,s=r;s>-1;s+=-1)if(this.sortedItems[s][1].id==t.id){l=this.sortedItems[s][1].locator;break}c=this.sortedItems[this.sortedItemsPos][1].locator,!l&&c?o.position=CSL.POSITION_IBID_WITH_LOCATOR:c===l?o.position=CSL.POSITION_IBID:o.position=CSL.POSITION_IBID_WITH_LOCATOR}}else{if(!this.state.registry.registry[t.id])return this.try_cite=!1,void(this.force_collapse=!1);this.state.registry.registry[t.id].parallel=!1}this.force_collapse=!1,this.state.registry.registry[t.id].parallel&&(this.force_collapse=!0)}},CSL.Parallel.prototype.StartVariable=function(t,e){if(this.use_parallels&&(this.try_cite||this.force_collapse)){if("names"===t?this.variable=t+":"+this.target:this.variable=t,this.ignoreVars.indexOf(t)>-1)return;"container-title"===t&&0===this.sets.value().length&&(this.master_was_neutral_cite=!1),this.data={},this.data.value="",this.data.blobs=[];var n=this.isMid(t);if("authority"===e&&"names:front"===this.variable&&this.sets.value().length){var i=this.sets.value()[this.sets.value().length-1].Item,r=!1;this.cite.Item.authority&&this.cite.Item.authority.length&&(r=this.cite.Item.authority[0].literal);var s=!1;i.authority&&i.authority.length&&(s=i.authority[0].literal),r!==s&&(this.try_cite=!0,this.in_series=!1)}else"front"===this.target&&n?this.target="mid":"mid"===this.target&&!n&&this.cite.Item.title&&"names"!==t?this.target="back":"back"===this.target&&n&&(this.try_cite=!0,this.in_series=!1);"number"===t?this.cite.front.push(this.variable):CSL.PARALLEL_COLLAPSING_MID_VARSET.indexOf(t)>-1?["article-journal","article-magazine"].indexOf(this.cite.Item.type)>-1?this.cite.mid.push(this.variable):this.cite.front.push(this.variable):this.cite[this.target].push(this.variable)}},CSL.Parallel.prototype.AppendBlobPointer=function(t){if(this.use_parallels){if(this.ignoreVars.indexOf(this.variable)>-1)return;if(this.use_parallels&&(this.force_collapse||this.try_cite)){if(["article-journal","article-magazine"].indexOf(this.cite.Item.type)>-1){if(["volume","page","page-first","issue"].indexOf(this.variable)>-1)return;if("container-title"===this.variable&&this.cite.mid.length>1)return}this.variable&&(this.try_cite||this.force_collapse)&&t&&t.blobs&&(this.cite.useProceduralHistory&&"back"===this.target||this.data.blobs.push([t,t.blobs.length]))}}},CSL.Parallel.prototype.AppendToVariable=function(t,e){if(this.use_parallels){if(this.ignoreVars.indexOf(this.variable)>-1)return;if(this.try_cite||this.force_collapse)if("back"!==this.target,0){var n=this.sets.value()[this.sets.value().length-1];n&&n[this.variable]&&n[this.variable].value&&(this.data.value+="::"+t)}else this.data.value+="::"+t}},CSL.Parallel.prototype.CloseVariable=function(){if(this.use_parallels){if(this.ignoreVars.indexOf(this.variable)>-1)return;if((this.try_cite||this.force_collapse)&&(this.cite[this.variable]=this.data,this.sets.value().length>0)){var t=this.sets.value()[this.sets.value().length-1];"front"===this.target&&"issued"===this.variable&&this.data.value&&this.master_was_neutral_cite&&(this.target="mid"),"front"===this.target?!t[this.variable]&&!this.data.value||t[this.variable]&&this.data.value===t[this.variable].value||"issued"!==this.variable&&(this.in_series=!1):"mid"===this.target?CSL.PARALLEL_COLLAPSING_MID_VARSET.indexOf(this.variable)>-1&&(t[this.variable]&&t[this.variable].value===this.data.value?this.cite.front_collapse[this.variable]=!0:this.cite.front_collapse[this.variable]=!1):"back"===this.target&&t[this.variable]&&this.data.value!==t[this.variable].value&&-1===this.sets.value().slice(-1)[0].back_forceme.indexOf(this.variable)&&(this.in_series=!1)}this.variable=!1}},CSL.Parallel.prototype.CloseCite=function(){var t,e,n,i,r,s,o;if(this.use_parallels&&(this.force_collapse||this.try_cite)){if(i=!1,this.cite.front_collapse["container-title"]||(i=!0),this.cite.front_collapse.volume===!1&&(i=!0),this.cite.front_collapse["collection-number"]===!1&&(i=!0),this.cite.front_collapse.section===!1&&(i=!0),i&&(this.cite.use_journal_info=!0,o=this.cite.front.indexOf("section"),o>-1&&(this.cite.front=this.cite.front.slice(0,o).concat(this.cite.front.slice(o+1))),r=this.cite.front.indexOf("volume"),r>-1&&(this.cite.front=this.cite.front.slice(0,r).concat(this.cite.front.slice(r+1))),s=this.cite.front.indexOf("container-title"),s>-1&&(this.cite.front=this.cite.front.slice(0,s).concat(this.cite.front.slice(s+1))),collection_number_pos=this.cite.front.indexOf("collection-number"),collection_number_pos>-1&&(this.cite.front=this.cite.front.slice(0,collection_number_pos).concat(this.cite.front.slice(collection_number_pos+1)))),this.in_series||this.force_collapse||this.ComposeSet(!0),0===this.sets.value().length){for(has_date=!1,e=0,n=this.cite.back.length;n>e;e+=1)if(t=this.cite.back[e],"issued"===t&&this.cite.issued&&this.cite.issued.value){has_date=!0;break}has_date||this.cite.back_forceme.push("issued")}else{var a=this.cite.front.indexOf("issued");if((-1===a||this.master_was_neutral_cite)&&(this.cite.back_forceme=this.sets.value().slice(-1)[0].back_forceme),a>-1){var u=this.sets.value()[this.sets.value().length-1];u.issued||(this.cite.front=this.cite.front.slice(0,a).concat(this.cite.front.slice(a+1)))}this.master_was_neutral_cite&&this.cite.mid.indexOf("names:mid")>-1&&this.cite.front.push("names:mid")}this.sets.value().push(this.cite)}},CSL.Parallel.prototype.ComposeSet=function(t){var e,n,i;if(this.use_parallels&&(this.force_collapse||this.try_cite)){var r=this.sets.value().length;if(1===this.sets.value().length)this.in_series||(this.sets.value().pop(),this.delim_counter+=1);else{for(i=this.sets.value().length,n=0;i>n;n+=1)e=this.sets.value()[n],0===n?this.delim_counter+=1:(!e.Item.title&&e.use_journal_info?this.delim_pointers.push(!1):this.delim_pointers.push(this.delim_counter),this.delim_counter+=1),CSL.POSITION_FIRST===e.position&&(0===n?(this.state.registry.registry[e.itemId].master=!0,this.state.registry.registry[e.itemId].siblings=[],this.state.registry.registry[e.itemId].parallel=!1):e.prevItemID&&(this.state.registry.registry[e.prevItemID].parallel?this.state.registry.registry[e.itemId].parallel=this.state.registry.registry[e.prevItemID].parallel:this.state.registry.registry[e.itemId].parallel=e.prevItemID,this.state.registry.registry[e.itemId].siblings=this.state.registry.registry[e.prevItemID].siblings,this.state.registry.registry[e.itemId].siblings||(this.state.registry.registry[e.itemId].siblings=[],CSL.debug("WARNING: adding missing siblings array to registry object")),this.state.registry.registry[e.itemId].siblings.push(e.itemId)));this.sets.push([])}2>r?this.purgeGroupsIfParallel(!1):this.purgeGroupsIfParallel(!0),this.in_series=!0}},CSL.Parallel.prototype.PruneOutputQueue=function(){var t,e,n,i,r,s;if(this.use_parallels)for(t=this.sets.mystack.length,e=0;t>e;e+=1)if(n=this.sets.mystack[e],n.length>1)for(r=n.length,i=0;r>i;i+=1)s=n[i],0===i?this.purgeVariableBlobs(s,s.back):i===n.length-1?this.purgeVariableBlobs(s,s.front.concat(s.back_forceme)):this.purgeVariableBlobs(s,s.front.concat(s.back))},CSL.Parallel.prototype.purgeVariableBlobs=function(t,e){var n,i,r,s,o,a,u;if(this.use_parallels){for(u=this.state.output.current.value(),"undefined"==typeof u.length&&(u=u.blobs),i=0,n=this.delim_pointers.length;n>i;i+=1)a=this.delim_pointers[i],a!==!1&&(u[a].parallel_delimiter=", ");for(n=e.length-1,i=n;i>-1;i+=-1)if(r=e[i],t[r])for(o=t[r].blobs.length-1,a=o;a>-1;a+=-1)s=t[r].blobs[a],s[0].blobs=s[0].blobs.slice(0,s[1]).concat(s[0].blobs.slice(s[1]+1)),this.state.tmp.has_purged_parallel=!0,s[0]&&s[0].strings&&"string"==typeof s[0].strings.oops&&s[0].parent&&s[0].parent&&(s[0].parent.parent.strings.delimiter=s[0].strings.oops)}},CSL.Parallel.prototype.purgeGroupsIfParallel=function(t){for(var e=this.parallel_conditional_blobs_list.length-1;e>-1;e+=-1){for(var n=this.parallel_conditional_blobs_list[e],i=!0,r=0,s=n.conditions.length;s>r;r+=1)if(!n.conditions[r]!=!!t&&("master"!==n.conditions[r]||this.state.registry.registry[n.id].master)&&("servant"!==n.conditions[r]||this.state.registry.registry[n.id].parallel)){var i=!1;break}if(i){for(var o=[];n.blobs.length>n.pos;)o.push(n.blobs.pop());for(o.length&&o.pop();o.length;)n.blobs.push(o.pop())}this.parallel_conditional_blobs_list.pop()}},CSL.Util={},CSL.Util.Match=function(){this.any=function(t,e,n){return function(t,e){for(var i=0,r=n.length;r>i;i+=1)if(result=n[i](t,e),result)return!0;return!1}},this.none=function(t,e,n){return function(t,e){for(var i=0,r=n.length;r>i;i+=1)if(result=n[i](t,e),result)return!1;return!0}},this.all=function(t,e,n){return function(t,e){for(var i=0,r=n.length;r>i;i+=1)if(result=n[i](t,e),!result)return!1;return!0}},this[void 0]=this.all,this.nand=function(t,e,n){return function(t,e){for(var i=0,r=n.length;r>i;i+=1)if(result=n[i](t,e),!result)return!0;return!1}}},CSL.Transform=function(t){function e(t,e,n,i,r,s){var o;if(!r)return i;var a=r,u=!1;if(["title","title-short"].indexOf(a)>-1&&!e.jurisdiction&&(u=!0),CSL.NUMERIC_VARIABLES.indexOf(r)>-1&&(r="number"),"jurisdiction"===r&&t.opt.suppressedJurisdictions[e.jurisdiction])return"";if(["publisher-place","event-place","jurisdiction","archive-place","language-name","language-name-original"].indexOf(r)>-1&&(r="place"),["publisher","authority"].indexOf(r)>-1&&(r="institution-part"),["genre","event","medium","title-short"].indexOf(r)>-1&&(r="title"),["archive"].indexOf(r)>-1&&(r="collection-title"),o="",t.sys.getAbbreviation){var l=t.transform.loadAbbreviation(e.jurisdiction,r,i,e.type,u);t.transform.abbrevs[l][r]&&i&&t.sys.getAbbreviation&&t.transform.abbrevs[l][r][i]&&(o=t.transform.abbrevs[l][r][i].replace("{stet}",i))}return o||t.opt.development_extensions.require_explicit_legal_case_title_short&&"legal_case"===e.type||!n||!e[n]||!s||(o=e[n]),o||(o=i),o&&o.match(/^\!(?:[^>]+,)*here(?:,[^>]+)*>>>/)&&(o="jurisdiction"===a&&["treaty","patent"].indexOf(e.type)>-1?o.replace(/^\![^>]*>>>\s*/,""):!1),o}function n(e,n){var i,r=t.opt["default-locale"][0].slice(0,2);return i=t.opt.development_extensions.strict_text_case_locales?new RegExp("^([a-zA-Z]{2})(?:$|-.*| .*)"):new RegExp("^([a-zA-Z]{2})(?:$|-.*|.*)"),e.language&&(m=(""+e.language).match(i),r=m?m[1]:"tlh"),e.multi&&e.multi&&e.multi.main&&e.multi.main[n]&&(r=e.multi.main[n]),(!t.opt.development_extensions.strict_text_case_locales||t.opt.development_extensions.normalize_lang_keys_to_lowercase)&&(r=r.toLowerCase()),r}function i(e,i,r,s,o){var a,u,l,c;if(!e[i])return{name:"",usedOrig:o};l={name:"",usedOrig:o,locale:n(e,i)},c=t.opt[r];var h=!1,f=!1;if("locale-orig"===r)l=o?{name:"",usedOrig:o}:{name:e[i],usedOrig:!1,locale:n(e,i)},h=!0;else if(s&&("undefined"==typeof c||0===c.length)){var l={name:e[i],usedOrig:!0,locale:n(e,i)};h=!0}if(!h){for(var p=0,d=c.length;d>p;p+=1){if(a=c[p],u=a.split(/[\-_]/)[0],a&&e.multi&&e.multi._keys[i]&&e.multi._keys[i][a]){l.name=e.multi._keys[i][a],l.locale=u,"jurisdiction"===i&&(f=l.name);break}if(u&&e.multi&&e.multi._keys[i]&&e.multi._keys[i][u]){l.name=e.multi._keys[i][u],l.locale=u,"jurisdiction"===i&&(f=l.name);break}}!l.name&&s&&(l={name:e[i],usedOrig:!0,locale:n(e,i)})}return"jurisdiction"===i&&CSL.getSuppressedJurisdictionName&&(l.name&&!f&&(f=t.sys.getHumanForm(e[i])),f&&(l.name=CSL.getSuppressedJurisdictionName.call(t,e[i],f))),l}function r(e,n,i,r,s){if(e||(e="default"),!i)return t.transform.abbrevs[e]||(t.transform.abbrevs[e]=new t.sys.AbbreviationSegments),e;if(t.sys.getAbbreviation){var o=["default"];if("default"!==e)for(var a=e.split(":"),u=0,l=a.length;l>u;u+=1)o.push(a.slice(0,u+1).join(":"));for(var c=!1,u=o.length-1;u>-1;u+=-1)t.transform.abbrevs[o[u]]||(t.transform.abbrevs[o[u]]=new t.sys.AbbreviationSegments),t.transform.abbrevs[o[u]][n][i]||t.sys.getAbbreviation(t.opt.styleID,t.transform.abbrevs,o[u],n,i,r,s),!c&&t.transform.abbrevs[o[u]][n][i]&&(u<o.length&&(t.transform.abbrevs[e][n][i]=t.transform.abbrevs[o[u]][n][i]),c=!0)}return e}function s(n,i,r,s){var o=n.variables[0];if(t.publisherOutput&&r){if(-1===["publisher","publisher-place"].indexOf(o))return!1;t.publisherOutput[o+"-token"]=n,t.publisherOutput.varlist.push(o);var a=r.split(/;\s*/);a.length===t.publisherOutput[o+"-list"].length&&(t.publisherOutput[o+"-list"]=a);for(var u=0,l=a.length;l>u;u+=1)a[u]=e(t,i,!1,a[u],s,!0);return t.tmp[o+"-token"]=n,!0}return!1}function o(n,r,o,u,l){var c,h=CSL.LangPrefsMap[n[0]];return c=h?t.opt["cite-lang-prefs"][h]:!1,function(t,o,l,f){var p,d,m,g,v,b,y;if(!n[0]||!o[n[0]]&&!o[u])return null;var _={primary:!1,secondary:!1,tertiary:!1};if("_sort"===t.tmp.area.slice(-5))_.primary="locale-sort";else if(c)for(var S=["primary","secondary","tertiary"],x=0,C=S.length;C>x&&!(c.length-1<x);x+=1)c[x]&&(_[S[x]]="locale-"+c[x]);else _.primary="locale-orig";if(("title-short"===n[0]||"bibliography"!==t.tmp.area&&("citation"!==t.tmp.area||"note"!==t.opt.xclass||!l||l.position))&&(_.secondary=!1,_.tertiary=!1),t.tmp["publisher-list"])return"publisher"===n[0]?t.tmp["publisher-token"]=this:"publisher-place"===n[0]&&(t.tmp["publisher-place-token"]=this),null;var $=i(o,n[0],_.primary,!0);p=$.name,d=$.locale;var w=$.usedOrig;if(s(this,o,p,r))return null;m=!1,v=!1,_.secondary&&($=i(o,n[0],_.secondary,!1,$.usedOrig),m=$.name,g=$.locale),_.tertiary&&($=i(o,n[0],_.tertiary,!1,$.usedOrig),v=$.name,b=$.locale),r&&(p=e(t,o,u,p,r,!0),p&&(p=a(p)),m=e(t,o,!1,m,r,!0),v=e(t,o,!1,v,r,!0));var L,T=CSL.Util.cloneToken(this),y=CSL.Util.cloneToken(this);if("locale-translit"===_.primary&&(L=t.opt.citeAffixes[h][_.primary].prefix),"<i>"===L&&"title"===n[0]&&!w){for(var k=!1,x=0,C=y.decorations.length;C>x;x+=1)"@font-style"===y.decorations[x][0]&&"italic"===y.decorations[x][1]&&(k=!0);k||y.decorations.push(["@font-style","italic"])}if("en"!==d&&"title"===y.strings["text-case"]&&(y.strings["text-case"]="passthrough"),"title"===n[0]&&(p=CSL.demoteNoiseWords(t,p,this["leading-noise-words"])),m||v){if(t.output.openLevel("empty"),y.strings.suffix=y.strings.suffix.replace(/[ .,]+$/,""),t.output.append(p,y),m){secondary_tok=CSL.Util.cloneToken(T),secondary_tok.strings.prefix=t.opt.citeAffixes[h][_.secondary].prefix,secondary_tok.strings.suffix=t.opt.citeAffixes[h][_.secondary].suffix,secondary_tok.strings.prefix||(secondary_tok.strings.prefix=" ");for(var x=secondary_tok.decorations.length-1;x>-1;x+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(secondary_tok.decorations[x].join("/"))>-1&&(secondary_tok.decorations=secondary_tok.decorations.slice(0,x).concat(secondary_tok.decorations.slice(x+1)));"en"!==g&&"title"===secondary_tok.strings["text-case"]&&(secondary_tok.strings["text-case"]="passthrough");var A=new CSL.Token;A.decorations.push(["@font-style","normal"]),A.decorations.push(["@font-weight","normal"]),t.output.openLevel(A),t.output.append(m,secondary_tok),t.output.closeLevel();var E=t.output.current.value(),O=t.output.current.value().blobs.length-1;t.parallel.use_parallels&&(t.parallel.cite.front.push(n[0]+":secondary"),t.parallel.cite[n[0]+":secondary"]={blobs:[[E,O]]})}if(v){tertiary_tok=CSL.Util.cloneToken(T),tertiary_tok.strings.prefix=t.opt.citeAffixes[h][_.tertiary].prefix,tertiary_tok.strings.suffix=t.opt.citeAffixes[h][_.tertiary].suffix,tertiary_tok.strings.prefix||(tertiary_tok.strings.prefix=" ");for(var x=tertiary_tok.decorations.length-1;x>-1;x+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(tertiary_tok.decorations[x].join("/"))>-1&&(tertiary_tok.decorations=tertiary_tok.decorations.slice(0,x).concat(tertiary_tok.decorations.slice(x+1)));"en"!==b&&"title"===tertiary_tok.strings["text-case"]&&(tertiary_tok.strings["text-case"]="passthrough");var I=new CSL.Token;I.decorations.push(["@font-style","normal"]),I.decorations.push(["@font-weight","normal"]),t.output.openLevel(I),t.output.append(v,tertiary_tok),t.output.closeLevel();var E=t.output.current.value(),O=t.output.current.value().blobs.length-1;t.parallel.use_parallels&&(t.parallel.cite.front.push(n[0]+":tertiary"),t.parallel.cite[n[0]+":tertiary"]={blobs:[[E,O]]})}t.output.closeLevel()}else t.output.append(p,y);return null}}function a(e){var n=e.match(/^!([-,_a-z]+)>>>/);if(n){var i=n[1].split(",");e=e.slice(n[0].length);for(var r=0,s=i.length;s>r;r+=1)-1===t.tmp.done_vars.indexOf(i[r])&&t.tmp.done_vars.push(i[r])}return e}this.abbrevs={},this.abbrevs["default"]=new t.sys.AbbreviationSegments,
this.getTextSubField=i,this.loadAbbreviation=r,this.getOutputFunction=o,this.quashCheck=a},CSL.Token=function(t,e){this.name=t,this.strings={},this.strings.delimiter=void 0,this.strings.prefix="",this.strings.suffix="",this.decorations=[],this.variables=[],this.execs=[],this.tokentype=e,this.evaluator=!1,this.tests=[],this.rawtests=[],this.succeed=!1,this.fail=!1,this.next=!1},CSL.Util.cloneToken=function(t){var e,n,i,r;if("string"==typeof t)return t;e=new CSL.Token(t.name,t.tokentype);for(n in t.strings)t.strings.hasOwnProperty(n)&&(e.strings[n]=t.strings[n]);if(t.decorations)for(e.decorations=[],i=0,r=t.decorations.length;r>i;i+=1)e.decorations.push(t.decorations[i].slice());return t.variables&&(e.variables=t.variables.slice()),t.execs&&(e.execs=t.execs.slice(),e.tests=t.tests.slice(),e.rawtests=t.tests.slice()),e},CSL.AmbigConfig=function(){this.maxvals=[],this.minval=1,this.names=[],this.givens=[],this.year_suffix=!1,this.disambiguate=0},CSL.Blob=function(t,e,n){var i,r,s;if(this.levelname=n,e){this.strings={prefix:"",suffix:""};for(s in e.strings)e.strings.hasOwnProperty(s)&&(this.strings[s]=e.strings[s]);for(this.decorations=[],i=void 0===e.decorations?0:e.decorations.length,r=0;i>r;r+=1)this.decorations.push(e.decorations[r].slice())}else this.strings={},this.strings.prefix="",this.strings.suffix="",this.strings.delimiter="",this.decorations=[];"string"==typeof t?this.blobs=t:t?this.blobs=[t]:this.blobs=[],this.alldecor=[this.decorations]},CSL.Blob.prototype.push=function(t){if("string"==typeof this.blobs)throw"Attempt to push blob onto string object";!1!==t&&(t.alldecor=t.alldecor.concat(this.alldecor),this.blobs.push(t))},CSL.NumericBlob=function(t,e,n,i){this.id=i,this.alldecor=[],this.num=e,this.particle=t,this.blobs=e.toString(),this.status=CSL.START,this.strings={},n?(this.gender=n.gender,this.decorations=n.decorations,this.strings.prefix=n.strings.prefix,this.strings.suffix=n.strings.suffix,this.strings["text-case"]=n.strings["text-case"],this.successor_prefix=n.successor_prefix,this.range_prefix=n.range_prefix,this.splice_prefix=n.splice_prefix,this.formatter=n.formatter,this.formatter||(this.formatter=new CSL.Output.DefaultFormatter),this.formatter&&(this.type=this.formatter.format(1))):(this.decorations=[],this.strings.prefix="",this.strings.suffix="",this.successor_prefix="",this.range_prefix="",this.splice_prefix="",this.formatter=new CSL.Output.DefaultFormatter)},CSL.NumericBlob.prototype.setFormatter=function(t){this.formatter=t,this.type=this.formatter.format(1)},CSL.Output.DefaultFormatter=function(){},CSL.Output.DefaultFormatter.prototype.format=function(t){return t.toString()},CSL.NumericBlob.prototype.checkNext=function(t,e){e?(this.status=CSL.START,"object"==typeof t&&(t.num===this.num+1?t.status=CSL.SUCCESSOR:t.status=CSL.SEEN)):t&&t.num&&this.type===t.type&&t.num===this.num+1?this.status===CSL.START||this.status===CSL.SEEN?t.status=CSL.SUCCESSOR:(this.status===CSL.SUCCESSOR||this.status===CSL.SUCCESSOR_OF_SUCCESSOR)&&(this.range_prefix?(t.status=CSL.SUCCESSOR_OF_SUCCESSOR,this.status=CSL.SUPPRESS):t.status=CSL.SUCCESSOR):(this.status===CSL.SUCCESSOR_OF_SUCCESSOR&&(this.status=CSL.END),"object"==typeof t&&(t.status=CSL.SEEN))},CSL.NumericBlob.prototype.checkLast=function(t){return this.status===CSL.SEEN||t.num!==this.num-1&&this.status===CSL.SUCCESSOR?(this.status=CSL.SUCCESSOR,!0):!1},CSL.Util.fixDateNode=function(t,e,n){var i,r,s,o,a,u,l,c,h,f,p,d,m,g,v=this.cslXml.getAttributeValue(n,"lingo"),b=this.cslXml.getAttributeValue(n,"default-locale");this.build.date_key=!0,i=this.cslXml.getAttributeValue(n,"form");var v;if(v=b?this.opt["default-locale"][0]:this.cslXml.getAttributeValue(n,"lingo"),!this.getDate(i,b))return t;var y=this.cslXml.getAttributeValue(n,"date-parts");r=this.cslXml.getAttributeValue(n,"variable"),c=this.cslXml.getAttributeValue(n,"prefix"),h=this.cslXml.getAttributeValue(n,"suffix"),m=this.cslXml.getAttributeValue(n,"display"),g=this.cslXml.getAttributeValue(n,"cslid"),s=this.cslXml.nodeCopy(this.getDate(i,b)),this.cslXml.setAttribute(s,"lingo",this.opt.lang),this.cslXml.setAttribute(s,"form",i),this.cslXml.setAttribute(s,"date-parts",y),this.cslXml.setAttribute(s,"cslid",g),this.cslXml.setAttribute(s,"variable",r),this.cslXml.setAttribute(s,"default-locale",b),c&&this.cslXml.setAttribute(s,"prefix",c),h&&this.cslXml.setAttribute(s,"suffix",h),m&&this.cslXml.setAttribute(s,"display",m),f=this.cslXml.children(s);for(p in f)o=f[p],"date-part"===this.cslXml.nodename(o)&&(a=this.cslXml.getAttributeValue(o,"name"),b&&this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(s,"date-part",a,"@default-locale","true"));f=this.cslXml.children(n);for(p in f)if(o=f[p],"date-part"===this.cslXml.nodename(o)){a=this.cslXml.getAttributeValue(o,"name"),d=this.cslXml.attributes(o);for(u in d)"@name"!==u&&(v&&v!==this.opt.lang&&["@suffix","@prefix","@form"].indexOf(u)>-1||(l=d[u],this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(s,"date-part",a,u,l)))}if("year"===this.cslXml.getAttributeValue(n,"date-parts"))this.cslXml.deleteNodeByNameAttribute(s,"month"),this.cslXml.deleteNodeByNameAttribute(s,"day");else if("year-month"===this.cslXml.getAttributeValue(n,"date-parts"))this.cslXml.deleteNodeByNameAttribute(s,"day");else if("month-day"===this.cslXml.getAttributeValue(n,"date-parts")){for(var _=this.cslXml.children(s),S=1,x=_.length;x>S;S++)if("year"===this.cslXml.getAttributeValue(_[S],"name")){this.cslXml.setAttribute(_[S-1],"suffix","");break}this.cslXml.deleteNodeByNameAttribute(s,"year")}return this.cslXml.insertChildNodeAfter(t,n,e,s)},CSL.dateMacroAsSortKey=function(t,e){CSL.dateAsSortKey.call(this,t,e,!0)},CSL.dateAsSortKey=function(t,e,n){var i,r,s,o,a,u,l,c,h=this.variables[0],f="empty";for(n&&t.tmp.extension&&(f="macro-with-date"),i=e[h],"undefined"==typeof i&&(i={"date-parts":[[0]]},i.year||(t.tmp.empty_date=!0)),"undefined"==typeof this.dateparts&&(this.dateparts=["year","month","day"]),i.raw?i=t.fun.dateparser.parseDateToArray(i.raw):i["date-parts"]&&(i=t.dateParseArray(i)),"undefined"==typeof i&&(i={}),l=0,c=CSL.DATE_PARTS_INTERNAL.length;c>l;l+=1)r=CSL.DATE_PARTS_INTERNAL[l],s=0,o=r,"_end"===o.slice(-4)&&(o=o.slice(0,-4)),i[r]&&this.dateparts.indexOf(o)>-1&&(s=i[r]),"year"===r.slice(0,4)?(a=CSL.Util.Dates[o].numeric(t,s),u="Y","-"===a[0]&&(u="X",a=a.slice(1),a=9999-parseInt(a,10)),t.output.append(CSL.Util.Dates[r.slice(0,4)].numeric(t,u+a),f)):(s=CSL.Util.Dates[o]["numeric-leading-zeros"](t,s),s||(s="00"),t.output.append(s,f))},CSL.Engine.prototype.dateParseArray=function(t){var e,n,i,r;e={};for(n in t)if("date-parts"===n){i=t["date-parts"],i.length>1&&i[0].length!==i[1].length&&CSL.error("CSL data error: element mismatch in date range input."),r=["","_end"];for(var s=0,o=i.length;o>s;s+=1)for(var a=0,u=CSL.DATE_PARTS.length;u>a;a+=1)"undefined"==typeof i[s][a]?e[CSL.DATE_PARTS[a]+r[s]]=i[s][a]:e[CSL.DATE_PARTS[a]+r[s]]=parseInt(i[s][a],10)}else t.hasOwnProperty(n)&&("literal"===n&&"object"==typeof t.literal&&"string"==typeof t.literal.part?(CSL.debug("Warning: fixing up weird literal date value"),e.literal=t.literal.part):e[n]=t[n]);return e},CSL.Util.Names={},CSL.Util.Names.compareNamesets=CSL.NameOutput.prototype._compareNamesets,CSL.Util.Names.unInitialize=function(t,e){var n,i,r,s,o;if(!e)return"";for(r=e.split(/(?:\-|\s+)/),s=e.match(/(\-|\s+)/g),o="",n=0,i=r.length;i>n;n+=1)CSL.ALL_ROMANESQUE_REGEXP.exec(r[n].slice(0,-1))&&r[n]&&r[n]!==r[n].toUpperCase()&&(r[n]=r[n].slice(0,1)+r[n].slice(1,2).toLowerCase()+r[n].slice(2)),o+=r[n],i-1>n&&(o+=s[n]);return o},CSL.Util.Names.initializeWith=function(t,e,n,i){var r,s,o,a,u,l,c;if(!e)return"";if(n||(n=""),["Lord","Lady"].indexOf(e)>-1||!e.match(CSL.STARTSWITH_ROMANESQUE_REGEXP)&&!n.match("%s"))return e;var h=e;if(t.opt["initialize-with-hyphen"]===!1&&(h=h.replace(/\-/g," ")),h=h.replace(/\s*\-\s*/g,"-").replace(/\s+/g," "),h=h.replace(/-([a-z])/g,"$1"),u=h.match(/[\-\s]+/g),l=h.split(/[\-\s]+/),0===l.length)h=u;else for(h=[l[0]],r=1,s=l.length;s>r;r+=1)h.push(u[r-1]),h.push(l[r]);for(l=h,r=l.length-1;r>-1;r+=-1)if(l[r]&&l[r].slice(0,-1).indexOf(".")>-1){var f=l.slice(r+1),p=l[r].slice(0,-1).split(".");for(l=l.slice(0,r),o=0,a=p.length;a>o;o+=1)l.push(p[o]+"."),o<p.length-1&&l.push(" ");l=l.concat(f)}return c=i?CSL.Util.Names.doNormalize(t,l,n):CSL.Util.Names.doInitialize(t,l,n),c=c.replace(/\u2013([a-z])/g,"-$1")},CSL.Util.Names.doNormalize=function(t,e,n,i){var r,s;n=n?n:"";var o=[];for(r=0,s=e.length;s>r;r+=1)e[r].length>1&&"."===e[r].slice(-1)?(e[r]=e[r].slice(0,-1),o.push(!0)):1===e[r].length&&e[r].toUpperCase()===e[r]?o.push(!0):o.push(!1);for(r=0,s=e.length;s>r;r+=2)o[r]&&(r<e.length-2&&(e[r+1]="",(!n||n.slice(-1)&&" "!==n.slice(-1))&&e[r].length&&e[r].match(CSL.ALL_ROMANESQUE_REGEXP)&&(e[r].length>1||e[r+2].length>1)&&(e[r+1]=" "),e[r+2].length>1?e[r]=e[r]+n.replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,""):e[r]=e[r]+n),r===e.length-1&&(e[r]=e[r]+n));return e.join("").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},CSL.Util.Names.doInitialize=function(t,e,n,i){var r,s,o,a,u,l,c;for(r=0,s=e.length;s>r;r+=2)if(c=e[r])if(o=c.match(CSL.NAME_INITIAL_REGEXP),!o&&!c.match(CSL.STARTSWITH_ROMANESQUE_REGEXP)&&c.length>1&&n.match("%s")&&(o=c.match(/(.)(.*)/)),o&&o[1]===o[1].toUpperCase()){var h="";if(o[2]){var f="";for(l=o[2].split(""),a=0,u=l.length;u>a;a+=1){var p=l[a];if(p!==p.toUpperCase())break;f+=p}f.length<o[2].length&&(h=f.toLocaleLowerCase())}e[r]=o[1].toLocaleUpperCase()+h,s-1>r?n.match("%s")?e[r]=n.replace("%s",e[r]):e[r+1].indexOf("-")>-1?e[r+1]=n+e[r+1]:e[r+1]=n:n.match("%s")?e[r]=n.replace("%s",e[r]):e.push(n)}else c.match(CSL.ROMANESQUE_REGEXP)&&(e[r]=" "+c);var d=e.join("");return d=d.replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},CSL.Util.Names.getRawName=function(t){var e=[];return t.given&&e.push(t.given),t.family&&e.push(t.family),e.join(" ")},CSL.Util.Dates={},CSL.Util.Dates.year={},CSL.Util.Dates.year["long"]=function(t,e){return e||(e="boolean"==typeof e?"":0),e.toString()},CSL.Util.Dates.year.imperial=function(t,e,n,i){e||(e="boolean"==typeof e?"":0),n=n?"_end":"";var r=t.tmp.date_object["month"+n];for(r=r?""+r:"1";r.length<2;)r="0"+r;var s=t.tmp.date_object["day"+n];for(s=s?""+s:"1";s.length<2;)s="0"+s;var o,a,u=parseInt(e+r+s,10);return u>=18680908&&19120730>u?(o="",a=1867):u>=19120730&&19261225>u?(o="",a=1911):u>=19261225&&19890108>u?(o="",a=1925):u>=19890108&&(o="",a=1988),o&&a&&(t.transform.abbrevs["default"].number[o]||t.transform.loadAbbreviation("default","number",o),t.transform.abbrevs["default"].number[o]&&(o=t.transform.abbrevs["default"].number[o]),year=o+(e-a)),year},CSL.Util.Dates.year["short"]=function(t,e){return e=e.toString(),e&&4===e.length?e.substr(2):void 0},CSL.Util.Dates.year.numeric=function(t,e){var n,i;for(e=""+e,n=e.match(/([0-9]*)$/),n?(i=e.slice(0,-1*n[1].length),e=n[1]):(i=e,e="");e.length<4;)e="0"+e;return i+e},CSL.Util.Dates.normalizeMonth=function(t,e){var n;if(t||(t=0),t=""+t,t.match(/^[0-9]+$/)||(t=0),t=parseInt(t,10),e){var i={stub:"month-",num:t};i.num<1||i.num>20?i.num=0:i.num>16?(i.stub="season-",i.num=i.num-16):i.num>12&&(i.stub="season-",i.num=i.num-12),n=i}else(1>t||t>12)&&(t=0),n=t;return n},CSL.Util.Dates.month={},CSL.Util.Dates.month.numeric=function(t,e){var e=CSL.Util.Dates.normalizeMonth(e);return e||(e=""),e},CSL.Util.Dates.month["numeric-leading-zeros"]=function(t,e){var e=CSL.Util.Dates.normalizeMonth(e);if(e)for(e=""+e;e.length<2;)e="0"+e;else e="";return e},CSL.Util.Dates.month["long"]=function(t,e,n,i){var r=CSL.Util.Dates.normalizeMonth(e,!0),e=r.num;if(e){for(e=""+e;e.length<2;)e="0"+e;e=t.getTerm(r.stub+e,"long",0,0,!1,i)}else e="";return e},CSL.Util.Dates.month["short"]=function(t,e,n,i){var r=CSL.Util.Dates.normalizeMonth(e,!0),e=r.num;if(e){for(e=""+e;e.length<2;)e="0"+e;e=t.getTerm(r.stub+e,"short",0,0,!1,i)}else e="";return e},CSL.Util.Dates.day={},CSL.Util.Dates.day.numeric=function(t,e){return e.toString()},CSL.Util.Dates.day["long"]=CSL.Util.Dates.day.numeric,CSL.Util.Dates.day["numeric-leading-zeros"]=function(t,e){for(e||(e=0),e=e.toString();e.length<2;)e="0"+e;return e.toString()},CSL.Util.Dates.day.ordinal=function(t,e,n){return t.fun.ordinalizer.format(e,n)},CSL.Util.Sort={},CSL.Util.Sort.strip_prepositions=function(t){var e;return"string"==typeof t&&(e=t.toLocaleLowerCase(),e=t.match(/^((a|an|the)\s+)/)),e&&(t=t.substr(e[1].length)),t},CSL.Util.substituteStart=function(t,e){var n,i,r,s,o,a,u;s=function(t,e){for(var n=0,i=this.decorations.length;i>n;n+=1)if("@strip-periods"===this.decorations[n][0]&&"true"===this.decorations[n][1]){t.tmp.strip_periods+=1;break}},this.execs.push(s),this.decorations&&(t.opt.development_extensions.csl_reverse_lookup_support||t.sys.csl_reverse_lookup_support)&&(this.decorations.reverse(),this.decorations.push(["@showid","true",this.cslid]),this.decorations.reverse()),u=["number","date","names"],("text"===this.name&&!this.postponed_macro||u.indexOf(this.name)>-1)&&(n=function(t,e,n){"author"===t.tmp.element_trace.value()||"names"===this.name?n&&n["author-only"]?t.tmp.element_trace.push("do-not-suppress-me"):n&&n["suppress-author"]:n&&n["author-only"]?t.tmp.element_trace.push("suppress-me"):n&&n["suppress-author"]&&t.tmp.element_trace.push("do-not-suppress-me")},this.execs.push(n)),i=this.strings.cls,this.strings.cls=!1,0===t.build.render_nesting_level&&("bibliography"===t.build.area&&t.bibliography.opt["second-field-align"]?(r=new CSL.Token("group",CSL.START),r.decorations=[["@display","left-margin"]],s=function(t,e){t.tmp.render_seen||(r.strings.first_blob=e.id,t.output.startTag("bib_first",r))},r.execs.push(s),e.push(r)):CSL.DISPLAY_CLASSES.indexOf(i)>-1&&(r=new CSL.Token("group",CSL.START),r.decorations=[["@display",i]],s=function(t,e){r.strings.first_blob=e.id,t.output.startTag("bib_first",r)},r.execs.push(s),e.push(r)),t.build.cls=i),t.build.render_nesting_level+=1,1===t.build.substitute_level.value()&&(o=new CSL.Token("choose",CSL.START),CSL.Node.choose.build.call(o,t,e),a=new CSL.Token("if",CSL.START),s=function(e,n){return t.tmp.can_substitute.value()?!0:!1},a.tests.push(s),a.test=t.fun.match.any(this,t,a.tests),e.push(a)),t.sys.variableWrapper&&this.variables_real&&this.variables_real.length&&(s=function(t,e,n){if(!t.tmp.just_looking&&!t.tmp.suppress_decorations){variable_entry=new CSL.Token("text",CSL.START),variable_entry.decorations=[["@showid","true"]],t.output.startTag("variable_entry",variable_entry);var i=null;n&&(i=n.position),i||(i=0);var r=["first","subsequent","ibid","ibid-with-locator"],s=0;n&&n.noteIndex&&(s=n.noteIndex);var o=0;n&&n["first-reference-note-number"]&&(o=n["first-reference-note-number"]);var a=0;n&&n["citation-number"]&&(a=n["citation-number"]);var u=0;n&&n.index&&(u=n.index);var l={itemData:e,variableNames:this.variables,context:t.tmp.area,xclass:t.opt.xclass,position:r[i],"note-number":s,"first-reference-note-number":o,"citation-number":a,index:u,mode:t.opt.mode};t.output.current.value().params=l}},this.execs.push(s))},CSL.Util.substituteEnd=function(t,e){var n,i,r,s,o,a,u;t.sys.variableWrapper&&(this.hasVariable||this.variables_real&&this.variables_real.length)&&(n=function(t,e){t.tmp.just_looking||t.tmp.suppress_decorations||t.output.endTag("variable_entry")},this.execs.push(n)),n=function(t,e){for(var n=0,i=this.decorations.length;i>n;n+=1)if("@strip-periods"===this.decorations[n][0]&&"true"===this.decorations[n][1]){t.tmp.strip_periods+=-1;break}},this.execs.push(n),t.build.render_nesting_level+=-1,0===t.build.render_nesting_level&&(t.build.cls?(n=function(t,e){t.output.endTag("bib_first")},this.execs.push(n),t.build.cls=!1):"bibliography"===t.build.area&&t.bibliography.opt["second-field-align"]&&(i=new CSL.Token("group",CSL.END),n=function(t,e){t.tmp.render_seen||t.output.endTag("bib_first")},i.execs.push(n),e.push(i),r=new CSL.Token("group",CSL.START),r.decorations=[["@display","right-inline"]],n=function(t,e){t.tmp.render_seen||(t.tmp.render_seen=!0,t.output.startTag("bib_other",r))},r.execs.push(n),e.push(r))),1===t.build.substitute_level.value()&&(s=new CSL.Token("if",CSL.END),e.push(s),o=new CSL.Token("choose",CSL.END),CSL.Node.choose.build.call(o,t,e)),("names"===this.name||"text"===this.name&&"title"!==this.variables_real)&&(a=new CSL.Token("text",CSL.SINGLETON),n=function(t,e){if("bibliography"===t.tmp.area&&"string"==typeof t.bibliography.opt["subsequent-author-substitute"]&&(!this.variables_real||e[this.variables_real])&&t.tmp.substituted_variable===this.variables_real){var n,i,r=t.bibliography.opt["subsequent-author-substitute-rule"],s=!t.tmp.suppress_decorations;if(s&&t.tmp.subsequent_author_substitute_ok&&t.tmp.rendered_name){if("partial-each"===r||"partial-first"===r){var o=!0,a=[];for(n=0,i=t.tmp.name_node.children.length;i>n;n+=1){var l=t.tmp.rendered_name[n];o&&t.tmp.last_rendered_name&&t.tmp.last_rendered_name.length>n-1&&l&&!l.localeCompare(t.tmp.last_rendered_name[n])?(u=new CSL.Blob(t[t.tmp.area].opt["subsequent-author-substitute"]),t.tmp.name_node.children[n].blobs=[u],"partial-first"===r&&(o=!1)):o=!1,a.push(l)}t.tmp.last_rendered_name=a}else if("complete-each"===r){var a=t.tmp.rendered_name.join(",");if(a){if(!a.localeCompare(t.tmp.last_rendered_name))for(n=0,i=t.tmp.name_node.children.length;i>n;n+=1)u=new CSL.Blob(t[t.tmp.area].opt["subsequent-author-substitute"]),t.tmp.name_node.children[n].blobs=[u];t.tmp.last_rendered_name=a}}else{var a=t.tmp.rendered_name.join(",");a&&(t.tmp.last_rendered_name&&!a.localeCompare(t.tmp.last_rendered_name)&&(u=new CSL.Blob(t[t.tmp.area].opt["subsequent-author-substitute"]),t.tmp.label_blob?t.tmp.name_node.top.blobs=[u,t.tmp.label_blob]:t.tmp.name_node.top.blobs.length?t.tmp.name_node.top.blobs[0].blobs=[u]:t.tmp.name_node.top.blobs=[u],t.tmp.substituted_variable=this.variables_real),t.tmp.last_rendered_name=a)}t.tmp.subsequent_author_substitute_ok=!1}}},this.execs.push(n)),("text"===this.name&&!this.postponed_macro||["number","date","names"].indexOf(this.name)>-1)&&(n=function(t,e){t.tmp.element_trace.pop()},this.execs.push(n))},CSL.Util.padding=function(t){var e=t.match(/\s*(-{0,1}[0-9]+)/);if(e)for(t=parseInt(e[1],10),0>t&&(t=1e20+t),t=""+t;t.length<20;)t="0"+t;return t},CSL.Util.LongOrdinalizer=function(){},CSL.Util.LongOrdinalizer.prototype.init=function(t){this.state=t},CSL.Util.LongOrdinalizer.prototype.format=function(t,e){10>t&&(t="0"+t);var n=CSL.Engine.getField(CSL.LOOSE,this.state.locale[this.state.opt.lang].terms,"long-ordinal-"+t,"long",0,e);return n||(n=this.state.fun.ordinalizer.format(t,e)),this.state.tmp.cite_renders_content=!0,n},CSL.Util.Ordinalizer=function(t){this.state=t,this.suffixes={}},CSL.Util.Ordinalizer.prototype.init=function(){if(!this.suffixes[this.state.opt.lang]){this.suffixes[this.state.opt.lang]={};for(var t=0,e=3;e>t;t+=1){var n=[void 0,"masculine","feminine"][t];this.suffixes[this.state.opt.lang][n]=[];for(var i=1;5>i;i+=1){var r=this.state.getTerm("ordinal-0"+i,"long",!1,n);if("undefined"==typeof r){delete this.suffixes[this.state.opt.lang][n];break}this.suffixes[this.state.opt.lang][n].push(r)}}}},CSL.Util.Ordinalizer.prototype.format=function(t,e){var n;t=parseInt(t,10),n=""+t;var i="",r=[];if(e&&r.push(e),r.push("neuter"),this.state.locale[this.state.opt.lang].ord["1.0.1"]){i=this.state.getTerm("ordinal",!1,0,e);for(var s,o=0,a=r.length;a>o;o+=1){s=r[o];var u=this.state.locale[this.state.opt.lang].ord["1.0.1"];if(u["whole-number"][n]&&u["whole-number"][n][s]?i=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["whole-number"][n][s],!1,0,e):u["last-two-digits"][n.slice(n.length-2)]&&u["last-two-digits"][n.slice(n.length-2)][s]?i=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-two-digits"][n.slice(n.length-2)][s],!1,0,e):u["last-digit"][n.slice(n.length-1)]&&u["last-digit"][n.slice(n.length-1)][s]&&(i=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-digit"][n.slice(n.length-1)][s],!1,0,e)),i)break}}else e||(e=void 0),this.state.fun.ordinalizer.init(),i=t/10%10===1||t>10&&20>t?this.suffixes[this.state.opt.lang][e][3]:t%10===1&&t%100!==11?this.suffixes[this.state.opt.lang][e][0]:t%10===2&&t%100!==12?this.suffixes[this.state.opt.lang][e][1]:t%10===3&&t%100!==13?this.suffixes[this.state.opt.lang][e][2]:this.suffixes[this.state.opt.lang][e][3];return n=n+=i},CSL.Util.Romanizer=function(){},CSL.Util.Romanizer.prototype.format=function(t){var e,n,i,r,s;if(e="",6e3>t)for(r=t.toString().split(""),r.reverse(),n=0,i=0,s=r.length,n=0;s>n;n+=1)i=parseInt(r[n],10),e=CSL.ROMAN_NUMERALS[n][i]+e;return e},CSL.Util.Suffixator=function(t){t||(t=CSL.SUFFIX_CHARS),this.slist=t.split(",")},CSL.Util.Suffixator.prototype.format=function(t){var e;t+=1;var n="";do e=t%26===0?26:t%26,n=this.slist[e-1]+n,t=(t-e)/26;while(0!==t);return n},CSL.Engine.prototype.processNumber=function(t,e,n,i){function r(t,i){t=t.trim();var r=t.match(/^([^ ]+)/);if(r&&!CSL.STATUTE_SUBDIV_STRINGS[r[1]]){var s=null;s="locator"===n?e.label?CSL.STATUTE_SUBDIV_STRINGS_REVERSE[e.label]:"p.":CSL.STATUTE_SUBDIV_STRINGS_REVERSE[n],s&&(t=s+" "+t)}return t}function s(t,e,i,r){r=r?r:"";var s={};if(e||CSL.STATUTE_SUBDIV_STRINGS_REVERSE[n]||(e="var:"+n),e){var o=e.match(/(\s*)([^\s]*)(\s*)/);s.label=o[2],s.origLabel=t,s.labelSuffix=o[3]?o[3]:"",s.plural=0,s.labelVisibility=!1}var o=i.match(/^([a-zA-Z]0*)([0-9]+(?:[a-zA-Z]*|[-,a-zA-Z]+))$/);return o?(s.particle=o[1],s.value=o[2]):(s.particle="",s.value=i),s.joiningSuffix=r.replace(/\s*-\s*/,"-"),s}function o(t){for(var e=t.length-2;e>-1;e-=2)"-"===t[e]&&t[e-1].match(/^(?:(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])\.  *)*[0-9]+[,a-zA-Z]+$/)&&t[e+1].match(/^[,a-zA-Z]+$/)&&(t[e-1]=t.slice(e-1,e+2).join(""),t=t.slice(0,e).concat(t.slice(e+2)));return t}function a(t,e){e=e?e:"",t=r(t,e);var i=[],a=t.match(/(,\s+|\s*\\*[\-\u2013]+\s*|\s*&\s*)/g);if(a){for(var u=t.split(/(?:,\s+|\s*\\*[\-\u2013]+\s*|\s*&\s*)/),l=0,c=u.length-1;c>l;l++)i.push(u[l]),i.push(a[l]);i.push(u[u.length-1]),i=o(i)}else var i=[t];for(var h=[],f=e,p="",l=0,c=i.length;c>l;l+=2){var a=i[l].match(/((?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])\. *)/g);if(a){for(var u=i[l].split(/(?:(?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])\. *)/),d=u.length-1;d>0;d--)!u[d-1]||u[d].match(/^[0-9]+([-,:a-zA-Z]*)$/)&&u[d-1].match(/^[0-9]+([-,:a-zA-Z]*)$/)||(u[d-1]=u[d-1]+a[d-1]+u[d],u=u.slice(0,d).concat(u.slice(d+1)),a=a.slice(0,d-1).concat(a.slice(d)));if(a.length>0&&0===l){var m=a[0].trim();(!CSL.STATUTE_SUBDIV_STRINGS[m]||!_.getTerm(CSL.STATUTE_SUBDIV_STRINGS[m])||-1===["locator","number"].indexOf(n)&&CSL.STATUTE_SUBDIV_STRINGS[m]!==n)&&(a=a.slice(1),u[0]=u[0]+" "+m+" "+u[1],u=u.slice(0,1).concat(u.slice(2)))}for(var d=0,g=u.length;g>d;d++)if(u[d]||d===u.length-1){f=a[d-1]?a[d-1]:f;var p=d>1?a[d-1]:"",t=u[d]?u[d].trim():"";d===u.length-1?h.push(s(p,f,t,i[l+1])):h.push(s(p,f,t))}}else h.push(s(p,f,i[l],i[l+1]))}return h}function u(t){for(var e=0,n=t.length-1;n>e;e++)!t[e].joiningSuffix&&t[e+1].label&&(t[e].joiningSuffix=" ")}function l(t,e,n){var i=t[n.pos],r=t[e].value,s="\\-"===i.joiningSuffix;r.particle&&r.particle!==i.particle&&(n.collapsible=!1);var o=r.match(/^[0-9]+([-,:a-zA-Z]*)$/),a=i.value.match(/^[0-9]+([-,:a-zA-Z]*)$/);r&&o&&a&&!s||(n.collapsible=!1,r&&a||(n.numeric=!1),s&&n.count--),(o&&o[1]||a&&a[1])&&(n.collapsible=!1);var u=n.collapsible;!u&&e>0&&r.match(/^[ivxlcmIVXLCM]+$/)&&t[e-1].value.match(/^[ivxlcmIVXLCM]+$/)&&(u=!0);for(var l=n.pos,c=t.length;c>l;l++)n.label===t[l].label&&n.count>1&&u&&(t[l].plural=1),t[l].numeric=n.numeric,t[l].collapsible=n.collapsible;n.label=t[e].label,n.count=1,n.pos=e,n.numeric=!0,n.collapsible=!0}function c(t){for(var i={label:null,count:1,numeric:!0,collapsible:!0,pos:0},r=(t.length?t[0].label:null,0),s=t.length;s>r;r++)t[r].label&&(t[r].label===i.label?i.count++:(l(t,r,i),0===i.pos?(("locator"===n||"number"===n)&&(_.getTerm(CSL.STATUTE_SUBDIV_STRINGS[i.label])||"var:"===i.label.slice(0,4)||(t[i.pos].labelVisibility=!0)),-1===["locator","number"].indexOf(n)&&CSL.STATUTE_SUBDIV_STRINGS[i.label]!==n&&"var:"!==i.label.slice(0,4)&&(t[0].labelVisibility=!0)):t[r-1].label!==t[r].label&&"var:"!==i.label.slice(0,4)&&(t[i.pos].labelVisibility=!0)));l(t,t.length-1,i),t.length&&t[0].numeric&&"number-of-"===n.slice(0,10)&&parseInt(e[n],10)>1&&(t[0].plural=1);for(var r=0,s=t.length;s>r;r++)if(!t[r].numeric){var o=t[r].origLabel?t[r].origLabel:"";t[r].value=(o+t[r].value).trim(),t[r].label!==t[0].label&&(t[r].label="")}}function h(e){var n=CSL.Util.cloneToken(t),i=new CSL.Token;if(!_.tmp.just_looking){for(var r=n.decorations.length-1;r>-1;r--)"@quotes"===n.decorations[r][0]&&(i.decorations=i.decorations.concat(n.decorations.slice(r,r+1)),n.decorations=n.decorations.slice(0,r).concat(n.decorations.slice(r+1)));i.strings.prefix=n.strings.prefix,n.strings.prefix="",i.strings.suffix=n.strings.suffix,n.strings.suffix=""}var s=e.length?e[0].label:null;if(e.length){for(var o=0,a=e.length;a>o;o++){var u=e[o],l=CSL.Util.cloneToken(n);l.gender=t.gender,s===u.label&&(l.formatter=t.formatter),u.numeric&&(l.successor_prefix=u.successor_prefix),l.strings.suffix=l.strings.suffix+f(u.joiningSuffix),u.styling=l}_.tmp.just_looking||'"'===e[0].value.slice(0,1)&&'"'===e[e.length-1].value.slice(-1)&&(e[0].value=e[0].value.slice(1),e[e.length-1].value=e[e.length-1].value.slice(0,-1),i.decorations.push(["@quotes",!0]))}return i}function f(t){return t.replace("\\-","-")}function p(t,e,n,i){var r=d(t,e),s=m(t,e);return s&&"-"===n&&i&&((r||["locator","issue","volume","edition","number"].indexOf(t)>-1)&&(n=_.getTerm("page-range-delimiter"),n||(n="")),"collection-number"===t&&(n=_.getTerm("year-range-delimiter"),n||(n=""))),n}function d(t,e){return"page"===t||"locator"===t&&["p."].indexOf(e.label)>-1}function m(t,e){var n=!0;return"locator"===t&&(n=!!_.getTerm(CSL.STATUTE_SUBDIV_STRINGS[e.label])),n}function g(t,e,i){if(!(1>e)&&2===i.count&&t[e-1].particle===t[e].particle){if("-"!==t[e-1].joiningSuffix)return void(i.count=1);if(!_.opt["page-range-format"]&&parseInt(t[e-1].value,10)>parseInt(t[e].value,10))return void(t[e-1].joiningSuffix=p(n,t[e],t[e-1].joiningSuffix,!0));var r=t[e],s=d(n,r);if(s){var o=t[e-1].particle+t[e-1].value+" - "+t[e].particle+t[e].value;o=_.fun.page_mangler(o)}else o=t[e-1].value+f(t[e-1].joiningSuffix)+t[e].value;var a=o.match(/^([a-zA-Z]?0*)([0-9]+)(\s*[^0-9]+\s*)([-,a-zA-Z]?0*)([0-9]+)$/);if(a){var u=a[3];u=p(n,r,u,t[e].numeric),t[e-1].particle=a[1],t[e-1].value=a[2],t[e-1].joiningSuffix=u,t[e].particle=a[4],t[e].value=a[5]}i.count=0}}function v(e){if(t&&-1!==["page","page-first","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume","locator"].indexOf(n)){for(var i={count:0,label:null,lastHadRangeDelimiter:!1},r=0,s=e.length;s>r;r++){var o=e[r];if(o.collapsible)i.label===o.label&&"-"===o.joiningSuffix?i.count=1:i.label===o.label&&"-"!==o.joiningSuffix?(i.count++,2===i.count&&g(e,r,i)):i.label!==o.label?(i.label=o.label,i.count=1):(i.count=1,i.label=o.label);else{i.count=0,i.label=null;var a=o.numeric;r<e.length-1&&!a&&o.value.match(/^[ivxlcmIVXLCM]+$/)&&e[r+1].value.match(/^[ivxlcmIVXLCM]+$/)&&(a=!0),o.joiningSuffix=p(n,o,o.joiningSuffix,a)}}2===i.count&&g(e,e.length-1,i)}}function b(t,e,n){var i=t[e];n.length&&(i.numeric=n[0].numeric,i.collapsible=n[0].collapsible,i.plural=n[0].plural,i.label=CSL.STATUTE_SUBDIV_STRINGS[n[0].label],"number"===e&&"issue"===i.label&&_.getTerm("number")&&(i.label="number"))}var y,_=this;if(t&&this.tmp.shadow_numbers[n]&&this.tmp.shadow_numbers[n].values.length){var S=this.tmp.shadow_numbers[n].values;return v(S),void(this.tmp.shadow_numbers[n].masterStyling=h(S))}if(this.tmp.shadow_numbers[n]||(this.tmp.shadow_numbers[n]={values:[]}),e){var x=CSL.LangPrefsMap[n];if(x){var C=this.opt["cite-lang-prefs"][x][0];y=this.transform.getTextSubField(e,n,"locale-"+C,!0),y=y.name}else y=e[n];if(y&&this.sys.getAbbreviation){var $=this.transform.loadAbbreviation(e.jurisdiction,"number",y);this.transform.abbrevs[$].number[y]?y=this.transform.abbrevs[$].number[y]:"undefined"!=typeof this.transform.abbrevs[$].number[y]&&delete this.transform.abbrevs[$].number[y]}if("undefined"!=typeof y&&("string"==typeof y||"number"==typeof y)){"number"==typeof y&&(y=""+y);var w=CSL.STATUTE_SUBDIV_STRINGS_REVERSE[n];if(!this.tmp.shadow_numbers.values){var S=a(y,w);u(S),c(S),this.tmp.shadow_numbers[n].values=S}t&&(v(S),this.tmp.shadow_numbers[n].masterStyling=h(S)),b(this.tmp.shadow_numbers,n,S)}}},CSL.Util.outputNumericField=function(t,e,n){t.output.openLevel(t.tmp.shadow_numbers[e].masterStyling);var i,r=t.tmp.shadow_numbers[e].values,s=r.length?r[0].label:null,o=t.tmp.shadow_numbers[e].labelForm;i=o?o:"short";for(var a=t.tmp.shadow_numbers[e].labelDecorations,u=null,l=0,c=r.length;c>l;l++){var h=r[l],f="";if(h.label){var p;p="var:"===h.label.slice(0,4)?h.label.slice(4):CSL.STATUTE_SUBDIV_STRINGS[h.label],p&&(f=h.label===s?t.getTerm(p,o,h.plural):t.getTerm(p,i,h.plural))}var d=-1;f&&(d=f.indexOf("%s"));var m=CSL.Util.cloneToken(h.styling);if(m.formatter=h.styling.formatter,m.type=h.styling.type,m.num=h.styling.num,m.gender=h.styling.gender,d>0&&d<f.length-2)m.strings.prefix+=f.slice(0,d),m.strings.suffix=f.slice(d+2)+m.strings.suffix;else if(h.labelVisibility)if(f||(f=h.label,p=h.label),d>0){var g=new CSL.Token;g.decorations=a,t.output.append(f.slice(0,d),g)}else(d===f.length-2||-1===d)&&t.output.append(f+h.labelSuffix,"empty");if(h.collapsible){var v=new CSL.NumericBlob(h.particle,parseInt(h.value,10),m,n);"undefined"==typeof v.gender&&(v.gender=t.locale[t.opt.lang]["noun-genders"][e]),t.output.append(v,"literal")}else t.output.append(h.particle+h.value,m);if(0===d&&d<f.length-2&&(null===u&&(u=p),p!==u||l===r.length-1)){var b=new CSL.Token;b.decorations=a,t.output.append(f.slice(d+2),b)}}t.output.closeLevel()},CSL.Util.PageRangeMangler={},CSL.Util.PageRangeMangler.getFunction=function(t,e){var n,i,r,s,o,a,u,l,c,h,f,p,d,m,g,v,b,y=t.getTerm(e+"-range-delimiter");n=/([a-zA-Z]*)([0-9]+)\s*(?:\u2013|-)\s*([a-zA-Z]*)([0-9]+)/,s=function(n){for(r=n.length,i=1;r>i;i+=2)"object"==typeof n[i]&&(n[i]=n[i].join(""));var s=n.join("");return s=s.replace(/([^\\])\-/g,"$1"+t.getTerm(e+"-range-delimiter"))},o=function(t){var e,n,s,o="\\s+\\-\\s+",a="-"===y?"":y,u=new RegExp("([^\\\\])[-"+a+"\\u2013]","g");t=t.replace(u,"$1 - ").replace(/\s+-\s+/g," - ");var l=new RegExp("([a-zA-Z]*[0-9]+"+o+"[a-zA-Z]*[0-9]+)","g"),c=new RegExp("[a-zA-Z]*[0-9]+"+o+"[a-zA-Z]*[0-9]+");if(e=t.match(l),n=t.split(c),0===n.length)s=e;else for(s=[n[0]],i=1,r=n.length;r>i;i+=1)s.push(e[i-1].replace(/\s*\-\s*/g,"-")),s.push(n[i]);return s},a=function(t){for(t=""+t,h=o(t),r=h.length,i=1;r>i;i+=2)f=h[i].match(n),f&&(f[3]&&f[1]!==f[3]||(f[4].length<f[2].length&&(f[4]=f[2].slice(0,f[2].length-f[4].length)+f[4]),parseInt(f[2],10)<parseInt(f[4],10)&&(f[3]=y+f[1],h[i]=f.slice(1)))),"string"==typeof h[i]&&(h[i]=h[i].replace(/\-/g,y));return h},u=function(t,e,n){r=t.length;for(var i=1,o=t.length;o>i;i+=2)t[i][3]=l(t[i][1],t[i][3],e,n),t[i][2].slice(1)===t[i][0]&&(t[i][2]=y);return s(t)},l=function(t,e,n,i){if(n||(n=0),p=(""+t).split(""),d=(""+e).split(""),m=d.slice(),m.reverse(),p.length===d.length)for(var r=0,s=p.length;s>r;r+=1){if(!(p[r]===d[r]&&m.length>n)){if(n&&i&&3===m.length){var o=p.slice(0,r);o.reverse(),m=m.concat(o)}break}m.pop()}return m.reverse(),m.join("")},c=function(t){for(r=t.length,i=1;r>i;i+=2)"object"==typeof t[i]&&(f=t[i],g=parseInt(f[1],10),v=parseInt(f[3],10),g>100&&g%100&&parseInt(g/100,10)===parseInt(v/100,10)?f[3]=""+v%100:g>=1e4&&(f[3]=""+v%1e3)),f[2].slice(1)===f[0]&&(f[2]=y);return s(t)};var _=function(t,e,n,i){var r;t=""+t;var s=a(t),r=e(s,n,i);return r};return t.opt[e+"-range-format"]?"expanded"===t.opt[e+"-range-format"]?b=function(t){return _(t,s)}:"minimal"===t.opt[e+"-range-format"]?b=function(t){
return _(t,u)}:"minimal-two"===t.opt[e+"-range-format"]?b=function(t,e){return _(t,u,2,e)}:"chicago"===t.opt[e+"-range-format"]&&(b=function(t){return _(t,c)}):b=function(t){return _(t,s)},b},CSL.Util.FlipFlopper=function(t){var e,n,i,r,s,o,a,u,l,c,h,f,p,d,m,g,v,b;for(this.state=t,this.blob=!1,this.quotechars=['"',"'"],e=[["<i>","</i>","italics","@font-style",["italic","normal","normal"],!0],["<b>","</b>","bold","@font-weight",["bold","normal","normal"],!0],["<sup>","</sup>","superscript","@vertical-align",["sup","sup","baseline"],!0],["<sub>","</sub>","subscript","@vertical-align",["sub","sub","baseline"],!0],["<sc>","</sc>","smallcaps","@font-variant",["small-caps","small-caps","normal"],!0],['<span style="font-variant:small-caps;">',"</span>","smallcaps","@font-variant",["small-caps","normal","normal"],!0],['<span class="nocase">',"</span>","passthrough","@passthrough",["true","true","true"],!0],['<span class="nodecor">',"</span>","passthrough","@passthrough",["true","true","true"],!0],['"','"',"quotes","@quotes",["true","inner","true"],"'"],[" '","'","quotes","@quotes",["inner","true","true"],'"']],n=0;2>n;n+=1){r=["-","-inner-"][n],s=[];var y=t.getTerm("open"+r+"quote");s.push(y),this.quotechars.push(y);var _=t.getTerm("close"+r+"quote");s.push(_),this.quotechars.push(_),s.push("quotes"),s.push("@quotes"),"-"===r?s.push(["true","inner"]):s.push(["inner","true"]),s.push(!0),"-"===r?s.push(t.getTerm("close-inner-quote")):s.push(t.getTerm("close-quote")),e.push(s)}for(o=function(t){for(a=[],i=t.length,n=0;i>n;n+=1)u=t[n],-1===a.indexOf(u[0])&&(l="",["(",")","[","]"].indexOf(u[0])>-1&&(l="\\"),a.push(l+u[0])),-1===a.indexOf(u[1])&&(l="",["(",")","[","]"].indexOf(u[1])>-1&&(l="\\"),a.push(l+u[1]));return a},v=o(e),b=[],n=0,i=v.length;i>n;n+=1)v[n]&&b.push(v[n]);v=b.slice(),this.allTagsRexMatch=new RegExp("("+v.join("|")+")","g"),this.allTagsRexSplit=new RegExp("(?:"+v.join("|")+")"),c=function(t){for(h={},f={},p={},d={},m={},i=t.length,n=0;i>n;n+=1)h[t[n][1]]=!0,f[t[n][1]]=t[n][5],p[t[n][0]]=t[n][1],d[t[n][0]]=[t[n][3],t[n][4]],m[t[n][3]]=[t[n][3],[t[n][4][2],t[n][1]]];return[h,f,p,d,m]},g=c(e),this.closeTagsHash=g[0],this.flipTagsHash=g[1],this.openToCloseHash=g[2],this.openToDecorations=g[3],this.okReverseHash=g[4]},CSL.Util.FlipFlopper.prototype.init=function(t,e){this.txt_esc=CSL.getSafeEscape(this.state),e?(this.blob=e,this.strs=this.getSplitStrings(this.blob.blobs),this.blob.blobs=[]):(this.strs=this.getSplitStrings(t),this.blob=new CSL.Blob),this.blobstack=new CSL.Stack(this.blob)},CSL.Util.FlipFlopper.prototype._normalizeString=function(t){var e,n;if(t=t.replace(/\s+'\s+/g,"  "),t.indexOf(this.quotechars[0])>-1)for(var i=null;t!==i;)for(i=t,e=0,n=2;n>e;e+=1)this.quotechars[e+2]&&(t=t.split(this.quotechars[e+2]).join(this.quotechars[0]));if(t.indexOf(this.quotechars[1])>-1)for(e=0,n=2;n>e;e+=1)this.quotechars[e+4]&&(t=0===e&&this.quotechars[e+4]!==this.quotechars[1]?t.split(this.quotechars[e+4]).join(" "+this.quotechars[1]):t.split(this.quotechars[e+4]).join(this.quotechars[1]));return t},CSL.Util.FlipFlopper.prototype.getSplitStrings=function(t){var e,n,i,r,s,o,a,u,l,c,h,f,p,d,m,g,v,b,y,_,S,x,C,$,w,L,T,k,A;for(t=this._normalizeString(t),k=t.match(this.allTagsRexMatch),e=t.split(this.allTagsRexSplit),A=[e[0]],n=1,i=e.length;i>n;n+=1)A.push(k[n-1]),A.push(e[n]);for(e=A.slice(),i=e.length-2,n=i;n>0;n+=-2)"\\"===e[n-1].slice(e[n-1].length-1)&&(r=e[n-1].slice(0,e[n-1].length-1)+e[n]+e[n+1],s=e.slice(0,n-1),o=e.slice(n+2),s.push(r),e=s.concat(o));for(a=[],u=[],l=[],c=[],h=[],$=e.length-1,f=1;$>f;f+=2)if(g=e[f],this.closeTagsHash[g]&&(a.reverse(),p=this.openToCloseHash[g],d=a.indexOf(g),m=l.indexOf(g),a.reverse(),!p||d>-1&&(m>d||-1===m))){for(v=!1,w=a.length-1,b=w;b>-1;b+=-1){if(v=!0,y=a[b],g===y){a.pop(),u.pop(),l.pop(),c.pop();break}h.push(f)}v||h.push(f)}else this.openToCloseHash[g]&&(a.push(this.openToCloseHash[g]),u.push(g),l.push(this.flipTagsHash[g]),c.push(f));for(L=a.length-1,_=L;_>-1;_+=-1)a.pop(),l.pop(),u.pop(),h.push(c.pop());for(h.sort(function(t,e){return e>t?1:t>e?-1:0}),i=h.length,n=0;i>n;n+=1)T=h[n],s=e.slice(0,T-1),o=e.slice(T+2),S=e[T],S.length&&"<"!==S[0]&&this.openToDecorations[S]&&-1===this.quotechars.indexOf(S.replace(/\s+/g,""))&&(C=this.openToDecorations[S],S=this.state.fun.decorate[C[0]][C[1][0]](this.state)),x=e[T-1]+S+e[T+1],s.push(x),e=s.concat(o);for(i=e.length,n=0;i>n;n+=2)e[n]=e[n].split("'").join(""),e[n]=e[n].split("  ").join(" ");return e},CSL.Util.FlipFlopper.prototype.processTags=function(){var t,e,n,i,r,s,o,a,u,l,c,h,f,p,d,m,g,v,b,y,_,S,x,C;if(t=[],e=[],n=[],i=[],r="",1===this.strs.length)this.blob.blobs=this.strs[0];else if(this.strs.length>2){for(_=this.strs.length-1,s=1;_>s;s+=2)if(o=this.strs[s],a=this.strs[s-1],a&&(u=new CSL.Blob(a),l=this.blobstack.value(),l.push(u)),this.closeTagsHash[o]&&(t.reverse(),c=this.openToCloseHash[o],h=t.indexOf(o),f=n.indexOf(o),t.reverse(),!c||h>-1&&(f>h||-1===f))){for(S=t.length,p=S;p>-1;p+=-1)if(d=t[p],o===d){t.pop(),e.pop(),n.pop(),i.pop(),this.blobstack.pop();break}}else if(this.openToCloseHash[o]){if(t.push(this.openToCloseHash[o]),e.push(o),n.push(this.flipTagsHash[o]),l=this.blobstack.value(),m=new CSL.Blob,l.push(m),g=this.addFlipFlop(m,this.openToDecorations[o]),'<span class="nodecor">'===o)for(v=this.state[this.state.tmp.area].opt.topdecor.concat(this.blob.alldecor).concat([[["@quotes","inner"]]]),S=v.length,p=0;S>p;p+=1)for(b=v[p],C=b.length,x=0;C>x;x+=1)y=b[x],["@font-style","@font-weight","@font-variant"].indexOf(y[0])>-1&&(g=this.addFlipFlop(m,this.okReverseHash[y[0]]));i.push(this.state.fun.decorate[g[0]][g[1]](this.state)),this.blobstack.push(m)}this.strs.length>2&&(r=this.strs[this.strs.length-1],r&&(l=this.blobstack.value(),u=new CSL.Blob(r),l.push(u)))}return this.blob},CSL.Util.FlipFlopper.prototype.addFlipFlop=function(t,e){var n,i,r,s,o,a,u,l,c,h;for(i=0,r=this.state[this.state.tmp.area].opt.topdecor.concat(t.alldecor).concat([[["@quotes","inner"]]]),s=r.length,n=0;s>n;n+=1){for(o=r[n],a=!1,h=o.length-1,l=h;l>-1;l+=-1)if(u=o[l],u[0]===e[0]){u[1]===e[1][0]&&(i=1),a=!0;break}if(a)break}return c=[e[0],e[1][i]],t.decorations.reverse(),t.decorations.push(c),t.decorations.reverse(),c},CSL.Output.Formatters={},CSL.getSafeEscape=function(t){if(["bibliography","citation"].indexOf(t.tmp.area)>-1){var e=[];return t.opt.development_extensions.thin_non_breaking_space_html_hack&&"html"===t.opt.mode&&e.push(function(t){return t.replace(/\u202f/g,'<span style="white-space:nowrap">&thinsp;</span>')}),e.length?function(n){for(var i=0,r=e.length;r>i;i+=1)n=e[i](n);return CSL.Output.Formats[t.opt.mode].text_escape(n)}:CSL.Output.Formats[t.opt.mode].text_escape}return function(t){return t}},CSL.Output.Formatters.passthrough=function(t,e){return e},CSL.Output.Formatters.lowercase=function(t,e){var n=CSL.Output.Formatters.doppelString(e,CSL.TAG_USEALL);return n.string=n.string.toLowerCase(),CSL.Output.Formatters.undoppelString(n)},CSL.Output.Formatters.uppercase=function(t,e){var n=CSL.Output.Formatters.doppelString(e,CSL.TAG_USEALL);return n.string=n.string.toUpperCase(),CSL.Output.Formatters.undoppelString(n)},CSL.Output.Formatters["capitalize-first"]=function(t,e){var n=CSL.Output.Formatters.doppelString(e,CSL.TAG_ESCAPE);return n.string.length?(n.string=n.string.slice(0,1).toUpperCase()+n.string.substr(1),CSL.Output.Formatters.undoppelString(n)):""},CSL.Output.Formatters.sentence=function(t,e){var n=CSL.Output.Formatters.doppelString(e,CSL.TAG_ESCAPE);return n.string=n.string.slice(0,1).toUpperCase()+n.string.substr(1).toLowerCase(),CSL.Output.Formatters.undoppelString(n)},CSL.Output.Formatters["capitalize-all"]=function(t,e){for(var n=CSL.Output.Formatters.doppelString(e,CSL.TAG_ESCAPE),i=n.string.split(" "),r=0,s=i.length;s>r;r+=1)i[r].length>1?t.opt.development_extensions.allow_force_lowercase?i[r]=i[r].slice(0,1).toUpperCase()+i[r].substr(1).toLowerCase():i[r]=i[r].slice(0,1).toUpperCase()+i[r].substr(1):1===i[r].length&&(i[r]=i[r].toUpperCase());return n.string=i.join(" "),CSL.Output.Formatters.undoppelString(n)},CSL.Output.Formatters.title=function(t,e){function n(t,e){var n=t.match(/([:?!]+\s+|-|^)((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))(.*)/);return!n||n[2].match(/^[\u0370-\u03FF]$/)&&!n[3]?t:n[1]+n[2].toUpperCase()+n[3]}function i(t,e){var n=t.match(e);if(n){var i=t.split(e);res=[i[0]];for(var r=0;r<n.length;r++)res.push(n[r]),res.push(i[r+1])}else res=[t];return res}var r,s,o,a,u,l=t.locale[t.opt.lang].opts["skip-words"];if(!e)return"";var c=CSL.Output.Formatters.doppelString(e,CSL.TAG_ESCAPE,l),r=c.string,u=i(r,t.locale[t.opt.lang].opts["skip-words-regexp"]);for(h=1,f=u.length;f>h;h+=2)u[h].match(/^[:?!]/)&&(u[h]=n(u[h]));!u[0]&&u[1]&&(u[1]=n(u[1])),u.length>2&&!u[u.length-1]&&(u[u.length-2]=n(u[u.length-2]));for(var h=0,f=u.length;f>h;h+=2){for(var s=u[h].split(/([:?!]*\s+|\/|-)/),p=0,d=s.length;d>p;p+=2)if(0!==s[p].length){if(o=s[p].toUpperCase(),a=s[p].toLowerCase(),s[p].match(/[0-9]/))continue;s[p]===a&&(s[p]=n(s[p]))}u[h]=s.join("")}c.string=u.join("");var m=CSL.Output.Formatters.undoppelString(c);return m},CSL.Output.Formatters.doppelString=function(t,e,n){var i;i={},i.array=e(t,n),i.string="";for(var r=0,s=i.array.length;s>r;r+=2)"-"===i.array[r-1],i.string+=i.array[r];return i},CSL.Output.Formatters.undoppelString=function(t){var e;e="";for(var n=0,i=t.array.length;i>n;n+=1)n%2?e+=t.array[n]:("-"===t.array[n-1],e+=t.string.slice(0,t.array[n].length),t.string=t.string.slice(t.array[n].length));return e},CSL.Output.Formatters.serializeItemAsRdf=function(t){return""},CSL.Output.Formatters.serializeItemAsRdfA=function(t){return""},CSL.demoteNoiseWords=function(t,e,n){var i=t.locale[t.opt.lang].opts["leading-noise-words"];if(e&&n){e=e.split(/\s+/),e.reverse();for(var r=[],s=e.length-1;s>-1&&i.indexOf(e[s].toLowerCase())>-1;s+=-1)r.push(e.pop());e.reverse();var o=e.join(" "),a=r.join(" ");"drop"!==n&&a?"demote"===n&&(e=[o,a].join(", ")):e=o}return e},CSL.Output.Formats=function(){},CSL.Output.Formats.prototype.html={text_escape:function(t){return t||(t=""),t.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/\s\s/g," ").replace(CSL.SUPERSCRIPTS_REGEXP,function(t){return"<sup>"+CSL.SUPERSCRIPTS[t]+"</sup>"})},bibstart:'<div class="csl-bib-body">\n',bibend:"</div>","@font-style/italic":"<i>%%STRING%%</i>","@font-style/oblique":"<em>%%STRING%%</em>","@font-style/normal":'<span style="font-style:normal;">%%STRING%%</span>',"@font-variant/small-caps":'<span style="font-variant:small-caps;">%%STRING%%</span>',"@passthrough/true":CSL.Output.Formatters.passthrough,"@font-variant/normal":'<span style="font-variant:normal;">%%STRING%%</span>',"@font-weight/bold":"<b>%%STRING%%</b>","@font-weight/normal":'<span style="font-weight:normal;">%%STRING%%</span>',"@font-weight/light":!1,"@text-decoration/none":'<span style="text-decoration:none;">%%STRING%%</span>',"@text-decoration/underline":'<span style="text-decoration:underline;">%%STRING%%</span>',"@vertical-align/sup":"<sup>%%STRING%%</sup>","@vertical-align/sub":"<sub>%%STRING%%</sub>","@vertical-align/baseline":'<span style="baseline">%%STRING%%</span>',"@strip-periods/true":CSL.Output.Formatters.passthrough,"@strip-periods/false":CSL.Output.Formatters.passthrough,"@quotes/true":function(t,e){return"undefined"==typeof e?t.getTerm("open-quote"):t.getTerm("open-quote")+e+t.getTerm("close-quote")},"@quotes/inner":function(t,e){return"undefined"==typeof e?"":t.getTerm("open-inner-quote")+e+t.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){var n="";return t.sys.embedBibliographyEntry&&(n=t.sys.embedBibliographyEntry(this.item_id)+"\n"),'  <div class="csl-entry">'+e+"</div>\n"+n},"@display/block":function(t,e){return'\n\n    <div class="csl-block">'+e+"</div>\n"},"@display/left-margin":function(t,e){return'\n    <div class="csl-left-margin">'+e+"</div>"},"@display/right-inline":function(t,e){return'<div class="csl-right-inline">'+e+"</div>\n  "},"@display/indent":function(t,e){return'<div class="csl-indent">'+e+"</div>\n  "},"@showid/true":function(t,e,n){if(t.tmp.just_looking||t.tmp.suppress_decorations)return e;if(n)return'<span class="'+t.opt.nodenames[n]+'" cslid="'+n+'">'+e+"</span>";if(this.params&&"string"==typeof e){var i="";if(e){var r=e.match(CSL.VARIABLE_WRAPPER_PREPUNCT_REX);i=r[1],e=r[2]}var s="";return e&&CSL.SWAPPING_PUNCTUATION.indexOf(e.slice(-1))>-1&&(s=e.slice(-1),e=e.slice(0,-1)),t.sys.variableWrapper(this.params,i,e,s)}return e},"@URL/true":function(t,e){return'<a href="'+e+'">'+e+"</a>"},"@DOI/true":function(t,e){return'<a href="http://dx.doi.org/'+e+'">'+e+"</a>"}},CSL.Output.Formats.prototype.text={text_escape:function(t){return t||(t=""),t},bibstart:"",bibend:"","@font-style/italic":!1,"@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":CSL.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":!1,"@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":CSL.Output.Formatters.passthrough,"@strip-periods/false":CSL.Output.Formatters.passthrough,"@quotes/true":function(t,e){return"undefined"==typeof e?t.getTerm("open-quote"):t.getTerm("open-quote")+e+t.getTerm("close-quote")},"@quotes/inner":function(t,e){return"undefined"==typeof e?"":t.getTerm("open-inner-quote")+e+t.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){return e+"\n"},"@display/block":function(t,e){return"\n"+e},"@display/left-margin":function(t,e){return e},"@display/right-inline":function(t,e){return e},"@display/indent":function(t,e){return"\n    "+e},"@showid/true":function(t,e,n){return e},"@URL/true":function(t,e){return e},"@DOI/true":function(t,e){return e}},CSL.Output.Formats.prototype.rtf={text_escape:function(t){return t||(t=""),t.replace(/([\\{}])/g,"\\$1").replace(CSL.SUPERSCRIPTS_REGEXP,function(t){return"\\super "+CSL.SUPERSCRIPTS[t]+"\\nosupersub{}"}).replace(/[\u007F-\uFFFF]/g,function(t){return"\\uc0\\u"+t.charCodeAt(0).toString()+"{}"}).split("	").join("\\tab{}")},"@passthrough/true":CSL.Output.Formatters.passthrough,"@font-style/italic":"{\\i{}%%STRING%%}","@font-style/normal":"{\\i0{}%%STRING%%}","@font-style/oblique":"{\\i{}%%STRING%%}","@font-variant/small-caps":"{\\scaps %%STRING%%}","@font-variant/normal":"{\\scaps0{}%%STRING%%}","@font-weight/bold":"{\\b{}%%STRING%%}","@font-weight/normal":"{\\b0{}%%STRING%%}","@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"{\\ul{}%%STRING%%}","@vertical-align/baseline":!1,"@vertical-align/sup":"\\super %%STRING%%\\nosupersub{}","@vertical-align/sub":"\\sub %%STRING%%\\nosupersub{}","@strip-periods/true":CSL.Output.Formatters.passthrough,"@strip-periods/false":CSL.Output.Formatters.passthrough,"@quotes/true":function(t,e){return"undefined"==typeof e?CSL.Output.Formats.rtf.text_escape(t.getTerm("open-quote")):CSL.Output.Formats.rtf.text_escape(t.getTerm("open-quote"))+e+CSL.Output.Formats.rtf.text_escape(t.getTerm("close-quote"))},"@quotes/inner":function(t,e){return"undefined"==typeof e?CSL.Output.Formats.rtf.text_escape(""):CSL.Output.Formats.rtf.text_escape(t.getTerm("open-inner-quote"))+e+CSL.Output.Formats.rtf.text_escape(t.getTerm("close-inner-quote"))},"@quotes/false":!1,bibstart:"{\\rtf ",bibend:"}","@display/block":"\\line{}%%STRING%%\\line\r\n","@cite/entry":function(t,e){return e},"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){return e},"@display/left-margin":function(t,e){return e+"\\tab "},"@display/right-inline":function(t,e){return e+"\r\n"},"@display/indent":function(t,e){return"\n\\tab "+e+"\\line\r\n"},"@showid/true":function(t,e,n){if(t.tmp.just_looking||t.tmp.suppress_decorations)return e;var i="";if(e){var r=e.match(CSL.VARIABLE_WRAPPER_PREPUNCT_REX);i=r[1],e=r[2]}var s="";return e&&CSL.SWAPPING_PUNCTUATION.indexOf(e.slice(-1))>-1&&(s=e.slice(-1),e=e.slice(0,-1)),t.sys.variableWrapper(this.params,i,e,s)},"@URL/true":function(t,e){return e},"@DOI/true":function(t,e){return e}},CSL.Output.Formats=new CSL.Output.Formats,CSL.Registry=function(t){var e,n,i;this.debug=!1,this.state=t,this.registry={},this.reflist=[],this.refhash={},this.namereg=new CSL.Registry.NameReg(t),this.citationreg=new CSL.Registry.CitationReg(t),this.authorstrings={},this.mylist=[],this.myhash={},this.deletes=[],this.inserts=[],this.uncited={},this.refreshes={},this.akeys={},this.oldseq={},this.return_data={},this.ambigcites={},this.ambigresets={},this.sorter=new CSL.Registry.Comparifier(t,"bibliography_sort"),this.getSortedIds=function(){for(e=[],n=0,i=this.reflist.length;i>n;n+=1)e.push(""+this.reflist[n].id);return e},this.getSortedRegistryItems=function(){for(e=[],n=0,i=this.reflist.length;i>n;n+=1)e.push(this.reflist[n]);return e}},CSL.Registry.prototype.init=function(t,e){var n,i;if(this.oldseq={},e){this.uncited={};for(var n=0,i=t.length;i>n;n+=1)this.myhash[t[n]]||this.mylist.push(""+t[n]),this.uncited[t[n]]=!0,this.myhash[t[n]]=!0}else{for(var r in this.uncited)t.push(r);var s={};for(n=t.length-1;n>-1;n+=-1)s[t[n]]?t=t.slice(0,n).concat(t.slice(n+1)):s[t[n]]=!0;this.mylist=[];for(var n=0,i=t.length;i>n;n+=1)this.mylist.push(""+t[n]);this.myhash=s}this.refreshes={},this.touched={},this.ambigsTouched={},this.ambigresets={}},CSL.Registry.prototype.dopurge=function(t){for(var e=this.mylist.length-1;e>-1;e+=-1)this.citationreg.citationsByItemId&&(this.citationreg.citationsByItemId[this.mylist[e]]||t[this.mylist[e]]||(delete this.myhash[this.mylist[e]],this.mylist=this.mylist.slice(0,e).concat(this.mylist.slice(e+1))));this.dodeletes(this.myhash)},CSL.Registry.prototype.dodeletes=function(t){var e,n,i,r,s,o,a,u,l;"string"==typeof t&&(t={},t[t]=!0);for(n in this.registry)if(!t[n]){if(this.uncited[n])continue;e=this.namereg.delitems(n);for(a in e)this.refreshes[a]=!0;for(i=this.registry[n].ambig,u=this.ambigcites[i].indexOf(n),u>-1&&(o=this.ambigcites[i].slice(),this.ambigcites[i]=o.slice(0,u).concat(o.slice(u+1,o.length)),this.ambigresets[i]=this.ambigcites[i].length),s=this.ambigcites[i].length,r=0;s>r;r+=1)l=""+this.ambigcites[i][r],this.refreshes[l]=!0;if(this.registry[n].siblings)if(1==this.registry[n].siblings.length){var c=this.registry[n].siblings[0];this.registry[c].master=!0,this.registry[c].siblings.pop(),this.registry[c].parallel=!1}else if(this.registry[n].siblings.length>1){var h=[n];if(this.registry[n].master){var f=this.registry[n].siblings[0],p=this.registry[f];p.master=!0,p.parallel=!1,h.push(f);for(var d=0,m=this.registry[n].siblings.length;m>d;d+=1)this.registry[this.registry[n].siblings[d]].parallel=f}for(var g=[],d=this.registry[n].siblings.length-1;d>-1;d+=-1){var v=this.registry[n].siblings.pop();-1===h.indexOf(v)&&g.push(v)}for(var d=g.length-1;d>-1;d+=-1)this.registry[n].siblings.push(g[d])}delete this.registry[n],delete this.refhash[n],this.return_data.bibchange=!0}},CSL.Registry.prototype.doinserts=function(t){var e,n,i,r,s,o,a;for("string"==typeof t&&(t=[t]),o=0,a=t.length;a>o;o+=1)e=t[o],this.registry[e]||(n=this.state.retrieveItem(e),i=CSL.getAmbiguousCite.call(this.state,n),this.ambigsTouched[i]=!0,n.legislation_id||(this.akeys[i]=!0),r={id:""+e,seq:0,offset:0,sortkeys:!1,ambig:!1,rendered:!1,disambig:!1,ref:n},this.registry[e]=r,this.citationreg.citationsByItemId&&this.citationreg.citationsByItemId[e]&&(this.registry[e]["first-reference-note-number"]=this.citationreg.citationsByItemId[e][0].properties.noteIndex),s=CSL.getAmbigConfig.call(this.state),this.registerAmbigToken(i,e,s),this.touched[e]=!0,this.return_data.bibchange=!0)},CSL.Registry.prototype.rebuildlist=function(){var t,e,n;for(this.reflist=[],this.state.opt.citation_number_sort_direction===CSL.DESCENDING&&this.state.opt.citation_number_sort_used,t=this.mylist.length,e=0;t>e;e+=1)n=this.mylist[e],this.reflist.push(this.registry[n]),this.oldseq[n]=this.registry[n].seq,this.registry[n].seq=e+1;this.state.opt.citation_number_sort_direction===CSL.DESCENDING&&this.state.opt.citation_number_sort_used},CSL.Registry.prototype.dorefreshes=function(){var t,e,n,i,r;for(t in this.refreshes)if(e=this.registry[t]){e.sortkeys=void 0,n=this.state.retrieveItem(t);var i=e.ambig;"undefined"==typeof i&&(this.state.tmp.disambig_settings=!1,i=CSL.getAmbiguousCite.call(this.state,n),r=CSL.getAmbigConfig.call(this.state),this.registerAmbigToken(i,t,r));for(var s in this.ambigresets)if(1===this.ambigresets[s]){var o=this.ambigcites[i][0],n=this.state.retrieveItem(o);this.registry[o].disambig=new CSL.AmbigConfig,this.state.tmp.disambig_settings=!1;var i=CSL.getAmbiguousCite.call(this.state,n),r=CSL.getAmbigConfig.call(this.state);this.registerAmbigToken(i,o,r)}this.state.tmp.taintedItemIDs[t]=!0,this.ambigsTouched[i]=!0,n.legislation_id||(this.akeys[i]=!0),this.touched[t]=!0}},CSL.Registry.prototype.setdisambigs=function(){var t;this.leftovers=[];for(t in this.ambigsTouched)this.state.disambiguate.run(t);this.ambigsTouched={},this.akeys={}},CSL.Registry.prototype.renumber=function(){var t,e,n;for(this.state.opt.citation_number_sort_direction===CSL.DESCENDING&&this.state.opt.citation_number_sort_used,t=this.reflist.length,e=0;t>e;e+=1)n=this.reflist[e],n.seq=e+1,this.state.opt.update_mode===CSL.NUMERIC&&n.seq!=this.oldseq[n.id]&&(this.state.tmp.taintedItemIDs[n.id]=!0),this.state.opt.bib_mode===CSL.NUMERIC&&n.seq!=this.oldseq[n.id]&&(this.return_data.bibchange=!0);this.state.opt.citation_number_sort_direction===CSL.DESCENDING&&this.state.opt.citation_number_sort_used&&this.reflist.reverse()},CSL.Registry.prototype.setsortkeys=function(){for(var t,e=0,n=this.mylist.length;n>e;e+=1){var t=this.mylist[e];(this.touched[t]||this.state.tmp.taintedItemIDs[t]||!this.registry[t].sortkeys)&&(this.registry[t].sortkeys=CSL.getSortKeys.call(this.state,this.state.retrieveItem(t),"bibliography_sort"))}},CSL.Registry.prototype.sorttokens=function(){this.reflist.sort(this.sorter.compareKeys)},CSL.Registry.Comparifier=function(t,e){var n,i,r,s,o=CSL.getSortCompare(t.opt["default-locale-sort"]);n=t[e].opt.sort_directions,this.compareKeys=function(t,e){for(i=t.sortkeys?t.sortkeys.length:0,r=0;i>r;r+=1){var s=0;if(s=t.sortkeys[r]===e.sortkeys[r]?0:"undefined"==typeof t.sortkeys[r]?n[r][1]:"undefined"==typeof e.sortkeys[r]?n[r][0]:o(t.sortkeys[r],e.sortkeys[r]),s>0)return n[r][1];if(0>s)return n[r][0]}return t.seq>e.seq?1:t.seq<e.seq?-1:0},s=this.compareKeys,this.compareCompositeKeys=function(t,e){return s(t[1],e[1])}},CSL.Registry.prototype.compareRegistryTokens=function(t,e){return t.seq>e.seq?1:t.seq<e.seq?-1:0},CSL.Registry.prototype.registerAmbigToken=function(t,e,n){if(this.registry[e]&&this.registry[e].disambig&&this.registry[e].disambig.names)for(var i=0,r=n.names.length;r>i;i+=1){var s=n.names[i],o=this.registry[e].disambig.names[i];if(s!==o)this.state.tmp.taintedItemIDs[e]=!0;else if(n.givens[i])for(var a=0,u=n.givens[i].length;u>a;a+=1){var l=n.givens[i][a],c=this.registry[e].disambig.givens[i][a];l!==c&&(this.state.tmp.taintedItemIDs[e]=!0)}}this.ambigcites[t]||(this.ambigcites[t]=[]),-1===this.ambigcites[t].indexOf(""+e)&&this.ambigcites[t].push(""+e),this.registry[e].ambig=t;this.registry[e].disambig=CSL.cloneAmbigConfig(n)},CSL.getSortKeys=function(t,e){var n,i,r,s,o,a;for(n=this.tmp.area,i=this.tmp.root,r=this.tmp.extension,s=CSL.Util.Sort.strip_prepositions,this.tmp.area=e,this.tmp.root=e.indexOf("_")>-1?e.slice(0,-5):e,this.tmp.extension="_sort",this.tmp.disambig_override=!0,this.tmp.disambig_request=!1,this.parallel.use_parallels=this.parallel.use_parallels===!0||null===this.parallel.use_parallels?null:!1,this.tmp.suppress_decorations=!0,CSL.getCite.call(this,t),this.tmp.suppress_decorations=!1,this.parallel.use_parallels=null===this.parallel.use_parallels?!0:!1,this.tmp.disambig_override=!1,o=this[e].keys.length,a=0;o>a;a+=1)this[e].keys[a]=s(this[e].keys[a]);return this.tmp.area=n,this.tmp.root=i,this.tmp.extension=r,this[e].keys},CSL.Registry.NameReg=function(t){var e,n,i,r,s,o,a,u,l,c,h,f,p,d,m,g;this.state=t,this.namereg={},this.nameind={},this.nameindpkeys={},this.itemkeyreg={},u=function(t){return t||(t=""),t.replace(/\./g," ").replace(/\s+/g," ").replace(/\s+$/,"")},l=function(t,r,s){e=u(s.family),i=u(s.given);var o=i.match(/[,\!]* ([^,]+)$/);o&&o[1]===o[1].toLowerCase()&&(i=i.replace(/[,\!]* [^,]+$/,"")),n=CSL.Util.Names.initializeWith(t,i,"%s"),"by-cite"===t.citation.opt["givenname-disambiguation-rule"]&&(e=""+r+e)},c=function(i,o,a,u,c,h){var f;if("bibliography"===t.tmp.area.slice(0,12)&&!c)return"string"==typeof h?1:2;var p=t.nameOutput.getName(o,"locale-translit",!0);o=p.name,l(this.state,""+i,o),f=2,r=t.opt["disambiguate-add-givenname"],s=t.citation.opt["givenname-disambiguation-rule"];var d=s;return"by-cite"===s&&(s="all-names"),"short"===c?f=0:"string"==typeof h&&(f=1),"undefined"==typeof this.namereg[e]||"undefined"==typeof this.namereg[e].ikey[n]?f:"by-cite"===d&&u>=f?u:r?"string"==typeof s&&"primary-name"===s.slice(0,12)&&a>0?f:(s&&"all-names"!==s&&"primary-name"!==s?("all-names-with-initials"===s||"primary-name-with-initials"===s)&&(f=this.namereg[e].count>1?1:0):(this.namereg[e].count>1&&(f=1),(this.namereg[e].ikey&&this.namereg[e].ikey[n].count>1||this.namereg[e].count>1&&"string"!=typeof h)&&(f=2)),t.registry.registry[i]?f:"short"==c?0:"string"==typeof h?1:void 0):f},h=function(r){var s,u,l,c,h;for(("string"==typeof r||"number"==typeof r)&&(r=[""+r]),o={},u=r.length,s=0;u>s;s+=1)if(c=""+r[s],this.nameind[c]){for(h in this.nameind[c])if(this.nameind[c].hasOwnProperty(h)){if(p=h.split("::"),e=p[0],n=p[1],i=p[2],"undefined"==typeof this.namereg[e])continue;if(a=this.namereg[e].items,i&&this.namereg[e].ikey[n]&&this.namereg[e].ikey[n].skey[i]&&(d=this.namereg[e].ikey[n].skey[i].items,l=d.indexOf(""+c),l>-1&&(this.namereg[e].ikey[n].skey[i].items=d.slice(0,l).concat(d.slice([l+1]))),0===this.namereg[e].ikey[n].skey[i].items.length&&(delete this.namereg[e].ikey[n].skey[i],this.namereg[e].ikey[n].count+=-1,this.namereg[e].ikey[n].count<2)))for(m=0,g=this.namereg[e].ikey[n].items.length;g>m;m+=1)t.tmp.taintedItemIDs[this.namereg[e].ikey[n].items[m]]=!0;if(n&&this.namereg[e].ikey[n]&&(l=this.namereg[e].ikey[n].items.indexOf(""+c),l>-1&&(a=this.namereg[e].ikey[n].items.slice(),this.namereg[e].ikey[n].items=a.slice(0,l).concat(a.slice([l+1]))),0===this.namereg[e].ikey[n].items.length&&(delete this.namereg[e].ikey[n],this.namereg[e].count+=-1,this.namereg[e].count<2)))for(m=0,g=this.namereg[e].items.length;g>m;m+=1)t.tmp.taintedItemIDs[this.namereg[e].items[m]]=!0;e&&(l=this.namereg[e].items.indexOf(""+c),l>-1&&(a=this.namereg[e].items.slice(),this.namereg[e].items=a.slice(0,l).concat(a.slice([l+1],a.length))),this.namereg[e].items.length<2&&delete this.namereg[e]),delete this.nameind[c][h]}delete this.nameind[c],delete this.nameindpkeys[c]}return o},f=function(r,s,o){var a,u,c=t.nameOutput.getName(s,"locale-translit",!0);if(s=c.name,!t.citation.opt["givenname-disambiguation-rule"]||"primary-"!==t.citation.opt["givenname-disambiguation-rule"].slice(0,8)||0===o){if(l(this.state,""+r,s),e&&("undefined"==typeof this.namereg[e]?(this.namereg[e]={},this.namereg[e].count=0,this.namereg[e].ikey={},this.namereg[e].items=[r]):-1===this.namereg[e].items.indexOf(r)&&this.namereg[e].items.push(r)),e&&n)if("undefined"==typeof this.namereg[e].ikey[n]){if(this.namereg[e].ikey[n]={},this.namereg[e].ikey[n].count=0,this.namereg[e].ikey[n].skey={},this.namereg[e].ikey[n].items=[r],this.namereg[e].count+=1,2===this.namereg[e].count)for(a=0,u=this.namereg[e].items.length;u>a;a+=1)t.tmp.taintedItemIDs[this.namereg[e].items[a]]=!0}else-1===this.namereg[e].ikey[n].items.indexOf(r)&&this.namereg[e].ikey[n].items.push(r);if(e&&n&&i)if("undefined"==typeof this.namereg[e].ikey[n].skey[i]){if(this.namereg[e].ikey[n].skey[i]={},this.namereg[e].ikey[n].skey[i].items=[r],this.namereg[e].ikey[n].count+=1,2===this.namereg[e].ikey[n].count)for(a=0,u=this.namereg[e].ikey[n].items.length;u>a;a+=1)t.tmp.taintedItemIDs[this.namereg[e].ikey[n].items[a]]=!0}else-1===this.namereg[e].ikey[n].skey[i].items.indexOf(r)&&this.namereg[e].ikey[n].skey[i].items.push(r);"undefined"==typeof this.nameind[r]&&(this.nameind[r]={},this.nameindpkeys[r]={}),e&&(this.nameind[r][e+"::"+n+"::"+i]=!0,this.nameindpkeys[r][e]=this.namereg[e])}},this.addname=f,this.delitems=h,this.evalname=c},CSL.Registry.CitationReg=function(t){this.citationById={},this.citationByIndex=[]},CSL.Disambiguation=function(t){this.state=t,this.sys=this.state.sys,this.registry=t.registry.registry,this.ambigcites=t.registry.ambigcites,this.configModes(),this.debug=!1},CSL.Disambiguation.prototype.run=function(t){this.modes.length&&(this.akey=t,this.initVars(t)&&this.runDisambig())},CSL.Disambiguation.prototype.runDisambig=function(){var t;for(this.initGivens=!0;this.lists.length;){for(this.gnameset=0,this.gname=0,this.clashes=[1,0];this.lists[0][1].length;){this.listpos=0,this.base||(this.base=this.lists[0][0]);t=this.incrementDisambig(),this.scanItems(this.lists[0]),this.evalScan(t)}this.lists=this.lists.slice(1)}},CSL.Disambiguation.prototype.scanItems=function(t){var e,n,i;this.Item=t[1][0],this.ItemCite=CSL.getAmbiguousCite.call(this.state,this.Item,this.base,!0),this.scanlist=t[1],this.partners=[],this.partners.push(this.Item),this.nonpartners=[];for(var r=0,e=1,n=t[1].length;n>e;e+=1){i=t[1][e];var s=CSL.getAmbiguousCite.call(this.state,i,this.base,!0);this.ItemCite===s?(r+=1,this.partners.push(i)):this.nonpartners.push(i)}this.clashes[0]=this.clashes[1],this.clashes[1]=r},CSL.Disambiguation.prototype.evalScan=function(t){this[this.modes[this.modeindex]](t),t&&(this.modeindex<this.modes.length-1?this.modeindex+=1:this.lists[this.listpos+1]=[this.base,[]])},CSL.Disambiguation.prototype.disNames=function(t){var e,n;if(0===this.clashes[1]&&1===this.nonpartners.length)this.captureStepToBase(),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,[]];else if(0===this.clashes[1])this.captureStepToBase(),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.nonpartners.length&&(this.initGivens=!0);else if(1===this.nonpartners.length)this.captureStepToBase(),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.partners];else if(this.clashes[1]<this.clashes[0])this.captureStepToBase(),this.lists[this.listpos]=[this.betterbase,this.partners],this.lists.push([this.betterbase,this.nonpartners]);else if(t&&(this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.lists.push([this.betterbase,this.partners]),this.modeindex===this.modes.length-1)){for(var e=0,n=this.partners.length;n>e;e+=1)this.state.registry.registerAmbigToken(this.akey,""+this.partners[e].id,this.betterbase);this.lists[this.listpos]=[this.betterbase,[]]}},CSL.Disambiguation.prototype.disExtraText=function(){var t=!1;if(0===this.clashes[1]&&this.nonpartners.length<2&&(t=!0),t||this.base.disambiguate&&this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax){if(t||this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax)if(t||this.modeindex===this.modes.length-1){for(var e=this.lists[this.listpos][0],n=0,i=this.lists[this.listpos][1].length;i>n;n+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][n].id]=!0,
this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][n].id,e);this.lists[this.listpos]=[this.betterbase,[]]}else{this.modeindex=this.modes.length-1;var e=this.lists[this.listpos][0];e.disambiguate=!0;for(var n=0,i=this.lists[this.listpos][1].length;i>n;n+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][n].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][n].id,e)}}else if(this.modeindex=0,this.base.disambiguate=this.state.tmp.disambiguate_count,this.betterbase.disambiguate=this.state.tmp.disambiguate_count,this.base.disambiguate)this.disNames();else{this.initGivens=!0,this.base.disambiguate=1;for(var n=0,i=this.lists[this.listpos][1].length;i>n;n+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][n].id]=!0}},CSL.Disambiguation.prototype.disYears=function(){var t,e,n,i;n=[];var r=this.lists[this.listpos][0];if(this.clashes[1])for(var s=0,o=this.state.registry.mylist.length;o>s;s+=1)for(var a=this.state.registry.mylist[s],u=0,l=this.lists[this.listpos][1].length;l>u;u+=1){var i=this.lists[this.listpos][1][u];if(i.id==a){n.push(this.registry[i.id]);break}}n.sort(this.state.registry.sorter.compareKeys);for(var t=0,e=n.length;e>t;t+=1){r.year_suffix=""+t;var c=this.state.registry.registry[n[t].id].disambig;this.state.registry.registerAmbigToken(this.akey,""+n[t].id,r),CSL.ambigConfigDiff(c,r)&&(this.state.tmp.taintedItemIDs[n[t].id]=!0)}this.lists[this.listpos]=[this.betterbase,[]]},CSL.Disambiguation.prototype.incrementDisambig=function(){if(this.initGivens)return this.initGivens=!1,!1;var t=!1,e=!0;if("disNames"===this.modes[this.modeindex]){e=!1,"number"!=typeof this.givensMax&&(e=!0);var n=!1;if("number"!=typeof this.namesMax&&(n=!0),"number"==typeof this.givensMax&&(this.base.givens.length&&this.base.givens[this.gnameset][this.gname]<this.givensMax?this.base.givens[this.gnameset][this.gname]+=1:e=!0),"number"==typeof this.namesMax&&e&&(this.state.opt["disambiguate-add-names"]?(n=!1,this.gname<this.namesMax?(this.base.names[this.gnameset]+=1,this.gname+=1):n=!0):n=!0),"number"==typeof this.namesetsMax&&n)if(this.gnameset<this.namesetsMax)this.gnameset+=1,this.base.names[this.gnameset]=1,this.gname=0;else;"number"==typeof this.namesetsMax&&-1!==this.namesetsMax&&this.gnameset!==this.namesetsMax||this.state.opt["disambiguate-add-names"]&&"number"==typeof this.namesMax&&this.gname!==this.namesMax||"number"==typeof this.givensMax&&"undefined"!=typeof this.base.givens[this.gnameset]&&"undefined"!=typeof this.base.givens[this.gnameset][this.gname]&&this.base.givens[this.gnameset][this.gname]!==this.givensMax||(t=!0)}else"disExtraText"===this.modes[this.modeindex]&&(this.base.disambiguate+=1,this.betterbase.disambiguate+=1);return t},CSL.Disambiguation.prototype.initVars=function(t){var e,n,i,r,s;if(this.lists=[],this.base=!1,this.betterbase=!1,this.akey=t,this.maxNamesByItemId={},r=[],i=this.ambigcites[t],!i||!i.length)return!1;var o=this.state.retrieveItem(""+i[0]);if(this.getCiteData(o),this.base=CSL.getAmbigConfig.call(this.state),i&&i.length>1){r.push([this.maxNamesByItemId[o.id],o]);for(var e=1,n=i.length;n>e;e+=1)o=this.state.retrieveItem(""+i[e]),this.getCiteData(o,this.base),r.push([this.maxNamesByItemId[o.id],o]);r.sort(function(t,e){return t[0]>e[0]?1:t[0]<e[0]?-1:t[1].id>e[1].id?1:t[1].id<e[1].id?-1:0}),s=[];for(var e=0,n=r.length;n>e;e+=1)s.push(r[e][1]);this.lists.push([this.base,s]),this.Item=this.lists[0][1][0]}else this.Item=this.state.retrieveItem(""+i[0]);if(this.modeindex=0,this.state.citation.opt["disambiguate-add-names"],0)for(var a=this.base.names[0],e=1,n=this.base.names.length;n>e;e+=1)a=Math.max(a,this.base.names.names[e]);else this.namesMax=this.maxNamesByItemId[this.Item.id][0];return this.padBase(this.base),this.padBase(this.betterbase),this.base.year_suffix=!1,this.base.disambiguate=!1,this.betterbase.year_suffix=!1,this.betterbase.disambiguate=!1,"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.state.opt["disambiguate-add-givenname"]&&(this.givensMax=2),!0},CSL.Disambiguation.prototype.padBase=function(t){for(var e=0,n=t.names.length;n>e;e+=1){t.givens[e]||(t.givens[e]=[]);for(var i=0,r=t.names[e];r>i;i+=1)t.givens[e][i]||(t.givens[e][i]=0)}},CSL.Disambiguation.prototype.configModes=function(){var t,e;this.modes=[],t=this.state.opt["disambiguate-add-givenname"],e=this.state.citation.opt["givenname-disambiguation-rule"],(this.state.opt["disambiguate-add-names"]||t&&"by-cite"===e)&&this.modes.push("disNames"),this.state.opt.has_disambiguate&&this.modes.push("disExtraText"),this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears")},CSL.Disambiguation.prototype.getCiteData=function(t,e){if(!this.maxNamesByItemId[t.id]){CSL.getAmbiguousCite.call(this.state,t,e),e=CSL.getAmbigConfig.call(this.state),this.maxNamesByItemId[t.id]=CSL.getMaxVals.call(this.state),this.state.registry.registry[t.id].disambig.givens=this.state.tmp.disambig_settings.givens.slice();for(var n=0,i=this.state.registry.registry[t.id].disambig.givens.length;i>n;n+=1)this.state.registry.registry[t.id].disambig.givens[n]=this.state.tmp.disambig_settings.givens[n].slice();this.namesetsMax=this.state.registry.registry[t.id].disambig.names.length-1,this.base||(this.base=e,this.betterbase=CSL.cloneAmbigConfig(e)),e.names.length<this.base.names.length&&(this.base=e);for(var n=0,i=e.names.length;i>n;n+=1)e.names[n]>this.base.names[n]&&(this.base.givens[n]=e.givens[n].slice(),this.base.names[n]=e.names[n],this.betterbase.names=this.base.names.slice(),this.betterbase.givens=this.base.givens.slice(),this.padBase(this.base),this.padBase(this.betterbase));this.betterbase.givens=this.base.givens.slice();for(var r=0,s=this.base.givens.length;s>r;r+=1)this.betterbase.givens[r]=this.base.givens[r].slice()}},CSL.Disambiguation.prototype.captureStepToBase=function(){"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.base.givens&&this.base.givens.length&&"undefined"!=typeof this.base.givens[this.gnameset][this.gname]&&(this.betterbase.givens[this.gnameset][this.gname]=this.base.givens[this.gnameset][this.gname]),this.betterbase.names[this.gnameset]=this.base.names[this.gnameset]},CSL.Engine.prototype.getJurisdictionList=function(t){for(var e=[],n=t.split(":"),i=n.length;i>0;i--)e.push(n.slice(0,i).join(":"));return-1===e.indexOf("us")&&e.push("us"),e},CSL.Engine.prototype.retrieveAllStyleModules=function(t){var e={},n=this.locale[this.opt.lang].opts["jurisdiction-preference"];n=n?n:[],n=[""].concat(n);for(var i=n.length-1;i>-1;i--)for(var r=n[i],s=0,o=t.length;o>s;s++){var a=t[s];if(!this.opt.jurisdictions_seen[a]){var u=this.sys.retrieveStyleModule(a,r);(!u&&!r||u)&&(this.opt.jurisdictions_seen[a]=!0),u&&(e[a]=u)}}return e},CSL.ParticleList=function(){var t=[[[0,1],null]],e=[[[0,3],null]],n=[[null,[0,1]]],i=[[null,[0,2]]],r=[[null,[0,3]]],s=[[null,[0,1]],[[0,1],null]],o=[[null,[0,2]],[[0,2],null]],a=[[[0,1],null],[null,[0,1]]],u=[[[0,2],null],[null,[0,2]]],l=[[[0,3],null],[null,[0,3]]],c=[[null,[0,2]],[[0,1],[1,2]]];return PARTICLES=[["'s",n],["'s-",n],["'t",n],["a",n],["aan 't",i],["aan de",i],["aan den",i],["aan der",i],["aan het",i],["aan t",i],["aan",n],["ad-",s],["adh-",s],["af",s],["al",s],["al-",s],["am de",i],["am",n],["an-",s],["ar-",s],["as-",s],["ash-",s],["at-",s],["ath-",s],["auf dem",u],["auf den",u],["auf der",u],["auf ter",i],["auf",a],["aus 'm",u],["aus dem",u],["aus den",u],["aus der",u],["aus m",u],["aus",a],["aus'm",u],["az-",s],["a-",s],["a-",s],["a-",s],["a-",s],["a-",s],["a-",s],["a-",s],["ben",n],["bij 't",i],["bij de",i],["bij den",i],["bij het",i],["bij t",i],["bij",n],["bin",n],["boven d",i],["boven d'",i],["d",n],["d'",s],["da",s],["dal",n],["dal'",n],["dall'",n],["dalla",n],["das",s],["de die le",r],["de die",i],["de l",i],["de l'",i],["de la",c],["de las",c],["de le",i],["de li",o],["de van der",r],["de",s],["de'",s],["deca",n],["degli",s],["dei",s],["del",s],["dela",t],["dell'",s],["della",s],["delle",s],["dello",s],["den",s],["der",s],["des",s],["di",s],["die le",i],["do",n],["don",n],["dos",s],["du",s],["ed-",s],["edh-",s],["el",s],["el-",s],["en-",s],["er-",s],["es-",s],["esh-",s],["et-",s],["eth-",s],["ez-",s],["e-",s],["e-",s],["e-",s],["e-",s],["e-",s],["e-",s],["e-",s],["het",n],["i",n],["il",t],["im",n],["in 't",i],["in de",i],["in den",i],["in der",o],["in het",i],["in t",i],["in",n],["l",n],["l'",n],["la",n],["las",n],["le",n],["les",s],["lo",s],["los",n],["lou",n],["of",n],["onder 't",i],["onder de",i],["onder den",i],["onder het",i],["onder t",i],["onder",n],["op 't",i],["op de",o],["op den",i],["op der",i],["op gen",i],["op het",i],["op t",i],["op ten",i],["op",n],["over 't",i],["over de",i],["over den",i],["over het",i],["over t",i],["over",n],["s",n],["s'",n],["sen",t],["t",n],["te",n],["ten",n],["ter",n],["tho",n],["thoe",n],["thor",n],["to",n],["toe",n],["tot",n],["uijt 't",i],["uijt de",i],["uijt den",i],["uijt te de",r],["uijt ten",i],["uijt",n],["uit 't",i],["uit de",i],["uit den",i],["uit het",i],["uit t",i],["uit te de",r],["uit ten",i],["uit",n],["unter",n],["v",n],["v.",n],["v.d.",n],["van 't",i],["van de l",r],["van de l'",r],["van de",i],["van de",i],["van den",i],["van der",i],["van gen",i],["van het",i],["van la",i],["van t",i],["van ter",i],["van van de",r],["van",s],["vander",n],["vd",n],["ver",n],["vom und zum",e],["vom",s],["von 't",i],["von dem",u],["von den",u],["von der",u],["von t",i],["von und zu",l],["von zu",u],["von",a],["voor 't",i],["voor de",i],["voor den",i],["voor in 't",r],["voor in t",r],["voor",n],["vor der",u],["vor",a],["z",t],["ze",t],["zu",a],["zum",s],["zur",s]]}(),CSL.parseParticles=function(){function t(t,e,n){var i=t;t=n?t.toLowerCase():t;var r,s=[];e?(r="",t=t.split("").reverse().join("")):r="-";for(var o=new RegExp("^([^ ]+["+r+" '] *)(.+)$"),a=t.match(o);a;){var u=e?a[1].split("").reverse().join(""):a[1],l=a?u:!1,l=l?u.replace(/^[-\'\u02bb\u2019\s]*(.).*$/,"$1"):!1,c=l?l.toUpperCase()!==l:!1;if(!c)break;e?(s.push(i.slice(-1*u.length)),i=i.slice(0,-1*u.length)):(s.push(i.slice(0,u.length)),i=i.slice(u.length)),t=a[2],a=t.match(o)}if(e){t=t.split("").reverse().join(""),s.reverse();for(var h=1,f=s.length;f>h;h++)" "==s[h].slice(0,1)&&(s[h-1]+=" ");for(var h=0,f=s.length;f>h;h++)" "==s[h].slice(0,1)&&(s[h]=s[h].slice(1));t=i.slice(0,t.length)}else t=i.slice(-1*t.length);return[c,t,s]}function e(t){var e=t.slice(-1);return t=t.trim()," "===e&&["'",""].indexOf(t.slice(-1))>-1&&(t+=" "),t}function n(t){if(!t.suffix&&t.given&&(m=t.given.match(/(\s*,!*\s*)/),m)){idx=t.given.indexOf(m[1]);var e=t.given.slice(idx+m[1].length),n=t.given.slice(idx,idx+m[1].length).replace(/\s*/g,"");"et al"!==e.replace(/\./g,"")||t["dropping-particle"]?(2===n.length&&(t["comma-suffix"]=!0),t.suffix=e):(t["dropping-particle"]=e,t["comma-dropping-particle"]=","),t.given=t.given.slice(0,idx)}}return function(i){var r=t(i.family),s=(r[0],r[1]),o=r[2];i.family=s;var a=e(o.join(""));a&&(i["non-dropping-particle"]=a),n(i);var r=t(i.given,!0),u=(r[0],r[1]),l=r[2];i.given=u;var c=l.join("").trim();c&&(i["dropping-particle"]=c)}}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return Wn.apply(null,arguments)}function e(t){Wn=t}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function r(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function o(t,e){for(var n in e)s(e,n)&&(t[n]=e[n]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function a(t,e,n,i){return At(t,e,n,i,!0).utc()}function u(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function l(t){return null==t._pf&&(t._pf=u()),t._pf}function c(t){if(null==t._isValid){var e=l(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function h(t){var e=a(NaN);return null!=t?o(l(e),t):l(e).userInvalidated=!0,e}function f(t){return void 0===t}function p(t,e){var n,i,r;if(f(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),f(e._i)||(t._i=e._i),f(e._f)||(t._f=e._f),f(e._l)||(t._l=e._l),f(e._strict)||(t._strict=e._strict),f(e._tzm)||(t._tzm=e._tzm),f(e._isUTC)||(t._isUTC=e._isUTC),f(e._offset)||(t._offset=e._offset),f(e._pf)||(t._pf=l(e)),f(e._locale)||(t._locale=e._locale),Yn.length>0)for(n in Yn)i=Yn[n],r=e[i],f(r)||(t[i]=r);return t}function d(e){p(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),Kn===!1&&(Kn=!0,t.updateOffset(this),Kn=!1)}function m(t){return t instanceof d||null!=t&&null!=t._isAMomentObject}function g(t){return 0>t?Math.ceil(t):Math.floor(t)}function v(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=g(e)),n}function b(t,e,n){var i,r=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),o=0;for(i=0;r>i;i++)(n&&t[i]!==e[i]||!n&&v(t[i])!==v(e[i]))&&o++;return o+s}function y(){}function _(t){return t?t.toLowerCase().replace("_","-"):t}function S(t){for(var e,n,i,r,s=0;s<t.length;){for(r=_(t[s]).split("-"),e=r.length,n=_(t[s+1]),n=n?n.split("-"):null;e>0;){if(i=x(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&b(r,n,!0)>=e-1)break;e--}s++}return null}function x(t){var e=null;if(!Qn[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Xn._abbr,require("./locale/"+t),C(e)}catch(n){}return Qn[t]}function C(t,e){var n;return t&&(n=f(e)?w(t):$(t,e),n&&(Xn=n)),Xn._abbr}function $(t,e){return null!==e?(e.abbr=t,Qn[t]=Qn[t]||new y,Qn[t].set(e),C(t),Qn[t]):(delete Qn[t],null)}function w(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Xn;if(!n(t)){if(e=x(t))return e;t=[t]}return S(t)}function L(t,e){var n=t.toLowerCase();Jn[n]=Jn[n+"s"]=Jn[e]=t}function T(t){return"string"==typeof t?Jn[t]||Jn[t.toLowerCase()]:void 0}function k(t){var e,n,i={};for(n in t)s(t,n)&&(e=T(n),e&&(i[e]=t[n]));return i}function A(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function E(e,n){return function(i){return null!=i?(I(this,e,i),t.updateOffset(this,n),this):O(this,e)}}function O(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function I(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function N(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=T(t),A(this[t]))return this[t](e);return this}function D(t,e,n){var i=""+Math.abs(t),r=e-i.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function R(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(ni[t]=r),e&&(ni[e[0]]=function(){return D(r.apply(this,arguments),e[1],e[2])}),n&&(ni[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function j(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function M(t){var e,n,i=t.match(Zn);for(e=0,n=i.length;n>e;e++)ni[i[e]]?i[e]=ni[i[e]]:i[e]=j(i[e]);return function(r){var s="";for(e=0;n>e;e++)s+=i[e]instanceof Function?i[e].call(r,t):i[e];return s}}function P(t,e){return t.isValid()?(e=U(e,t.localeData()),ei[e]=ei[e]||M(e),ei[e](t)):t.localeData().invalidDate()}function U(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(ti.lastIndex=0;i>=0&&ti.test(t);)t=t.replace(ti,n),ti.lastIndex=0,i-=1;return t}function F(t,e,n){_i[t]=A(e)?e:function(t,i){return t&&n?n:e}}function q(t,e){return s(_i,t)?_i[t](e._strict,e._locale):new RegExp(B(t))}function B(t){return V(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}))}function V(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function H(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,n){n[e]=v(t)}),n=0;n<t.length;n++)Si[t[n]]=i}function z(t,e){H(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function G(t,e,n){null!=e&&s(Si,t)&&Si[t](e,n._a,n,t)}function W(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function X(t,e){return n(this._months)?this._months[t.month()]:this._months[Oi.test(e)?"format":"standalone"][t.month()]}function Y(t,e){return n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Oi.test(e)?"format":"standalone"][t.month()]}function K(t,e,n){var i,r,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=a([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function Q(t,e){var n;return t.isValid()?"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),W(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t):t}function J(e){return null!=e?(Q(this,e),t.updateOffset(this,!0),this):O(this,"Month")}function Z(){return W(this.year(),this.month())}function tt(t){return this._monthsParseExact?(s(this,"_monthsRegex")||nt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex}function et(t){return this._monthsParseExact?(s(this,"_monthsRegex")||nt.call(this),t?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex}function nt(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],s=[];for(e=0;12>e;e++)n=a([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),s.push(this.months(n,"")),s.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),s.sort(t),e=0;12>e;e++)i[e]=V(i[e]),r[e]=V(r[e]),s[e]=V(s[e]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")$","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")$","i")}function it(t){var e,n=t._a;return n&&-2===l(t).overflow&&(e=n[Ci]<0||n[Ci]>11?Ci:n[$i]<1||n[$i]>W(n[xi],n[Ci])?$i:n[wi]<0||n[wi]>24||24===n[wi]&&(0!==n[Li]||0!==n[Ti]||0!==n[ki])?wi:n[Li]<0||n[Li]>59?Li:n[Ti]<0||n[Ti]>59?Ti:n[ki]<0||n[ki]>999?ki:-1,l(t)._overflowDayOfYear&&(xi>e||e>$i)&&(e=$i),l(t)._overflowWeeks&&-1===e&&(e=Ai),l(t)._overflowWeekday&&-1===e&&(e=Ei),l(t).overflow=e),t}function rt(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function st(t,e){var n=!0;return o(function(){return n&&(rt(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),n=!1),e.apply(this,arguments)},e)}function ot(t,e){ji[t]||(rt(e),ji[t]=!0)}function at(t){var e,n,i,r,s,o,a=t._i,u=Mi.exec(a)||Pi.exec(a);if(u){for(l(t).iso=!0,e=0,n=Fi.length;n>e;e++)if(Fi[e][1].exec(u[1])){r=Fi[e][0],i=Fi[e][2]!==!1;break}if(null==r)return void(t._isValid=!1);if(u[3]){for(e=0,n=qi.length;n>e;e++)if(qi[e][1].exec(u[3])){s=(u[2]||" ")+qi[e][0];break}if(null==s)return void(t._isValid=!1)}if(!i&&null!=s)return void(t._isValid=!1);if(u[4]){if(!Ui.exec(u[4]))return void(t._isValid=!1);o="Z"}t._f=r+(s||"")+(o||""),xt(t)}else t._isValid=!1}function ut(e){var n=Bi.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(at(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function lt(t,e,n,i,r,s,o){var a=new Date(t,e,n,i,r,s,o);return 100>t&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function ct(t){var e=new Date(Date.UTC.apply(null,arguments));return 100>t&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function ht(t){return ft(t)?366:365}function ft(t){return t%4===0&&t%100!==0||t%400===0}function pt(){return ft(this.year())}function dt(t,e,n){var i=7+e-n,r=(7+ct(t,0,i).getUTCDay()-e)%7;return-r+i-1}function mt(t,e,n,i,r){var s,o,a=(7+n-i)%7,u=dt(t,i,r),l=1+7*(e-1)+a+u;return 0>=l?(s=t-1,o=ht(s)+l):l>ht(t)?(s=t+1,o=l-ht(t)):(s=t,o=l),{year:s,dayOfYear:o}}function gt(t,e,n){var i,r,s=dt(t.year(),e,n),o=Math.floor((t.dayOfYear()-s-1)/7)+1;return 1>o?(r=t.year()-1,i=o+vt(r,e,n)):o>vt(t.year(),e,n)?(i=o-vt(t.year(),e,n),r=t.year()+1):(r=t.year(),i=o),{week:i,year:r}}function vt(t,e,n){var i=dt(t,e,n),r=dt(t+1,e,n);return(ht(t)-i+r)/7}function bt(t,e,n){return null!=t?t:null!=e?e:n}function yt(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function _t(t){var e,n,i,r,s=[];if(!t._d){for(i=yt(t),t._w&&null==t._a[$i]&&null==t._a[Ci]&&St(t),t._dayOfYear&&(r=bt(t._a[xi],i[xi]),t._dayOfYear>ht(r)&&(l(t)._overflowDayOfYear=!0),n=ct(r,0,t._dayOfYear),t._a[Ci]=n.getUTCMonth(),t._a[$i]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=s[e]=i[e];for(;7>e;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[wi]&&0===t._a[Li]&&0===t._a[Ti]&&0===t._a[ki]&&(t._nextDay=!0,t._a[wi]=0),t._d=(t._useUTC?ct:lt).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[wi]=24)}}function St(t){var e,n,i,r,s,o,a,u;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(s=1,o=4,n=bt(e.GG,t._a[xi],gt(Et(),1,4).year),i=bt(e.W,1),r=bt(e.E,1),(1>r||r>7)&&(u=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,n=bt(e.gg,t._a[xi],gt(Et(),s,o).year),i=bt(e.w,1),null!=e.d?(r=e.d,(0>r||r>6)&&(u=!0)):null!=e.e?(r=e.e+s,(e.e<0||e.e>6)&&(u=!0)):r=s),1>i||i>vt(n,s,o)?l(t)._overflowWeeks=!0:null!=u?l(t)._overflowWeekday=!0:(a=mt(n,i,r,s,o),t._a[xi]=a.year,t._dayOfYear=a.dayOfYear)}function xt(e){if(e._f===t.ISO_8601)return void at(e);e._a=[],l(e).empty=!0;var n,i,r,s,o,a=""+e._i,u=a.length,c=0;for(r=U(e._f,e._locale).match(Zn)||[],n=0;n<r.length;n++)s=r[n],i=(a.match(q(s,e))||[])[0],i&&(o=a.substr(0,a.indexOf(i)),o.length>0&&l(e).unusedInput.push(o),a=a.slice(a.indexOf(i)+i.length),c+=i.length),ni[s]?(i?l(e).empty=!1:l(e).unusedTokens.push(s),G(s,i,e)):e._strict&&!i&&l(e).unusedTokens.push(s);l(e).charsLeftOver=u-c,a.length>0&&l(e).unusedInput.push(a),l(e).bigHour===!0&&e._a[wi]<=12&&e._a[wi]>0&&(l(e).bigHour=void 0),e._a[wi]=Ct(e._locale,e._a[wi],e._meridiem),_t(e),it(e)}function Ct(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&12>e&&(e+=12),i||12!==e||(e=0),e):e}function $t(t){var e,n,i,r,s;if(0===t._f.length)return l(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)s=0,e=p({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],xt(e),c(e)&&(s+=l(e).charsLeftOver,s+=10*l(e).unusedTokens.length,l(e).score=s,(null==i||i>s)&&(i=s,n=e));o(t,n||e)}function wt(t){if(!t._d){var e=k(t._i);t._a=r([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),_t(t)}}function Lt(t){var e=new d(it(Tt(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Tt(t){var e=t._i,r=t._f;return t._locale=t._locale||w(t._l),null===e||void 0===r&&""===e?h({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),m(e)?new d(it(e)):(n(r)?$t(t):r?xt(t):i(e)?t._d=e:kt(t),c(t)||(t._d=null),t))}function kt(e){var s=e._i;void 0===s?e._d=new Date(t.now()):i(s)?e._d=new Date(+s):"string"==typeof s?ut(e):n(s)?(e._a=r(s.slice(0),function(t){return parseInt(t,10)}),_t(e)):"object"==typeof s?wt(e):"number"==typeof s?e._d=new Date(s):t.createFromInputFallback(e)}function At(t,e,n,i,r){var s={};return"boolean"==typeof n&&(i=n,n=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=n,s._i=t,s._f=e,s._strict=i,Lt(s)}function Et(t,e,n,i){return At(t,e,n,i,!1)}function Ot(t,e){var i,r;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return Et();for(i=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](i))&&(i=e[r]);return i}function It(){var t=[].slice.call(arguments,0);return Ot("isBefore",t)}function Nt(){var t=[].slice.call(arguments,0);return Ot("isAfter",t)}function Dt(t){var e=k(t),n=e.year||0,i=e.quarter||0,r=e.month||0,s=e.week||0,o=e.day||0,a=e.hour||0,u=e.minute||0,l=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*l+6e4*u+36e5*a,this._days=+o+7*s,this._months=+r+3*i+12*n,this._data={},this._locale=w(),this._bubble()}function Rt(t){return t instanceof Dt}function jt(t,e){R(t,0,0,function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+D(~~(t/60),2)+e+D(~~t%60,2)})}function Mt(t,e){var n=(e||"").match(t)||[],i=n[n.length-1]||[],r=(i+"").match(Wi)||["-",0,0],s=+(60*r[1])+v(r[2]);return"+"===r[0]?s:-s}function Pt(e,n){var r,s;return n._isUTC?(r=n.clone(),s=(m(e)||i(e)?+e:+Et(e))-+r,r._d.setTime(+r._d+s),t.updateOffset(r,!1),r):Et(e).local()}function Ut(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ft(e,n){var i,r=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=Mt(vi,e):Math.abs(e)<16&&(e=60*e),!this._isUTC&&n&&(i=Ut(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!n||this._changeInProgress?ne(this,Qt(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Ut(this):null!=e?this:NaN}function qt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Bt(t){return this.utcOffset(0,t)}function Vt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ut(this),"m")),this}function Ht(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Mt(gi,this._i)),this}function zt(t){return this.isValid()?(t=t?Et(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Gt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Wt(){if(!f(this._isDSTShifted))return this._isDSTShifted;var t={};if(p(t,this),t=Tt(t),t._a){var e=t._isUTC?a(t._a):Et(t._a);this._isDSTShifted=this.isValid()&&b(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Xt(){return this.isValid()?!this._isUTC:!1}function Yt(){return this.isValid()?this._isUTC:!1}function Kt(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Qt(t,e){var n,i,r,o=t,a=null;return Rt(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(a=Xi.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:v(a[$i])*n,h:v(a[wi])*n,m:v(a[Li])*n,s:v(a[Ti])*n,ms:v(a[ki])*n}):(a=Yi.exec(t))?(n="-"===a[1]?-1:1,o={y:Jt(a[2],n),M:Jt(a[3],n),d:Jt(a[4],n),h:Jt(a[5],n),m:Jt(a[6],n),s:Jt(a[7],n),w:Jt(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=te(Et(o.from),Et(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new Dt(o),Rt(t)&&s(t,"_locale")&&(i._locale=t._locale),i}function Jt(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Zt(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function te(t,e){var n;return t.isValid()&&e.isValid()?(e=Pt(e,t),t.isBefore(e)?n=Zt(t,e):(n=Zt(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function ee(t,e){return function(n,i){var r,s;return null===i||isNaN(+i)||(ot(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),s=n,n=i,i=s),n="string"==typeof n?+n:n,r=Qt(n,i),ne(this,r,t),this}}function ne(e,n,i,r){var s=n._milliseconds,o=n._days,a=n._months;e.isValid()&&(r=null==r?!0:r,s&&e._d.setTime(+e._d+s*i),o&&I(e,"Date",O(e,"Date")+o*i),a&&Q(e,O(e,"Month")+a*i),r&&t.updateOffset(e,o||a))}function ie(t,e){var n=t||Et(),i=Pt(n,this).startOf("day"),r=this.diff(i,"days",!0),s=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse",o=e&&(A(e[s])?e[s]():e[s]);return this.format(o||this.localeData().calendar(s,this,Et(n)))}function re(){return new d(this)}function se(t,e){var n=m(t)?t:Et(t);return this.isValid()&&n.isValid()?(e=T(f(e)?"millisecond":e),"millisecond"===e?+this>+n:+n<+this.clone().startOf(e)):!1}function oe(t,e){var n=m(t)?t:Et(t);return this.isValid()&&n.isValid()?(e=T(f(e)?"millisecond":e),"millisecond"===e?+n>+this:+this.clone().endOf(e)<+n):!1}function ae(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)}function ue(t,e){var n,i=m(t)?t:Et(t);return this.isValid()&&i.isValid()?(e=T(e||"millisecond"),"millisecond"===e?+this===+i:(n=+i,+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))):!1}function le(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function ce(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function he(t,e,n){var i,r,s,o;return this.isValid()?(i=Pt(t,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),e=T(e),"year"===e||"month"===e||"quarter"===e?(o=fe(this,i),"quarter"===e?o/=3:"year"===e&&(o/=12)):(s=this-i,o="second"===e?s/1e3:"minute"===e?s/6e4:"hour"===e?s/36e5:"day"===e?(s-r)/864e5:"week"===e?(s-r)/6048e5:s),n?o:g(o)):NaN):NaN}function fe(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(r,"months");return 0>e-s?(n=t.clone().add(r-1,"months"),i=(e-s)/(s-n)):(n=t.clone().add(r+1,"months"),i=(e-s)/(n-s)),-(r+i)}function pe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function de(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?A(Date.prototype.toISOString)?this.toDate().toISOString():P(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):P(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function me(e){var n=P(this,e||t.defaultFormat);return this.localeData().postformat(n)}function ge(t,e){return this.isValid()&&(m(t)&&t.isValid()||Et(t).isValid())?Qt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ve(t){return this.from(Et(),t)}function be(t,e){return this.isValid()&&(m(t)&&t.isValid()||Et(t).isValid())?Qt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ye(t){return this.to(Et(),t)}function _e(t){var e;return void 0===t?this._locale._abbr:(e=w(t),null!=e&&(this._locale=e),this)}function Se(){return this._locale}function xe(t){switch(t=T(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function Ce(t){return t=T(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function $e(){return+this._d-6e4*(this._offset||0)}function we(){return Math.floor(+this/1e3)}function Le(){return this._offset?new Date(+this):this._d}function Te(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function ke(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Ae(){return this.isValid()?this.toISOString():"null"}function Ee(){return c(this)}function Oe(){return o({},l(this))}function Ie(){return l(this).overflow}function Ne(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function De(t,e){R(0,[t,t.length],0,e)}function Re(t){return Ue.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function je(t){
return Ue.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Me(){return vt(this.year(),1,4)}function Pe(){var t=this.localeData()._week;return vt(this.year(),t.dow,t.doy)}function Ue(t,e,n,i,r){var s;return null==t?gt(this,i,r).year:(s=vt(t,i,r),e>s&&(e=s),Fe.call(this,t,e,n,i,r))}function Fe(t,e,n,i,r){var s=mt(t,e,n,i,r),o=ct(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function qe(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Be(t){return gt(t,this._week.dow,this._week.doy).week}function Ve(){return this._week.dow}function He(){return this._week.doy}function ze(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Ge(t){var e=gt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function We(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Xe(t,e){return n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}function Ye(t){return this._weekdaysShort[t.day()]}function Ke(t){return this._weekdaysMin[t.day()]}function Qe(t,e,n){var i,r,s;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(r=Et([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Je(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=We(t,this.localeData()),this.add(t-e,"d")):e}function Ze(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function tn(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:NaN}function en(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function nn(){return this.hours()%12||12}function rn(t,e){R(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function sn(t,e){return e._meridiemParse}function on(t){return"p"===(t+"").toLowerCase().charAt(0)}function an(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function un(t,e){e[ki]=v(1e3*("0."+t))}function ln(){return this._isUTC?"UTC":""}function cn(){return this._isUTC?"Coordinated Universal Time":""}function hn(t){return Et(1e3*t)}function fn(){return Et.apply(null,arguments).parseZone()}function pn(t,e,n){var i=this._calendar[t];return A(i)?i.call(e,n):i}function dn(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function mn(){return this._invalidDate}function gn(t){return this._ordinal.replace("%d",t)}function vn(t){return t}function bn(t,e,n,i){var r=this._relativeTime[n];return A(r)?r(t,e,n,i):r.replace(/%d/i,t)}function yn(t,e){var n=this._relativeTime[t>0?"future":"past"];return A(n)?n(e):n.replace(/%s/i,e)}function _n(t){var e,n;for(n in t)e=t[n],A(e)?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function Sn(t,e,n,i){var r=w(),s=a().set(i,e);return r[n](s,t)}function xn(t,e,n,i,r){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return Sn(t,e,n,r);var s,o=[];for(s=0;i>s;s++)o[s]=Sn(t,s,n,r);return o}function Cn(t,e){return xn(t,e,"months",12,"month")}function $n(t,e){return xn(t,e,"monthsShort",12,"month")}function wn(t,e){return xn(t,e,"weekdays",7,"day")}function Ln(t,e){return xn(t,e,"weekdaysShort",7,"day")}function Tn(t,e){return xn(t,e,"weekdaysMin",7,"day")}function kn(){var t=this._data;return this._milliseconds=yr(this._milliseconds),this._days=yr(this._days),this._months=yr(this._months),t.milliseconds=yr(t.milliseconds),t.seconds=yr(t.seconds),t.minutes=yr(t.minutes),t.hours=yr(t.hours),t.months=yr(t.months),t.years=yr(t.years),this}function An(t,e,n,i){var r=Qt(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function En(t,e){return An(this,t,e,1)}function On(t,e){return An(this,t,e,-1)}function In(t){return 0>t?Math.floor(t):Math.ceil(t)}function Nn(){var t,e,n,i,r,s=this._milliseconds,o=this._days,a=this._months,u=this._data;return s>=0&&o>=0&&a>=0||0>=s&&0>=o&&0>=a||(s+=864e5*In(Rn(a)+o),o=0,a=0),u.milliseconds=s%1e3,t=g(s/1e3),u.seconds=t%60,e=g(t/60),u.minutes=e%60,n=g(e/60),u.hours=n%24,o+=g(n/24),r=g(Dn(o)),a+=r,o-=In(Rn(r)),i=g(a/12),a%=12,u.days=o,u.months=a,u.years=i,this}function Dn(t){return 4800*t/146097}function Rn(t){return 146097*t/4800}function jn(t){var e,n,i=this._milliseconds;if(t=T(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+Dn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(Rn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function Mn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function Pn(t){return function(){return this.as(t)}}function Un(t){return t=T(t),this[t+"s"]()}function Fn(t){return function(){return this._data[t]}}function qn(){return g(this.days()/7)}function Bn(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function Vn(t,e,n){var i=Qt(t).abs(),r=Rr(i.as("s")),s=Rr(i.as("m")),o=Rr(i.as("h")),a=Rr(i.as("d")),u=Rr(i.as("M")),l=Rr(i.as("y")),c=r<jr.s&&["s",r]||1>=s&&["m"]||s<jr.m&&["mm",s]||1>=o&&["h"]||o<jr.h&&["hh",o]||1>=a&&["d"]||a<jr.d&&["dd",a]||1>=u&&["M"]||u<jr.M&&["MM",u]||1>=l&&["y"]||["yy",l];return c[2]=e,c[3]=+t>0,c[4]=n,Bn.apply(null,c)}function Hn(t,e){return void 0===jr[t]?!1:void 0===e?jr[t]:(jr[t]=e,!0)}function zn(t){var e=this.localeData(),n=Vn(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function Gn(){var t,e,n,i=Mr(this._milliseconds)/1e3,r=Mr(this._days),s=Mr(this._months);t=g(i/60),e=g(t/60),i%=60,t%=60,n=g(s/12),s%=12;var o=n,a=s,u=r,l=e,c=t,h=i,f=this.asSeconds();return f?(0>f?"-":"")+"P"+(o?o+"Y":"")+(a?a+"M":"")+(u?u+"D":"")+(l||c||h?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(h?h+"S":""):"P0D"}var Wn,Xn,Yn=t.momentProperties=[],Kn=!1,Qn={},Jn={},Zn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ti=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ei={},ni={},ii=/\d/,ri=/\d\d/,si=/\d{3}/,oi=/\d{4}/,ai=/[+-]?\d{6}/,ui=/\d\d?/,li=/\d\d\d\d?/,ci=/\d\d\d\d\d\d?/,hi=/\d{1,3}/,fi=/\d{1,4}/,pi=/[+-]?\d{1,6}/,di=/\d+/,mi=/[+-]?\d+/,gi=/Z|[+-]\d\d:?\d\d/gi,vi=/Z|[+-]\d\d(?::?\d\d)?/gi,bi=/[+-]?\d+(\.\d{1,3})?/,yi=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,_i={},Si={},xi=0,Ci=1,$i=2,wi=3,Li=4,Ti=5,ki=6,Ai=7,Ei=8;R("M",["MM",2],"Mo",function(){return this.month()+1}),R("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),R("MMMM",0,0,function(t){return this.localeData().months(this,t)}),L("month","M"),F("M",ui),F("MM",ui,ri),F("MMM",function(t,e){return e.monthsShortRegex(t)}),F("MMMM",function(t,e){return e.monthsRegex(t)}),H(["M","MM"],function(t,e){e[Ci]=v(t)-1}),H(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[Ci]=r:l(n).invalidMonth=t});var Oi=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Ii="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ni="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Di=yi,Ri=yi,ji={};t.suppressDeprecationWarnings=!1;var Mi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Pi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ui=/Z|[+-]\d\d(?::?\d\d)?/,Fi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],qi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Bi=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=st("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),R("Y",0,0,function(){var t=this.year();return 9999>=t?""+t:"+"+t}),R(0,["YY",2],0,function(){return this.year()%100}),R(0,["YYYY",4],0,"year"),R(0,["YYYYY",5],0,"year"),R(0,["YYYYYY",6,!0],0,"year"),L("year","y"),F("Y",mi),F("YY",ui,ri),F("YYYY",fi,oi),F("YYYYY",pi,ai),F("YYYYYY",pi,ai),H(["YYYYY","YYYYYY"],xi),H("YYYY",function(e,n){n[xi]=2===e.length?t.parseTwoDigitYear(e):v(e)}),H("YY",function(e,n){n[xi]=t.parseTwoDigitYear(e)}),H("Y",function(t,e){e[xi]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return v(t)+(v(t)>68?1900:2e3)};var Vi=E("FullYear",!1);t.ISO_8601=function(){};var Hi=st("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Et.apply(null,arguments);return this.isValid()&&t.isValid()?this>t?this:t:h()}),zi=st("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Et.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:h()}),Gi=function(){return Date.now?Date.now():+new Date};jt("Z",":"),jt("ZZ",""),F("Z",vi),F("ZZ",vi),H(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Mt(vi,t)});var Wi=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Xi=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,Yi=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Qt.fn=Dt.prototype;var Ki=ee(1,"add"),Qi=ee(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Ji=st("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});R(0,["gg",2],0,function(){return this.weekYear()%100}),R(0,["GG",2],0,function(){return this.isoWeekYear()%100}),De("gggg","weekYear"),De("ggggg","weekYear"),De("GGGG","isoWeekYear"),De("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),F("G",mi),F("g",mi),F("GG",ui,ri),F("gg",ui,ri),F("GGGG",fi,oi),F("gggg",fi,oi),F("GGGGG",pi,ai),F("ggggg",pi,ai),z(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=v(t)}),z(["gg","GG"],function(e,n,i,r){n[r]=t.parseTwoDigitYear(e)}),R("Q",0,"Qo","quarter"),L("quarter","Q"),F("Q",ii),H("Q",function(t,e){e[Ci]=3*(v(t)-1)}),R("w",["ww",2],"wo","week"),R("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),F("w",ui),F("ww",ui,ri),F("W",ui),F("WW",ui,ri),z(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=v(t)});var Zi={dow:0,doy:6};R("D",["DD",2],"Do","date"),L("date","D"),F("D",ui),F("DD",ui,ri),F("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),H(["D","DD"],$i),H("Do",function(t,e){e[$i]=v(t.match(ui)[0],10)});var tr=E("Date",!0);R("d",0,"do","day"),R("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),R("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),R("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),R("e",0,0,"weekday"),R("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),F("d",ui),F("e",ui),F("E",ui),F("dd",yi),F("ddd",yi),F("dddd",yi),z(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:l(n).invalidWeekday=t}),z(["d","e","E"],function(t,e,n,i){e[i]=v(t)});var er="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),nr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ir="Su_Mo_Tu_We_Th_Fr_Sa".split("_");R("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),F("DDD",hi),F("DDDD",si),H(["DDD","DDDD"],function(t,e,n){n._dayOfYear=v(t)}),R("H",["HH",2],0,"hour"),R("h",["hh",2],0,nn),R("hmm",0,0,function(){return""+nn.apply(this)+D(this.minutes(),2)}),R("hmmss",0,0,function(){return""+nn.apply(this)+D(this.minutes(),2)+D(this.seconds(),2)}),R("Hmm",0,0,function(){return""+this.hours()+D(this.minutes(),2)}),R("Hmmss",0,0,function(){return""+this.hours()+D(this.minutes(),2)+D(this.seconds(),2)}),rn("a",!0),rn("A",!1),L("hour","h"),F("a",sn),F("A",sn),F("H",ui),F("h",ui),F("HH",ui,ri),F("hh",ui,ri),F("hmm",li),F("hmmss",ci),F("Hmm",li),F("Hmmss",ci),H(["H","HH"],wi),H(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),H(["h","hh"],function(t,e,n){e[wi]=v(t),l(n).bigHour=!0}),H("hmm",function(t,e,n){var i=t.length-2;e[wi]=v(t.substr(0,i)),e[Li]=v(t.substr(i)),l(n).bigHour=!0}),H("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[wi]=v(t.substr(0,i)),e[Li]=v(t.substr(i,2)),e[Ti]=v(t.substr(r)),l(n).bigHour=!0}),H("Hmm",function(t,e,n){var i=t.length-2;e[wi]=v(t.substr(0,i)),e[Li]=v(t.substr(i))}),H("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[wi]=v(t.substr(0,i)),e[Li]=v(t.substr(i,2)),e[Ti]=v(t.substr(r))});var rr=/[ap]\.?m?\.?/i,sr=E("Hours",!0);R("m",["mm",2],0,"minute"),L("minute","m"),F("m",ui),F("mm",ui,ri),H(["m","mm"],Li);var or=E("Minutes",!1);R("s",["ss",2],0,"second"),L("second","s"),F("s",ui),F("ss",ui,ri),H(["s","ss"],Ti);var ar=E("Seconds",!1);R("S",0,0,function(){return~~(this.millisecond()/100)}),R(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),R(0,["SSS",3],0,"millisecond"),R(0,["SSSS",4],0,function(){return 10*this.millisecond()}),R(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),R(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),R(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),R(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),R(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),L("millisecond","ms"),F("S",hi,ii),F("SS",hi,ri),F("SSS",hi,si);var ur;for(ur="SSSS";ur.length<=9;ur+="S")F(ur,di);for(ur="S";ur.length<=9;ur+="S")H(ur,un);var lr=E("Milliseconds",!1);R("z",0,0,"zoneAbbr"),R("zz",0,0,"zoneName");var cr=d.prototype;cr.add=Ki,cr.calendar=ie,cr.clone=re,cr.diff=he,cr.endOf=Ce,cr.format=me,cr.from=ge,cr.fromNow=ve,cr.to=be,cr.toNow=ye,cr.get=N,cr.invalidAt=Ie,cr.isAfter=se,cr.isBefore=oe,cr.isBetween=ae,cr.isSame=ue,cr.isSameOrAfter=le,cr.isSameOrBefore=ce,cr.isValid=Ee,cr.lang=Ji,cr.locale=_e,cr.localeData=Se,cr.max=zi,cr.min=Hi,cr.parsingFlags=Oe,cr.set=N,cr.startOf=xe,cr.subtract=Qi,cr.toArray=Te,cr.toObject=ke,cr.toDate=Le,cr.toISOString=de,cr.toJSON=Ae,cr.toString=pe,cr.unix=we,cr.valueOf=$e,cr.creationData=Ne,cr.year=Vi,cr.isLeapYear=pt,cr.weekYear=Re,cr.isoWeekYear=je,cr.quarter=cr.quarters=qe,cr.month=J,cr.daysInMonth=Z,cr.week=cr.weeks=ze,cr.isoWeek=cr.isoWeeks=Ge,cr.weeksInYear=Pe,cr.isoWeeksInYear=Me,cr.date=tr,cr.day=cr.days=Je,cr.weekday=Ze,cr.isoWeekday=tn,cr.dayOfYear=en,cr.hour=cr.hours=sr,cr.minute=cr.minutes=or,cr.second=cr.seconds=ar,cr.millisecond=cr.milliseconds=lr,cr.utcOffset=Ft,cr.utc=Bt,cr.local=Vt,cr.parseZone=Ht,cr.hasAlignedHourOffset=zt,cr.isDST=Gt,cr.isDSTShifted=Wt,cr.isLocal=Xt,cr.isUtcOffset=Yt,cr.isUtc=Kt,cr.isUTC=Kt,cr.zoneAbbr=ln,cr.zoneName=cn,cr.dates=st("dates accessor is deprecated. Use date instead.",tr),cr.months=st("months accessor is deprecated. Use month instead",J),cr.years=st("years accessor is deprecated. Use year instead",Vi),cr.zone=st("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",qt);var hr=cr,fr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},pr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},dr="Invalid date",mr="%d",gr=/\d{1,2}/,vr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},br=y.prototype;br._calendar=fr,br.calendar=pn,br._longDateFormat=pr,br.longDateFormat=dn,br._invalidDate=dr,br.invalidDate=mn,br._ordinal=mr,br.ordinal=gn,br._ordinalParse=gr,br.preparse=vn,br.postformat=vn,br._relativeTime=vr,br.relativeTime=bn,br.pastFuture=yn,br.set=_n,br.months=X,br._months=Ii,br.monthsShort=Y,br._monthsShort=Ni,br.monthsParse=K,br._monthsRegex=Ri,br.monthsRegex=et,br._monthsShortRegex=Di,br.monthsShortRegex=tt,br.week=Be,br._week=Zi,br.firstDayOfYear=He,br.firstDayOfWeek=Ve,br.weekdays=Xe,br._weekdays=er,br.weekdaysMin=Ke,br._weekdaysMin=ir,br.weekdaysShort=Ye,br._weekdaysShort=nr,br.weekdaysParse=Qe,br.isPM=on,br._meridiemParse=rr,br.meridiem=an,C("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===v(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=st("moment.lang is deprecated. Use moment.locale instead.",C),t.langData=st("moment.langData is deprecated. Use moment.localeData instead.",w);var yr=Math.abs,_r=Pn("ms"),Sr=Pn("s"),xr=Pn("m"),Cr=Pn("h"),$r=Pn("d"),wr=Pn("w"),Lr=Pn("M"),Tr=Pn("y"),kr=Fn("milliseconds"),Ar=Fn("seconds"),Er=Fn("minutes"),Or=Fn("hours"),Ir=Fn("days"),Nr=Fn("months"),Dr=Fn("years"),Rr=Math.round,jr={s:45,m:45,h:22,d:26,M:11},Mr=Math.abs,Pr=Dt.prototype;Pr.abs=kn,Pr.add=En,Pr.subtract=On,Pr.as=jn,Pr.asMilliseconds=_r,Pr.asSeconds=Sr,Pr.asMinutes=xr,Pr.asHours=Cr,Pr.asDays=$r,Pr.asWeeks=wr,Pr.asMonths=Lr,Pr.asYears=Tr,Pr.valueOf=Mn,Pr._bubble=Nn,Pr.get=Un,Pr.milliseconds=kr,Pr.seconds=Ar,Pr.minutes=Er,Pr.hours=Or,Pr.days=Ir,Pr.weeks=qn,Pr.months=Nr,Pr.years=Dr,Pr.humanize=zn,Pr.toISOString=Gn,Pr.toString=Gn,Pr.toJSON=Gn,Pr.locale=_e,Pr.localeData=Se,Pr.toIsoString=st("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Gn),Pr.lang=Ji,R("X",0,0,"unix"),R("x",0,0,"valueOf"),F("x",mi),F("X",bi),H("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),H("x",function(t,e,n){n._d=new Date(v(t))}),t.version="2.11.2",e(Et),t.fn=hr,t.min=It,t.max=Nt,t.now=Gi,t.utc=a,t.unix=hn,t.months=Cn,t.isDate=i,t.locale=C,t.invalid=h,t.duration=Qt,t.isMoment=m,t.weekdays=wn,t.parseZone=fn,t.localeData=w,t.isDuration=Rt,t.monthsShort=$n,t.weekdaysMin=Tn,t.defineLocale=$,t.weekdaysShort=Ln,t.normalizeUnits=T,t.relativeTimeThreshold=Hn,t.prototype=hr;var Ur=t;return Ur}),function(t){"use strict";t.module("uuid4",[]).factory("uuid4",function(){var t=function(t){return Math.pow(2,t)},e=(t(4),t(6)),n=t(8),i=t(12),r=(t(14),t(16)),s=t(32),o=(t(40),t(48),function(t,e){return Math.floor(Math.random()*(e-t+1))+t}),a=function(){return o(0,e-1)},u=function(){return o(0,n-1)},l=function(){return o(0,i-1)},c=function(){return o(0,r-1)},h=function(){return o(0,s-1)},f=function(){return(0|Math.random()*(1<<30))+(0|Math.random()*(1<<18))*(1<<30)},p=function(t,e,n){t=String(t),n=n?n:"0";for(var i=e-t.length;i>0;i>>>=1,n+=n)1&i&&(t=n+t);return t},d=function(t,e,n,i,r,s){var o=p(t.toString(16),8)+"-"+p(e.toString(16),4)+"-"+p(n.toString(16),4)+"-"+p(i.toString(16),2)+p(r.toString(16),2)+"-"+p(s.toString(16),12);return o};return{generate:function(){return d(h(),c(),16384|l(),128|a(),u(),f())},validate:function(t){var e=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return e.test(t)}}})}(angular);
//# sourceMappingURL=../maps/scripts/vendor-a0e2182fbd.js.map
