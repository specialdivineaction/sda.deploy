!function(){"use strict";angular.module("sdaAdminWeb",["ngAnimate","ngCookies","ngSanitize","ngMessages","ngAria","ngResource","ui.router","toastr","ngMaterial","slideToggle","trcWorks","trcTasks"])}(),function(){"use strict";function t(){function t(t,o,e){function n(){t.work.editions.forEach(function(t){r.editions.push({model:t,focused:!1})})}function i(){var n=o.createEdition();n.titles=e.cloneDeep(t.work.titles),n.authors=e.cloneDeep(t.work.authors),n.otherAuthors=e.cloneDeep(t.work.otherAuthors),t.work.editions.push(n),r.editions.push({model:n,focused:!0})}function l(o){r.editions.splice(o,1),t.work.editions.splice(o,1)}var r=this;r.editions=[],r.createEdition=i,r.deleteEdition=l,n()}t.$inject=["$scope","worksRepo","_"];var o={restrict:"E",templateUrl:"app/bulk/components/work-editor/work-editor.html",scope:{work:"=ngModel"},controller:t,controllerAs:"vm"};return o}angular.module("sdaAdminWeb").directive("workEditor",t)}(),function(){"use strict";function t(t){function o(o){o.id||t.error('missing required attribute "id"')}function e(t,o){function e(){t.id&&(n.work=o.get(t.id),n.work.$promise.then(function(){n.loaded=!0}))}var n=this;n.loaded=!1,e()}e.$inject=["$scope","worksRepo"];var n={restrict:"E",templateUrl:"app/bulk/components/work-editor/work-editor-item.html",link:o,scope:{id:"=id"},controller:e,controllerAs:"vm"};return n}t.$inject=["$log"],angular.module("sdaAdminWeb").directive("workEditorItem",t)}(),function(){"use strict";function t(){var t={restrict:"E",templateUrl:"app/bulk/components/volume-editor/volume-editor.html",scope:{volume:"=ngModel"}};return t}angular.module("sdaAdminWeb").directive("volumeEditor",t)}(),function(){"use strict";function t(){var t={restrict:"E",templateUrl:"app/bulk/components/title-editor/title-editor.html",scope:{title:"=ngModel"}};return t}angular.module("sdaAdminWeb").directive("titleEditor",t)}(),function(){"use strict";function t(){var t={restrict:"E",templateUrl:"app/bulk/components/summary-editor/summary-editor.html",scope:{summary:"=ngModel"}};return t}angular.module("sdaAdminWeb").directive("summaryEditor",t)}(),function(){"use strict";function t(){var t={restrict:"E",templateUrl:"app/bulk/components/publication-info-editor/publication-info-editor.html",scope:{pubInfo:"=ngModel"}};return t}angular.module("sdaAdminWeb").directive("publicationInfoEditor",t)}(),function(){"use strict";function t(){function t(t,o,e){function n(){t.edition.volumes.forEach(function(t){r.volumes.push({model:t,focused:!1})})}function i(){var n=o.createVolume();n.titles=e.cloneDeep(t.edition.titles),n.authors=e.cloneDeep(t.edition.authors),n.otherAuthors=e.cloneDeep(t.edition.otherAuthors),n.publicationInfo=e.cloneDeep(t.edition.publicationInfo),t.edition.volumes.push(n),r.volumes.push({model:n,focused:!0})}function l(o){r.volumes.splice(o,1),t.edition.volumes.splice(o,1)}var r=this;r.volumes=[],r.createVolume=i,r.deleteVolume=l,n()}t.$inject=["$scope","worksRepo","_"];var o={restrict:"E",templateUrl:"app/bulk/components/edition-editor/edition-editor.html",scope:{edition:"=ngModel"},controller:t,controllerAs:"vm"};return o}angular.module("sdaAdminWeb").directive("editionEditor",t)}(),function(){"use strict";function t(){var t={restrict:"E",templateUrl:"app/bulk/components/date-editor/date-editor.html",scope:{date:"=ngModel"}};return t}angular.module("sdaAdminWeb").directive("dateEditor",t)}(),function(){"use strict";function t(){function t(t){function n(){i(o()),i(e())}function i(t){r.refHandlers[t.id]=t}function l(o,e){r.refHandlers[o]&&(t.copy.properties=r.refHandlers[o](e)),t.copyForm.url.$setValidity(o,null!=t.copy.properties)}var r=this;r.refHandlers={},r.setProperties=l,n()}t.$inject=["$scope"];var n={restrict:"E",templateUrl:"app/bulk/components/copy-editor/copy-editor.html",scope:{copy:"=ngModel"},controller:t,controllerAs:"vm"};return n}function o(){function t(t){var o=n(t);if(!o)return null;var e,l;switch(o.hostname){case"babel.hathitrust.org":e=o.query.id,l=o.query.seq;break;case"hdl.handle.net":if(e=o.path.substr(o.path.lastIndexOf("/")+1),!o.query.urlappend)break;var r=i(o.query.urlappend);if(!r)break;l=r.seq}return e?{htid:e,seq:l}:null}return t.id="hathitrust",t.display="HathiTrust",t}function e(){function t(t){var o=n(t);if(!o)return null;switch(o.hostname){case"books.google.com":var e=o.query.id,i=o.query.printsec,l=o.query.pg}return e?{id:e,section:i,page:l}:null}return t.id="googlebooks",t.display="Google Books",t}function n(t){if(!t)return null;var o=document.createElement("a");return o.href=t,{toString:function(){return t},protocol:o.protocol,host:o.host,hostname:o.hostname,port:o.port,path:o.pathname,query:i(o.search),fragment:o.hash}}function i(t,o){if(!t||!angular.isString(t))return{};if("?"===t[0]&&(t=t.substr(1)),!o){var e=(t.indexOf(";")>=0?1:0)+(t.indexOf("&")>=0?2:0);o=1===e?";":"&"}var n={},i=t.split(o);return i.forEach(function(t){var o=t.indexOf("="),e=t,i=null;if(e){o>=0&&(e=t.substr(0,o),i=t.substr(o+1));try{e=decodeURIComponent(e),i=decodeURIComponent(i)}catch(l){return}n.hasOwnProperty(e)?angular.isArray(n[e])?n[e].push(i):n[e]=[n[e],i]:n[e]=i}}),n}angular.module("sdaAdminWeb").directive("copyEditor",t)}(),function(){"use strict";function t(){var t={restrict:"E",templateUrl:"app/bulk/components/author-ref-editor/author-ref-editor.html",scope:{ref:"=ngModel"}};return t}angular.module("sdaAdminWeb").directive("authorRefEditor",t)}(),function(){"use strict";function t(t,o,e,n,i){function l(){c.work=e.get(o.workId),c.work.$promise.then(function(){c.bcTitle=e.getTitle(c.work.titles,["short","canonical","bibliographic"]),c.title=e.getTitle(c.work.titles,["bibliographic","canonical","short"]),c.loading=!1})}function r(t){var o={};a(o,t).then(function(){c.work.copies.push(o)})}function a(t,o){var e={targetEvent:o,templateUrl:"app/work/copy-edit-dialog.html",locals:{copy:angular.copy(t)},controller:"CopyEditDialogController",controllerAs:"vm"},i=n.show(e);return i.then(function(o){angular.extend(t,o),s()}),i}function d(t,o){var e=n.confirm().targetEvent(o).title("Confirm Deletion").textContent("Are you sure you want to delete this copy?").ok("Yes").cancel("No");n.show(e).then(function(){var o=c.work.copies.indexOf(t);c.work.copies.splice(o,1),s()})}function s(){var t=e.save(c.work);t.then(function(){var t=i.simple().textContent("Saved").position("bottom right");i.show(t)})}var c=this;c.loading=!0,c.work=null,c.title=null,c.addCopy=r,c.editCopy=a,c.deleteCopy=d,l()}t.$inject=["$state","$stateParams","worksRepo","$mdDialog","$mdToast"],angular.module("sdaAdminWeb").controller("ShowWorkController",t)}(),function(){"use strict";function t(t,o,e){function n(){e.save(l.work)}function i(){var o=e["delete"](l.work.id);o.then(function(){t.go("work-new")})}var l=this;l.loading=!0,l.work=e.get(o.id),l.work.$promise.then(function(){l.loading=!1}),l.save=n,l["delete"]=i}t.$inject=["$state","$stateParams","worksRepo"],angular.module("sdaAdminWeb").controller("EditWorkController",t)}(),function(){"use strict";function t(t,o,e,n,i,l){function r(){m.work=e.get(o.workId),m.work.$promise.then(function(){if(m.workTitle=e.getTitle(m.work.titles,["short","canonical","bibliographic"]),m.edition=n.find(m.work.editions,{id:o.editionId}),!m.edition)throw new Error("unable to find edition "+o.editionId);if(m.volume=n.find(m.edition.volumes,{id:o.volumeId}),!m.volume)throw new Error("unable to find volume "+o.volumeId);m.title=e.getTitle(m.volume.titles,["bibliographic","canonical","short"]),m.loading=!1})}function a(t){var o={};d(o,t).then(function(){m.volume.copies.push(o)})}function d(t,o){var e={targetEvent:o,templateUrl:"app/work/copy-edit-dialog.html",locals:{copy:angular.copy(t)},controller:"CopyEditDialogController",controllerAs:"vm"},n=i.show(e);return n.then(function(o){angular.extend(t,o),c()}),n}function s(t,o){var e=i.confirm().targetEvent(o).title("Confirm Deletion").textContent("Are you sure you want to delete this copy?").ok("Yes").cancel("No");i.show(e).then(function(){var o=m.volume.copies.indexOf(t);m.volume.copies.splice(o,1),c()})}function c(){var t=e.save(m.work);t.then(function(){var t=l.simple().textContent("Saved").position("bottom right");l.show(t)})}var m=this;m.loading=!0,m.work=null,m.workTitle=null,m.edition=null,m.volume=null,m.title=null,m.addCopy=a,m.editCopy=d,m.deleteCopy=s,r()}t.$inject=["$state","$stateParams","worksRepo","_","$mdDialog","$mdToast"],angular.module("sdaAdminWeb").controller("ShowVolumeController",t)}(),function(){"use strict";function t(t,o,e,n,i,l){function r(){m.work=e.get(o.workId),m.work.$promise.then(function(){if(m.workTitle=e.getTitle(m.work.titles,["short","canonical","bibliographic"]),m.edition=n.find(m.work.editions,{id:o.editionId}),!m.edition)throw new Error("unable to find edition "+o.editionId);m.title=e.getTitle(m.edition.titles,["bibliographic","canonical","short"]),m.loading=!1})}function a(t){var o={};d(o,t).then(function(){m.edition.copies.push(o)})}function d(t,o){var e={targetEvent:o,templateUrl:"app/work/copy-edit-dialog.html",locals:{copy:angular.copy(t)},controller:"CopyEditDialogController",controllerAs:"vm"},n=i.show(e);return n.then(function(o){angular.extend(t,o),c()}),n}function s(t,o){var e=i.confirm().targetEvent(o).title("Confirm Deletion").textContent("Are you sure you want to delete this copy?").ok("Yes").cancel("No");i.show(e).then(function(){var o=m.edition.copies.indexOf(t);m.edition.copies.splice(o,1),c()})}function c(){var t=e.save(m.work);t.then(function(){var t=l.simple().textContent("Saved").position("bottom right");l.show(t)})}var m=this;m.loading=!0,m.work=null,m.workTitle=null,m.edition=null,m.title=null,m.addCopy=a,m.editCopy=d,m.deleteCopy=s,r()}t.$inject=["$state","$stateParams","worksRepo","_","$mdDialog","$mdToast"],angular.module("sdaAdminWeb").controller("ShowEditionController",t)}(),function(){"use strict";function t(t,o,e){function n(){o.hide(l.copy)}function i(){o.cancel()}var l=this;l.copy=e,l.close=n,l.cancel=i}t.$inject=["$scope","$mdDialog","copy"],angular.module("sdaAdminWeb").controller("CopyEditDialogController",t)}(),function(){"use strict";angular.module("trcWorks",["ngResource"])}(),function(){"use strict";function t(){function t(t,e){function n(){return i("")}function i(t){return g.get({q:t,max:50})}function l(t){if(angular.isUndefined(t))throw new TypeError("No ID provided to find work by ID");var o=g.get({id:t});return o.$promise.then(u),o}function r(){var t=new g;return u(t)}function a(){var t={};return p(t)}function d(){var t={};return h(t)}function s(t){if(!(t instanceof g))throw new Error("work was not created by this repo");var o=t.id?g.update({id:t.id},t):g.save(null,t);return o.$promise.then(function(t){return t.id})}function c(t){var o=g["delete"]({id:t});return o.$promise}function m(t){return t.titles?t.titles.forEach(function(t){t.type=t.type.toLowerCase()}):t.titles=[],t.authors?t.authors.forEach(function(t){t.role=t.role.toLowerCase()}):t.authors=[],t.otherAuthors?t.otherAuthors.forEach(function(t){t.role=t.role.toLowerCase()}):t.otherAuthors=[],t.copies||(t.copies=[]),t}function u(t){return m(t),t.editions?t.editions.forEach(p):t.editions=[],t}function p(t){return m(t),t.volumes?t.volumes.forEach(h):t.volumes=[],t}function h(t){return m(t),t}function v(t,o){return angular.isArray(o)||(o=[o]),o.reduce(function(o,n){return o||e.find(t,{type:n})},null)}var g=t(o.url+"/:id",{id:"@id"},{update:{method:"PUT"}}),f={};return f.getAll=n,f.search=i,f.get=l,f.create=r,f.createEdition=a,f.createVolume=d,f.save=s,f["delete"]=c,f.getTitle=v,f}t.$inject=["$resource","_"];var o={};return o.url="/api/works",o.$get=t,o}angular.module("trcWorks").provider("worksRepo",t)}(),function(){"use strict";angular.module("trcTasks",["ngResource"])}(),function(){"use strict";function t(){function t(t){function e(t){t=t||"copies";var o=l.get({taskId:t}),e={$promise:o.$promise.then(function(){return e}),workflow:o,getItems:function(o,e){return n(t,o,e)}};return e}function n(t,o,e){return e=e||{},r.get({taskId:t,stage:o,start:e.start,max:e.max})}function i(t,o){if(t.stage!==o.sourceStage)throw new Error("Transition ("+o.sourceStage+" -> "+o.targetStage+") is not valid for item currently in stage "+t.stage);var e=r.save({itemId:t.itemId},{stage:o.targetStage,comments:null});return e.$promise.then(function(o){angular.extend(t,o)}),e}var l=t(o.url+"/:taskId/workflow",{taskId:"copies"}),r=t(o.url+"/:taskId/items/:itemId",{taskId:"copies",itemId:"@itemId"}),a={};return a.get=e,a.getItems=n,a.transition=i,a}var o={};return o.url="/api/tasks",o.$get=t,o}angular.module("trcTasks").provider("tasksRepo",t)}(),function(){"use strict";angular.module("slideToggle",[])}(),function(){"use strict";function t(){function t(t,o,e){var n=parseInt(e.slideToggleDuration)||200;t.$watch("active",function(t){t?o.stop().slideDown(n):o.stop().slideUp(n)})}var o={restrict:"A",scope:{active:"=slideToggle"},link:t};return o}angular.module("slideToggle").directive("slideToggle",t)}(),function(){"use strict";function t(t,o,e,n){function i(){o.q&&(a.searchQuery=o.q,r(a.searchQuery))}function l(){e("left").toggle()}function r(o){a.loading=!0,a.results=t.search(o),a.results.$promise.then(function(){a.loading=!1})}var a=this;a.loading=!1,a.searchQuery="",a.openMenu=l,a.search=n.debounce(r,300),i()}t.$inject=["worksRepo","$stateParams","$mdSidenav","_"],angular.module("sdaAdminWeb").controller("MainController",t)}(),function(){"use strict";function t(t){function o(){t.save(e.work)}var e=this;e.work=t.create(),e.save=o}t.$inject=["worksRepo"],angular.module("sdaAdminWeb").controller("NewWorkController",t)}(),function(){"use strict";function t(t,o,e,n){function i(){c.task=e.get(),c.task.$promise.then(function(t){angular.forEach(t.workflow.stages,function(o){s(t,o.id)}),c.loaded=!0})}function l(){t("left").toggle()}function r(t){t.focused?t.focused=!1:(angular.forEach(c.worklists,function(t){t.items.forEach(function(t){t.focused=!1})}),t.focused=!0)}function a(t){c.loaded=!1;var e=o.search(t);e.$promise.then(function(t){c.worklists[0].items=t,c.loaded=!0})}function d(t,o){t.focused=!1;var i=e.transition(t,o);i.$promise.then(function(){var e=c.worklists[o.sourceStage];n.remove(e.items,function(o){return o.itemId===t.itemId}),0===e.items.length&&(c.worklists[o.sourceStage]=null),c.worklists[o.targetStage]?c.worklists[o.targetStage].items.unshift(i):s(c.task,o.targetStage)})}function s(t,o){var e=t.getItems(o);e.$promise.then(function(t){t.items.length>0&&(c.worklists[o]=t)})}var c=this;c.loaded=!1,c.worklists={},c.task=null,c.openMenu=l,c.focusItem=r,c.search=n.debounce(a,200),c.transition=d,i()}t.$inject=["$mdSidenav","worksRepo","tasksRepo","_"],angular.module("sdaAdminWeb").controller("BulkEditorController",t)}(),function(){"use strict";function t(t){t.debug("runBlock end")}t.$inject=["$log"],angular.module("sdaAdminWeb").run(t)}(),function(){"use strict";function t(t,o){t.state("root",{url:"/?q",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"vm"}).state("root.work",{url:"works/:workId",views:{main:{templateUrl:"app/work/work.html",controller:"ShowWorkController",controllerAs:"vm"}}}).state("root.edition",{url:"works/:workId/editions/:editionId",views:{main:{templateUrl:"app/work/edition.html",controller:"ShowEditionController",controllerAs:"vm"}}}).state("root.volume",{url:"works/:workId/editions/:editionId/volumes/:volumeId",views:{main:{templateUrl:"app/work/volume.html",controller:"ShowVolumeController",controllerAs:"vm"}}}),o.otherwise("/")}t.$inject=["$stateProvider","$urlRouterProvider"],angular.module("sdaAdminWeb").config(t)}(),function(){"use strict";angular.module("sdaAdminWeb").constant("_",_).constant("moment",moment)}(),function(){"use strict";function t(t,o,e,n,i){t.debugEnabled(!0),o.allowHtml=!0,o.timeOut=3e3,o.positionClass="toast-top-right",o.preventDuplicates=!0,o.progressBar=!0,e.definePalette("darkBrown",{50:"#595c59",100:"#4c4f4c",200:"#404240",300:"#333533",400:"#272827",500:"#1a1b1a",600:"#0d0e0d",700:"#010101",800:"#000000",900:"#000000",A100:"#e0f0e0",A200:"#565956",A400:"#7e837e",A700:"#000000",contrastDefaultColor:"light",contrastDarkColors:["A100"]}),e.definePalette("copper",{50:"#d4b190",100:"#cca47e",200:"#c5976b",300:"#be8a59",400:"#b67e47",500:"#a47140",600:"#926439",700:"#7f5832",800:"#6d4b2b",900:"#5b3e23",A100:"#dcc3ab",A200:"#a47140",A400:"#48321c",A700:"#272927",contrastDefaultColor:"light",contrastDarkColors:["50","100","200","A100"]}),e.theme("default").primaryPalette("darkBrown").accentPalette("copper"),n.url="/api/catalog/v1/tasks",i.url="/api/catalog/works"}t.$inject=["$logProvider","toastrConfig","$mdThemingProvider","tasksRepoProvider","worksRepoProvider"],angular.module("sdaAdminWeb").config(t)}(),angular.module("sdaAdminWeb").run(["$templateCache",function(t){t.put("app/bulk/bulk.html",'<md-content flex="" layout="column"><md-toolbar><div class="md-toolbar-tools"><md-button class="md-accent md-icon-button" ng-click="vm.openMenu()" title="toggle menu" hide-gt-sm=""><md-icon>menu</md-icon></md-button><img class="logo" src="assets/images/sda-logo-light.png"><h2><span>Works Copy Editor</span></h2><span flex=""></span> <img class="ox-brand" src="assets/images/ox-brand-rect.png" alt="University of Oxford" hide-xs=""></div></md-toolbar><md-content flex="" layout="row"><md-sidenav md-component-id="left" md-is-locked-open="$mdMedia(\'gt-sm\')">Left Sidebar</md-sidenav><md-content flex="" layout="column"><md-content flex="" layout="column"><md-input-container><label>Search</label><md-icon>search</md-icon><input type="search" ng-model="searchQuery" ng-change="vm.search(searchQuery)"></md-input-container><md-content flex=""><div layout="row" layout-align="center center" ng-if="!vm.loaded"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div><md-list ng-if="vm.loaded"><div ng-repeat="stage in vm.task.workflow.stages" ng-if="vm.worklists[stage.id]"><md-subheader>{{stage.label}}</md-subheader><div class="item" layout="column" ng-repeat="item in vm.worklists[stage.id].items" ng-class="{done: item.done, focused: item.focused}" ng-mouseover="item.hover = true" ng-mouseout="item.hover = false"><div class="item-heading"><md-button class="md-no-style" ng-click="vm.focusItem(item)" ng-bind-html="item.label"></md-button><div class="actions" layout="row" layout-align="end center"><md-button ng-repeat="transition in stage.transitions" class="md-secondary" ng-click="vm.transition(item, transition, $parent.$index)" ng-show="item.hover || item.focused"><span>{{transition.label}}</span></md-button></div></div><md-content slide-toggle="item.focused"><work-editor-item id="item.entityId" ng-if="item.focused"></work-editor-item></md-content></div></div></md-list></md-content></md-content></md-content></md-content></md-content>'),t.put("app/bulk/work-new.html",'<div layout="column" flex=""><work-editor ng-model="vm.work"></work-editor><div layout="row" layout-align="end"><md-button class="md-raised md-primary" ng-click="vm.save()">Save</md-button></div></div>'),t.put("app/main/main.html",'<md-content flex="" layout="column"><md-toolbar><div class="md-toolbar-tools"><md-button class="md-accent md-icon-button" ng-click="vm.openMenu()" title="toggle menu" hide-gt-sm=""><md-icon>menu</md-icon></md-button><img class="logo" src="assets/images/sda-logo-light.png"><h2><span>Works Copy Editor</span></h2><span flex=""></span> <img class="ox-brand" src="assets/images/ox-brand-rect.png" alt="University of Oxford" hide-xs=""></div></md-toolbar><md-content flex="" layout="row"><md-sidenav md-component-id="left" md-is-locked-open="$mdMedia(\'gt-sm\')" ui-view="sidebar" layout="column"><form layout="row"><md-input-container flex=""><label for="searchQuery">Search</label><md-icon>search</md-icon><input type="search" name="searchQuery" id="searchQuery" ng-model="vm.searchQuery" ng-change="vm.search(vm.searchQuery)" required=""></md-input-container></form><md-content><div ng-if="vm.loading" layout="row" layout-align="center"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div><md-list ng-if="!vm.loading &amp;&amp; vm.results &amp;&amp; vm.results.items.length > 0"><md-list-item ng-repeat="work in vm.results.items" ui-sref="root.work({workId: work.id})"><div class="md-list-item-text"><span>{{work.label}}</span></div></md-list-item></md-list></md-content></md-sidenav><md-content flex="" layout="column" ui-view="main"></md-content></md-content></md-content>'),t.put("app/work/copy-edit-dialog.html",'<md-dialog flex="50"><md-toolbar><div class="md-toolbar-tools"><h3>Digital Copy Editor</h3><span flex=""></span><md-button class="md-icon-button" ng-click="vm.cancel()"><md-icon>close</md-icon></md-button></div></md-toolbar><form ng-submit="vm.close()"><md-dialog-content><div class="md-dialog-content"><copy-editor ng-model="vm.copy"></copy-editor></div></md-dialog-content><md-dialog-actions><md-button ng-click="vm.cancel()">Cancel</md-button><md-button class="md-primary" type="submit">Done</md-button></md-dialog-actions></form></md-dialog>'),t.put("app/work/edition.html",'<nav layout="row" layout-padding=""><ol class="breadcrumbs" flex=""><li><a ui-sref="root.work({workId: vm.work.id})">{{vm.workTitle.title}}{{vm.workTitle.title && vm.workTitle.subtitle ? \': \' : \'\'}}{{vm.workTitle.subTitle}}</a></li><li>{{vm.edition.editionName}}</li></ol></nav><div layout="row" layout-padding=""><div layout="column" flex="60"><section class="content citation"><div layout="row"><h2 class="content-heading">Bibliographic Information</h2></div><p><span class="authors" ng-if="vm.edition.authors && vm.edition.authors.length > 0"><span class="author" ng-repeat="author in vm.edition.authors">{{author.lastName}}{{author.lastName && author.firstName ? \', \' : \'\'}}{{author.firstName}}.</span></span> <span class="title" ng-if="vm.title">{{vm.title.title}}{{vm.title.title && vm.title.subtitle ? \': \' : \'\'}}{{vm.title.subtitle}}.</span></p></section><section class="content summary"><div layout="row"><h2 class="content-heading">Summary</h2></div><p ng-if="vm.edition.summary" ng-bind-html="vm.edition.summary"></p></section><section class="content volumes"><div layout="row"><h2 class="content-heading">Volumes</h2></div><md-list><md-list-item ng-repeat="volume in vm.edition.volumes" ui-sref="root.volume({workId: vm.work.id, editionId: vm.edition.id, volumeId: volume.id})"><span>Volume {{volume.volumeNumber}}</span></md-list-item></md-list></section></div><div layout="column" flex="40"><section class="content references"><div layout="row"><h2 class="content-heading">References</h2></div><p>Coming soon</p></section><section class="content copies"><div layout="row"><h2 class="content-heading">Digital Copies</h2><span flex=""></span><md-button class="md-icon-button" ng-click="vm.addCopy($event)"><md-icon>add</md-icon></md-button></div><md-list><md-list-item ng-repeat="copy in vm.edition.copies" ng-click="vm.editCopy(copy, $event)"><span>{{copy.title}}</span><md-button class="md-secondary md-icon-button md-warn" ng-click="vm.deleteCopy(copy, $event)"><md-icon>delete</md-icon></md-button></md-list-item></md-list></section></div></div>'),t.put("app/work/volume.html",'<nav layout="row" layout-padding=""><ol class="breadcrumbs" flex=""><li><a ui-sref="root.work({workId: vm.work.id})">{{vm.workTitle.title}}{{vm.workTitle.title && vm.workTitle.subtitle ? \': \' : \'\'}}{{vm.workTitle.subTitle}}</a></li><li><a ui-sref="root.edition({workId: vm.work.id, editionId: vm.edition.id})">{{vm.edition.editionName}}</a></li><li>Volume {{vm.volume.volumeNumber}}</li></ol></nav><div layout="row" layout-padding=""><div layout="column" flex="60"><section class="content citation"><div layout="row"><h2 class="content-heading">Bibliographic Information</h2></div><p><span class="authors" ng-if="vm.volume.authors && vm.volume.authors.length > 0"><span class="author" ng-repeat="author in vm.volume.authors">{{author.lastName}}{{author.lastName && author.firstName ? \', \' : \'\'}}{{author.firstName}}.</span></span> <span class="title" ng-if="vm.title">{{vm.title.title}}{{vm.title.title && vm.title.subtitle ? \': \' : \'\'}}{{vm.title.subtitle}}.</span></p></section><section class="content summary"><div layout="row"><h2 class="content-heading">Summary</h2></div><p ng-if="vm.volume.summary" ng-bind-html="vm.volume.summary"></p></section></div><div layout="column" flex="40"><section class="content references"><div layout="row"><h2 class="content-heading">References</h2></div><p>Coming soon</p></section><section class="content copies"><div layout="row"><h2 class="content-heading">Digital Copies</h2><span flex=""></span><md-button class="md-icon-button" ng-click="vm.addCopy($event)"><md-icon>add</md-icon></md-button></div><md-list><md-list-item ng-repeat="copy in vm.volume.copies" ng-click="vm.editCopy(copy, $event)"><span>{{copy.title}}</span><md-button class="md-secondary md-icon-button md-warn" ng-click="vm.deleteCopy(copy, $event)"><md-icon>delete</md-icon></md-button></md-list-item></md-list></section></div></div>'),t.put("app/work/work-edit.html",'<div layout="column" flex=""><div layout="row" layout-align="center center" ng-if="vm.loading"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div><work-editor ng-if="!vm.loading" ng-model="vm.work"></work-editor><div layout="row" layout-align="end"><md-button class="md-raised md-warn" ng-click="vm.delete()">Delete</md-button><md-button class="md-raised md-primary" ng-click="vm.save()">Save</md-button></div></div>'),t.put("app/work/work.html",'<nav layout="row" layout-padding=""><ol class="breadcrumbs" flex=""><li>{{vm.bcTitle.title}}{{vm.bcTitle && vm.bcTitle.subtitle ? \': \' : \'\'}}{{vm.bcTitle.subTitle}}</li></ol></nav><div layout="row" layout-padding=""><div layout="column" flex="60"><section class="content citation"><div layout="row"><h2 class="content-heading">Bibliographic Information</h2></div><p><span class="authors" ng-if="vm.work.authors && vm.work.authors.length > 0"><span class="author" ng-repeat="author in vm.work.authors">{{author.lastName}}{{author.lastName && author.firstName ? \', \' : \'\'}}{{author.firstName}}.</span></span> <span class="title" ng-if="vm.title">{{vm.title.title}}{{vm.title.title && vm.title.subtitle ? \': \' : \'\'}}{{vm.title.subtitle}}.</span></p></section><section class="content summary"><div layout="row"><h2 class="content-heading">Summary</h2></div><p ng-if="vm.work.summary" ng-bind-html="vm.work.summary"></p></section><section class="content editions"><div layout="row"><h2 class="content-heading">Editions</h2></div><md-list><md-list-item ng-repeat="edition in vm.work.editions" ui-sref="root.edition({workId: vm.work.id, editionId: edition.id})"><span>{{edition.editionName}}</span></md-list-item></md-list></section></div><div layout="column" flex="40"><section class="content references"><div layout="row"><h2 class="content-heading">Relationships</h2></div><p>Coming soon</p></section><section class="content copies"><div layout="row"><h2 class="content-heading">Digital Copies</h2><span flex=""></span><md-button class="md-icon-button" ng-click="vm.addCopy($event)"><md-icon>add</md-icon></md-button></div><md-list><md-list-item ng-repeat="copy in vm.work.copies" ng-click="vm.editCopy(copy, $event)"><span>{{copy.title}}</span><md-button class="md-secondary md-icon-button md-warn" ng-click="vm.deleteCopy(copy, $event)"><md-icon>delete</md-icon></md-button></md-list-item></md-list></section></div></div>'),t.put("app/bulk/components/author-ref-editor/author-ref-editor.html",'<div layout="row"><md-input-container><label>role</label><md-select ng-model="ref.role" required=""><md-option value="author">author</md-option><md-option value="editor">editor</md-option><md-option value="translator">translator</md-option><md-option value="other">other</md-option></md-select></md-input-container><md-input-container flex=""><label>first name</label> <input type="text" ng-model="ref.firstName"></md-input-container><md-input-container flex=""><label>last name</label> <input type="text" ng-model="ref.lastName"></md-input-container></div>'),t.put("app/bulk/components/copy-editor/copy-editor.html",'<ng-form name="copyForm" layout="column" flex=""><md-input-container><label for="title">Title</label> <input type="text" name="title" id="title" ng-model="copy.title"></md-input-container><div layout="row"><md-input-container><label for="type">Type</label><md-select name="type" id="type" ng-model="copy.type" required="" ng-change="vm.setProperties(copy.type, copyUrl)"><md-option ng-repeat="handler in vm.refHandlers" value="{{handler.id}}">{{handler.display}}</md-option></md-select></md-input-container><md-input-container flex=""><label for="url">URL</label> <input type="url" name="url" id="url" ng-model="copyUrl" ng-change="vm.setProperties(copy.type, copyUrl)"></md-input-container></div><summary-editor ng-model="copy.summary" flex=""></summary-editor><md-input-container><label for="rights">Description of Rights</label> <input type="text" name="rights" id="rights" ng-model="copy.rights"></md-input-container></ng-form>'),t.put("app/bulk/components/date-editor/date-editor.html",'<div layout="row"><md-input-container flex=""><label>date</label> <input type="text" ng-model="date.description"></md-input-container><md-input-container flex=""><label>ISO-8601 date</label> <input type="datetime" ng-model="date.calendar"></md-input-container></div>'),t.put("app/bulk/components/edition-editor/edition-editor.html",'<div layout="row"><md-input-container flex=""><label>edition name</label> <input type="text" ng-model="edition.editionName" required=""></md-input-container></div><section class="publication" layout="column"><md-toolbar class="md-hue-3"><div class="md-toolbar-tools"><h2>Publication Information</h2></div></md-toolbar><publication-info-editor ng-model="edition.publicationInfo" flex=""></publication-info-editor></section><section class="titles" layout="column"><md-toolbar class="md-hue-3"><div class="md-toolbar-tools"><h2>Titles</h2><span flex=""></span><md-button class="md-icon-button" ng-click="edition.titles.push({})"><md-icon>add</md-icon></md-button></div></md-toolbar><div class="title" layout="row" ng-repeat="title in edition.titles"><title-editor ng-model="title" flex=""></title-editor><md-input-container><md-button class="md-icon-button md-warn" ng-click="edition.titles.splice($index, 1)"><md-icon>delete</md-icon></md-button></md-input-container></div></section><section class="authors" layout="column"><md-toolbar class="md-hue-3"><div class="md-toolbar-tools"><h2>Authors</h2><span flex=""></span><md-button class="md-icon-button" ng-click="edition.authors.push({})"><md-icon>add</md-icon></md-button></div></md-toolbar><div class="author" layout="row" ng-repeat="author in edition.authors"><author-ref-editor ng-model="author" flex=""></author-ref-editor><md-input-container><md-button class="md-icon-button md-warn" ng-click="edition.authors.splice($index, 1)"><md-icon>delete</md-icon></md-button></md-input-container></div></section><section class="authors other-authors" layout="column"><md-toolbar class="md-hue-3"><div class="md-toolbar-tools"><h2>Other Authors</h2><span flex=""></span><md-button class="md-icon-button" ng-click="edition.otherAuthors.push({})"><md-icon>add</md-icon></md-button></div></md-toolbar><div class="author other-author" layout="row" ng-repeat="author in edition.otherAuthors"><author-ref-editor ng-model="author" flex=""></author-ref-editor><md-input-container><md-button class="md-icon-button md-warn" ng-click="edition.otherAuthors.splice($index, 1)"><md-icon>delete</md-icon></md-button></md-input-container></div></section><section class="summary"><h2>Summary</h2><summary-editor ng-model="edition.summary" flex=""></summary-editor></section><section class="volumes"><md-toolbar class="md-hue-3"><div class="md-toolbar-tools"><h2>Volumes</h2><span flex=""></span><md-button class="md-icon-button" ng-click="vm.createVolume()"><md-icon>add</md-icon></md-button></div></md-toolbar><md-whiteframe class="volume" layout="column" layout-margin="" ng-repeat="volume in vm.volumes" ng-class="{\'md-whiteframe-2dp\': !volume.focused, \'md-whiteframe-8dp\': volume.focused}"><h3 layout="row"><div flex="" layout="row" layout-align="start center" ng-click="volume.focused = !volume.focused"><md-icon>{{ edition.focused ? \'expand_less\' : \'expand_more\'}}</md-icon><span>Volume {{volume.model.volumeNumber}}</span> <span flex=""></span></div><md-button class="md-icon-button md-warn" ng-click="vm.deleteVolume($index)"><md-icon>delete</md-icon></md-button></h3><div slide-toggle="volume.focused"><volume-editor ng-model="volume.model" flex=""></volume-editor></div></md-whiteframe></section><section class="copies"><md-toolbar class="md-hue-3"><div class="md-toolbar-tools"><h2>Digital Copies</h2><span flex=""></span><md-button class="md-icon-button" ng-click="edition.copies.push({})"><md-icon>add</md-icon></md-button></div></md-toolbar><div class="copy" layout="column" ng-repeat="copy in edition.copies"><div layout="row"><copy-editor ng-model="copy" flex=""></copy-editor><md-button class="md-icon-button md-warn" ng-click="edition.copies.splice($index, 1)"><md-icon>delete</md-icon></md-button></div></div></section>'),
t.put("app/bulk/components/publication-info-editor/publication-info-editor.html",'<div layout="row"><md-input-container flex=""><label>publisher</label> <input type="text" ng-model="pubInfo.publisher"></md-input-container><md-input-container flex=""><label>location</label> <input type="text" ng-model="pubInfo.place"></md-input-container><date-editor ng-model="pubInfo.date" flex=""></date-editor></div>'),t.put("app/bulk/components/summary-editor/summary-editor.html",'<p>TODO: summary editor</p><div ng-bind-html="summary"></div>'),t.put("app/bulk/components/title-editor/title-editor.html",'<div layout="row"><md-input-container><label>type</label><md-select ng-model="title.type" required=""><md-option value="bibliographic">bibliographic</md-option><md-option value="canonical">canonical</md-option><md-option value="short">short</md-option></md-select></md-input-container><md-input-container flex=""><label>title</label> <input type="text" ng-model="title.title" required=""><div ng-switch="title.type"><small ng-switch-when="bibliographic">the full title as published on the work</small> <small ng-switch-when="canonical">title by which the work is commonly known in the academic realm</small> <small ng-switch-when="short">shortened title coloquially used by the public</small></div></md-input-container><md-input-container flex=""><label>subtitle</label> <input type="text" ng-model="title.subtitle"></md-input-container></div>'),t.put("app/bulk/components/volume-editor/volume-editor.html",'<div layout="row"><md-input-container flex=""><label>volume number</label> <input type="text" ng-model="volume.volumeNumber" required=""></md-input-container></div><section class="publication" layout="column"><h2>Publication Information</h2><publication-info-editor ng-model="volume.publicationInfo"></publication-info-editor></section><section class="titles" layout="column"><h2 layout="row"><span flex="">Titles</span><md-button class="md-icon-button" ng-click="volume.titles.push({})"><md-icon>add</md-icon></md-button></h2><div class="title" layout="row" ng-repeat="title in volume.titles"><title-editor ng-model="title" flex=""></title-editor><md-input-container><md-button class="md-icon-button md-warn" ng-click="volume.titles.splice($index, 1)"><md-icon>delete</md-icon></md-button></md-input-container></div></section><section class="authors" layout="column"><h2 layout="row"><span flex="">Authors</span><md-button class="md-icon-button" ng-click="volume.authors.push({})"><md-icon>add</md-icon></md-button></h2><div class="author" layout="row" ng-repeat="author in volume.authors"><author-ref-editor ng-model="author" flex=""></author-ref-editor><md-input-container><md-button class="md-icon-button md-warn" ng-click="volume.authors.splice($index, 1)"><md-icon>delete</md-icon></md-button></md-input-container></div></section><section class="authors other-authors" layout="column"><md-toolbar class="md-hue-3"><div class="md-toolbar-tools"><h2>Other Authors</h2><span flex=""></span><md-button class="md-icon-button" ng-click="volume.otherAuthors.push({})"><md-icon>add</md-icon></md-button></div></md-toolbar><div class="author other-author" layout="row" ng-repeat="author in volume.otherAuthors"><author-ref-editor ng-model="author" flex=""></author-ref-editor><md-input-container><md-button class="md-icon-button md-warn" ng-click="volume.otherAuthors.splice($index, 1)"><md-icon>delete</md-icon></md-button></md-input-container></div></section><section class="summary"><h2>Summary</h2><summary-editor ng-model="volume.summary" flex=""></summary-editor></section><section class="copies"><md-toolbar class="md-hue-3"><div class="md-toolbar-tools"><h2>Digital Copies</h2><span flex=""></span><md-button class="md-icon-button" ng-click="volume.copies.push({})"><md-icon>add</md-icon></md-button></div></md-toolbar><div class="copy" layout="column" ng-repeat="copy in volume.copies"><div layout="row"><copy-editor ng-model="copy" flex=""></copy-editor><md-button class="md-icon-button md-warn" ng-click="volume.copies.splice($index, 1)"><md-icon>delete</md-icon></md-button></div></div></section>'),t.put("app/bulk/components/work-editor/work-editor-item.html",'<div layout="row" layout-align="center center" ng-if="!vm.loaded"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div><div ng-if="vm.loaded"><work-editor ng-model="vm.work"></work-editor></div>'),t.put("app/bulk/components/work-editor/work-editor.html",'<section class="titles" layout="column"><md-toolbar class="md-hue-3"><div class="md-toolbar-tools"><h2>Titles</h2><span flex=""></span><md-button class="md-icon-button" ng-click="work.titles.push({})"><md-icon>add</md-icon></md-button></div></md-toolbar><div class="title" layout="row" ng-repeat="title in work.titles"><title-editor ng-model="title" flex=""></title-editor><md-input-container><md-button class="md-icon-button md-warn" ng-click="work.titles.splice($index, 1)"><md-icon>delete</md-icon></md-button></md-input-container></div></section><section class="authors" layout="column"><md-toolbar class="md-hue-3"><div class="md-toolbar-tools"><h2>Authors</h2><span flex=""></span><md-button class="md-icon-button" ng-click="work.authors.push({})"><md-icon>add</md-icon></md-button></div></md-toolbar><div class="author" layout="row" ng-repeat="author in work.authors"><author-ref-editor ng-model="author" flex=""></author-ref-editor><md-input-container><md-button class="md-icon-button md-warn" ng-click="work.authors.splice($index, 1)"><md-icon>delete</md-icon></md-button></md-input-container></div></section><section class="authors other-authors" layout="column"><md-toolbar class="md-hue-3"><div class="md-toolbar-tools"><h2>Other Authors</h2><span flex=""></span><md-button class="md-icon-button" ng-click="work.otherAuthors.push({})"><md-icon>add</md-icon></md-button></div></md-toolbar><div class="author other-author" layout="row" ng-repeat="author in work.otherAuthors"><author-ref-editor ng-model="author" flex=""></author-ref-editor><md-input-container><md-button class="md-icon-button md-warn" ng-click="work.otherAuthors.splice($index, 1)"><md-icon>delete</md-icon></md-button></md-input-container></div></section><section class="summary"><md-toolbar class="md-hue-3"><div class="md-toolbar-tools"><h2>Summary</h2></div></md-toolbar><summary-editor ng-model="work.summary" flex=""></summary-editor></section><section class="editions"><md-toolbar class="md-hue-3"><div class="md-toolbar-tools"><h2>Editions</h2><span flex=""></span><md-button class="md-icon-button" ng-click="vm.createEdition()"><md-icon>add</md-icon></md-button></div></md-toolbar><md-whiteframe class="edition" layout="column" layout-margin="" ng-repeat="edition in vm.editions" ng-class="{ \'md-whiteframe-2dp\': !edition.focused, \'md-whiteframe-8dp\': edition.focused }"><h3 layout="row"><div flex="" layout="row" layout-align="start center" ng-click="edition.focused = !edition.focused"><md-icon>{{ edition.focused ? \'expand_less\' : \'expand_more\'}}</md-icon><span>{{edition.model.editionName}}</span> <span flex=""></span></div><md-button class="md-icon-button md-warn" ng-click="vm.deleteEdition($index)"><md-icon>delete</md-icon></md-button></h3><div slide-toggle="edition.focused"><edition-editor ng-model="edition.model" flex=""></edition-editor></div></md-whiteframe></section><section class="copies"><md-toolbar class="md-hue-3"><div class="md-toolbar-tools"><h2>Digital Copies</h2><span flex=""></span><md-button class="md-icon-button" ng-click="work.copies.push({})"><md-icon>add</md-icon></md-button></div></md-toolbar><div class="copy" layout="column" ng-repeat="copy in work.copies"><div layout="row"><copy-editor ng-model="copy" flex=""></copy-editor><md-button class="md-icon-button md-warn" ng-click="work.copies.splice($index, 1)"><md-icon>delete</md-icon></md-button></div></div></section>')}]);
//# sourceMappingURL=../maps/scripts/app-b3a147880e.js.map
